/*!@license 
 * Indigo Studio HTML Player. 
 * Version: Dragon.Release_20180313.2 - 10.2.0.98
 * Date: 2018-03-13T17:49:16
 * Copyright (c) 2011-2013 Infragistics Inc.  
 * http://www.infragistics.com/
 */

/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */

/*
* svg.getBBox code from https://code.google.com/p/svg-edit/.
* Package: svgedit.utilities
*
* Licensed under the MIT License
*
* Copyright(c) 2010 Alexis Deveria
* Copyright(c) 2010 Jeff Schiller
*/

// Copyright 2013 jQuery Pina Desing http://pina-design.com/ 

/**
 * @license RequireJS text 2.0.5+ Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/** @license
 * RequireJS plugin for loading JSON files
 * - depends on Text plugin and it was HEAVILY "inspired" by it as well.
 * Author: Miller Medeiros
 * Version: 0.3.1 (2013/02/04)
 * Released under the MIT license
 * Modifications to minimize & validate JSON when building.
 */

/*! Hammer.JS - v1.0.6dev - 2013-04-10
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

/*!
 * VERSION: 1.11.4
 * DATE: 2014-01-18
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

/*!
 * VERSION: beta 1.9.3
 * DATE: 2013-04-02
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/*!
 * VERSION: beta 1.2.0
 * DATE: 2013-03-01
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/* 
Font Face Observer is licensed under the BSD License. 
Copyright 2014-2016 Bram Stein. 
All rights reserved. 
*/

/*!
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */

/*! HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */

/*! jQuery UI - v1.10.1 - 2013-02-21
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.tabs.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */

/*!@license
 * Infragistics.Web.ClientUI Util functions 13.1.20131.2042
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 * 
 * util functions that extend the jQuery  namespace 
 * if something is not already available in jQuery, please add it here. 
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *  jquery-1.4.4.js
 *
 */

/*!@license
* Infragistics.Web.ClientUI data source localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
 * Infragistics.Web.ClientUI Data Binding Plugin 13.1.20131.2042
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 * 
 * igDataSource provides the following functionality:
 * - read and parse local XML , JSON , and HTML data
 * - normalize / transform the above data according to a schema
 * - data type conversion (date, string, number, etc.)
 * - define relationships between two and more flat data sources - with primary/foreign keys, etc
 * - build URL params for requests that get remote data 
 * - in case of scenarios such as paging, understand and prase the response - expect that it's in a predefined format that can be additionall configured by the developer
 * - get data from WCF services  
 * - ability to combine local with remote functionality  
 * - queueing AJAX requests
 *	paging,filtering (searching), and sorting functionality that are control-independent are also implemented here
 *	the idea of this code is to serve as a data-source abstraction layer (client-side data source control)
 *	that may well be used by all other client-side controls , such as dropdown, tree, menu, etc. 
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *	jquery-1.4.4.js
 *	infragistics.util.js
 *
 */

/*!@license
* Infragistics.Web.ClientUI templating localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
 * Infragistics.Web.ClientUI Templating Engine 13.1.20131.2042
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 * 
 * Engine used for data templating
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *
 */

/*!@license
* Infragistics.Web.ClientUI shared localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
 * Infragistics.Web.ClientUI jQuery Shared 13.1.20131.2042
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on:
 *	jquery-1.4.2.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.util.js
 */

/*!@license
* Infragistics.Web.ClientUI Scroll 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
*/

/*!@license
* Infragistics.Web.ClientUI Grid localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
 * Infragistics.Web.ClientUI Grid 13.1.20131.2042
 *
 * Copyright (c) 2011-2013 Infragistics Inc.
 *
 * http://www.infragistics.com/
 *
 * Depends on: 
 *	jquery-1.4.4.js
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	infragistics.dataSource.js
 *	infragistics.ui.shared.js
 *	infragistics.util.js
 */

/*!@license
* Infragistics.Web.ClientUI Editors localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
* Infragistics.Web.ClientUI Editors 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
* jquery.ui.datepicker.js
* infragistics.util.js
*
* Example to use:
*	<script type="text/javascript">
*	$(function () {
*		$('#editor1').igEditor();
*	});
*	</script>
*	<input id="editor1" type="text" />
*/

/*!@license
* Infragistics.Web.ClientUI Validator localization resources 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
*/

/*!@license
* Infragistics.Web.ClientUI Editors 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js

* Example to use:
*	<script type="text/javascript">
*	$(function () {
*		$('#text1').igValidator({ minLength: 3 });
*	});
*	</script>
*	<input id="text1" type="text" />
*/

/*!@license
* Infragistics.Web.ClientUI Grid Editing 13.1.20131.2042
*
* Copyright (c) 2011-2013 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends on:
* jquery-1.4.4.js
* jquery.ui.core.js
* jquery.ui.widget.js
* infragistics.ui.grid.framework.js
* infragistics.ui.editors.js
* infragistics.ui.validator.js
* infragistics.ui.combo.js
* infragistics.ui.rating.js
* infragistics.ui.shared.js
* infragistics.dataSource.js
* infragistics.util.js
*/

/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */

!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e="length"in t&&t.length,i=Z.type(t);return"function"!==i&&!Z.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Z.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(at.test(e))return Z.filter(e,t,i);e=Z.filter(e,t)}return Z.grep(t,function(t){return q.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=ft[t]={};return Z.each(t.match(pt)||[],function(t,i){e[i]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(bt,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:yt.test(i)?Z.parseJSON(i):i)}catch(t){}_t.set(t,e,i)}else i=void 0;return i}function u(){return!0}function h(){return!1}function d(){try{return Q.activeElement}catch(t){}}function c(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;i<n;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function m(t,e){var i,n,r,o,s,a,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),s=vt.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)Z.event.add(e,r,u[r][i])}_t.hasData(t)&&(a=_t.access(t),l=Z.extend({},a),_t.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function _(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Tt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function y(e,i){var n,r=Z(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Z.css(r[0],"display");return r.detach(),o}function b(t){var e=Q,i=Ht[t];return i||(i=y(t,e),"none"!==i&&i||(Bt=(Bt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),i=y(t,e),Bt.detach()),Ht[t]=i),i}function w(t,e,i){var n,r,o,s,a=t.style;return i=i||zt(t),i&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),jt.test(s)&&Vt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=Kt.length;r--;)if(e=Kt[r]+i,e in t)return e;return n}function T(t,e,i){var n=Ut.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=Z.css(t,i+xt[o],!0,r)),n?("content"===i&&(s-=Z.css(t,"padding"+xt[o],!0,r)),"margin"!==i&&(s-=Z.css(t,"border"+xt[o]+"Width",!0,r))):(s+=Z.css(t,"padding"+xt[o],!0,r),"padding"!==i&&(s+=Z.css(t,"border"+xt[o]+"Width",!0,r)));return s}function k(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=zt(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=w(t,e,o),(r<0||null==r)&&(r=t.style[e]),jt.test(r))return r;n=s&&(Y.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,i||(s?"border":"content"),n,o)+"px"}function P(t,e){for(var i,n,r,o=[],s=0,a=t.length;s<a;s++)n=t[s],n.style&&(o[s]=vt.get(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Ct(n)&&(o[s]=vt.access(n,"olddisplay",b(n.nodeName)))):(r=Ct(n),"none"===i&&r||vt.set(n,"olddisplay",r?i:Z.css(n,"display"))));for(s=0;s<a;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function E(t,e,i,n,r){return new E.prototype.init(t,e,i,n,r)}function I(){return setTimeout(function(){Yt=void 0}),Yt=Z.now()}function D(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=xt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function A(t,e,i){for(var n,r=(ie[e]||[]).concat(ie["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function $(t,e,i){var n,r,o,s,a,l,u,h,d=this,c={},p=t.style,f=t.nodeType&&Ct(t),g=vt.get(t,"fxshow");i.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=Z.css(t,"display"),h="none"===u?vt.get(t,"olddisplay")||b(t.nodeName):u,"inline"===h&&"none"===Z.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Jt.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;f=!0}c[n]=g&&g[n]||Z.style(t,n)}else u=void 0;if(Z.isEmptyObject(c))"inline"===("none"===u?b(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=vt.access(t,"fxshow",{}),o&&(g.hidden=!f),f?Z(t).show():d.done(function(){Z(t).hide()}),d.done(function(){var e;vt.remove(t,"fxshow");for(e in c)Z.style(t,e,c[e])});for(n in c)s=A(f?g[n]:0,n,d),n in g||(g[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function O(t,e){var i,n,r,o,s;for(i in t)if(n=Z.camelCase(i),r=e[n],o=t[i],Z.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=Z.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function M(t,e,i){var n,r,o=0,s=ee.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Yt||I(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,i]),o<1&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Yt||I(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),h=u.props;for(O(h,u.opts.specialEasing);o<s;o++)if(n=ee[o].call(u,t,h,u.opts))return n;return Z.map(h,A,u),Z.isFunction(u.opts.start)&&u.opts.start.call(t,u),Z.fx.timer(Z.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(pt)||[];if(Z.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function R(t,e,i,n){function r(a){var l;return o[a]=!0,Z.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===ye;return r(e.dataTypes[0])||!o["*"]&&r("*")}function N(t,e){var i,n,r=Z.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Z.extend(!0,t,n),t}function F(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function B(t,e,i,n){var r,o,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function H(t,e,i,n){var r;if(Z.isArray(e))Z.each(e,function(e,r){i||Te.test(t)?n(t,r):H(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(r in e)H(t+"["+r+"]",e[r],i,n)}function V(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var j=[],z=j.slice,W=j.concat,U=j.push,q=j.indexOf,G={},X=G.toString,K=G.hasOwnProperty,Y={},Q=t.document,J="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:j.sort,splice:j.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(u&&n&&(Z.isPlainObject(n)||(r=Z.isArray(n)))?(r?(r=!1,o=i&&Z.isArray(i)?i:[]):o=i&&Z.isPlainObject(i)?i:{},s[e]=Z.extend(u,o,n)):void 0!==n&&(s[e]=n));return s},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===Z.type(t)&&!t.nodeType&&!Z.isWindow(t)&&!(t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?G[X.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,s=t.length,a=i(t);if(n){if(a)for(;o<s&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(a)for(;o<s&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:q.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;o<s;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),l=[];if(a)for(;o<s;o++)r=e(t[o],o,n),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&l.push(r);return W.apply([],l)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t))return n=z.call(arguments,2),r=function(){return t.apply(e||this,n.concat(z.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r},now:Date.now,support:Y}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,i,n){var r,o,s,a,l,u,d,p,f,g;if((e?e.ownerDocument||e:H)!==$&&A(e),e=e||$,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&M){if(11!==a&&(r=_t.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&F(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return J.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&w.getElementsByClassName)return J.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&(!L||!L.test(t))){if(p=d=B,f=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=S(t),(d=e.getAttribute("id"))?p=d.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+c(u[l]);f=yt.test(t)&&h(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(i,f.querySelectorAll(g)),i}catch(t){}finally{d||e.removeAttribute("id")}}}return P(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function r(t){var e=$.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function c(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=j++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,u=[V,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[B]||(e[B]={}),(a=l[n])&&a[0]===V&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function m(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),u&&e.push(a)));return s}function v(t,e,i,r,o,s){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,s)),n(function(n,s,a,l){var u,h,d,c=[],p=[],f=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),_=!t||!n&&e?v:m(v,c,t,a,l),y=i?o||(n?t:f||r)?[]:s:_;if(i&&i(_,y,a,l),r)for(u=m(y,p),r(u,[],a,l),h=u.length;h--;)(d=u[h])&&(y[p[h]]=!(_[p[h]]=d));if(n){if(o||t){if(o){for(u=[],h=y.length;h--;)(d=y[h])&&u.push(_[h]=d);o(null,y=[],u,l)}for(h=y.length;h--;)(d=y[h])&&(u=o?tt(n,d):c[h])>-1&&(n[u]=!(s[u]=d))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):J.apply(s,y)})}function _(t){for(var e,i,n,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),h=[function(t,i,n){var r=!o&&(n||i!==E)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];a<r;a++)if(i=x.relative[t[a].type])h=[p(f(h),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;n<r&&!x.relative[t[n].type];n++);return v(a>1&&f(h),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),i,a<n&&_(t.slice(a,n)),n<r&&_(t=t.slice(n)),n<r&&c(t))}h.push(i)}return f(h)}function y(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,u){var h,d,c,p=0,f="0",g=n&&[],v=[],_=E,y=n||o&&x.find.TAG("*",u),b=V+=null==_?1:Math.random()||.1,w=y.length;for(u&&(E=s!==$&&s);f!==w&&null!=(h=y[f]);f++){if(o&&h){for(d=0;c=t[d++];)if(c(h,s,a)){l.push(h);break}u&&(V=b)}r&&((h=!c&&h)&&p--,n&&g.push(h))}if(p+=f,r&&f!==p){for(d=0;c=i[d++];)c(g,v,s,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Y.call(l));v=m(v)}J.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return u&&(V=b,E=_),g};return r?n(s):s}var b,w,x,C,T,S,k,P,E,I,D,A,$,O,M,L,R,N,F,B="sizzle"+1*new Date,H=t.document,V=0,j=0,z=i(),W=i(),U=i(),q=function(t,e){return t===e&&(D=!0),0},G=1<<31,X={}.hasOwnProperty,K=[],Y=K.pop,Q=K.push,J=K.push,Z=K.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ct=new RegExp(st),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ct=function(){A()};try{J.apply(K=Z.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(t){J={apply:K.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==$&&9===n.nodeType&&n.documentElement?($=n,O=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ct,!1):i.attachEvent&&i.attachEvent("onunload",Ct)),M=!T(n),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName),w.getById=r(function(t){return O.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(M)return e.getElementsByClassName(t)},R=[],L=[],(w.qsa=vt.test(n.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=vt.test(N=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){w.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),R.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),R=R.length&&new RegExp(R.join("|")),e=vt.test(O.compareDocumentPosition),F=e||vt.test(O.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return D=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===H&&F(H,t)?-1:e===n||e.ownerDocument===H&&F(H,e)?1:I?tt(I,t)-tt(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return D=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:I?tt(I,t)-tt(I,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===H?-1:u[r]===H?1:0},n):$},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==$&&A(t),i=i.replace(dt,"='$1']"),w.matchesSelector&&M&&(!R||!R.test(i))&&(!L||!L.test(i)))try{var n=N.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,$,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==$&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==$&&A(t);var i=x.attrHandle[e.toLowerCase()],n=i&&X.call(x.attrHandle,e.toLowerCase())?i(t,e,!M):void 0;return void 0!==n?n:w.attributes||!M?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(D=!w.detectDuplicates,I=!w.sortStable&&t.slice(0),t.sort(q),D){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return I=null,t},C=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,h,d,c,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),_=!l&&!a;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&_){for(h=m[B]||(m[B]={}),u=h[t]||[],p=u[0]===V&&u[1],c=u[0]===V&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(c=p=0)||f.pop();)if(1===d.nodeType&&++c&&d===e){h[t]=[V,p,c];break}}else if(_&&(u=(e[B]||(e[B]={}))[t])&&u[0]===V)c=u[1];else for(;(d=++p&&d&&d[g]||(c=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++c||(_&&((d[B]||(d[B]={}))[t]=[V,c]),d!==e)););return c-=r,c===n||c%n===0&&c/n>=0}}},PSEUDO:function(t,i){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=k(t.replace(lt,"$1"));return r[B]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var i;do if(i=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[i<0?i+e:i]}),even:u(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=e.tokenize=function(t,i){var n,r,o,s,a,l,u,h=W[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],u=x.preFilter;a;){n&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ht.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(lt," ")}),a=a.slice(n.length));for(s in x.filter)!(r=ft[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},k=e.compile=function(t,e){var i,n=[],r=[],o=U[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)o=_(e[i]),o[B]?n.push(o):r.push(o);o=U(t,y(r,n)),o.selector=t}return o},P=e.select=function(t,e,i,n){var r,o,s,a,l,u="function"==typeof t&&t,d=!n&&S(t=u.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&M&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(wt,xt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(wt,xt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&c(o),!t)return J.apply(i,n),i;break}}return(u||k(t,d))(n,e,!M,i,yt.test(t)&&h(e.parentNode)||e),i},w.sortStable=B.split("").sort(q).join("")===B,w.detectDuplicates=!!D,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var ot=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){
for(e=0;e<i;e++)if(Z.contains(r[e],this))return!0}));for(e=0;e<i;e++)Z.find(t,r[e],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ot.test(t)?Z(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=Z.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),st.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};ht.prototype=Z.fn,lt=Z(Q);var dt=/^(?:parents|prev(?:Until|All))/,ct={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=ot.test(t)||"string"!=typeof t?Z(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?q.call(Z(t),this[0]):q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var r=Z.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),this.length>1&&(ct[t]||Z.unique(r),dt.test(t)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};Z.Callbacks=function(t){t="string"==typeof t?ft[t]||o(t):Z.extend({},t);var e,i,n,r,s,a,l=[],u=!t.once&&[],h=function(o){for(e=t.memory&&o,i=!0,a=r||0,r=0,s=l.length,n=!0;l&&a<s;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(u?u.length&&h(u.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function e(i){Z.each(i,function(i,n){var r=Z.type(n);"function"===r?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==r&&e(n)})}(arguments),n?s=l.length:e&&(r=i,h(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(i<=s&&s--,i<=a&&a--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||i&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},r={};return n.pipe=n.then,Z.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=z.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?z.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var gt;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(gt.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(e){return gt||(gt=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),gt.promise(e)},Z.ready.promise();var mt=Z.access=function(t,e,i,n,r,o,s){var a=0,l=t.length,u=null==i;if("object"===Z.type(i)){r=!0;for(a in i)Z.access(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,Z.isFunction(n)||(s=!0),u&&(s?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(Z(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=i;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Z.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),e in s?n=[e,r]:(n=r,n=n in s?[n]:n.match(pt)||[])),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,_t=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Z.extend({hasData:function(t){return _t.hasData(t)||vt.hasData(t)},data:function(t,e,i){return _t.access(t,e,i)},removeData:function(t,e){_t.remove(t,e)},_data:function(t,e,i){return vt.access(t,e,i)},_removeData:function(t,e){vt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=_t.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(o,n,r[n])));vt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){_t.set(this,t)}):mt(this,function(e){var i,n=Z.camelCase(t);if(o&&void 0===e){if(i=_t.get(o,t),void 0!==i)return i;if(i=_t.get(o,n),void 0!==i)return i;if(i=l(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=_t.get(this,n);_t.set(this,n,e),t.indexOf("-")!==-1&&void 0!==i&&_t.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){_t.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=vt.get(t,e),i&&(!n||Z.isArray(i)?n=vt.access(t,e,Z.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,r=i.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return vt.get(t,i)||vt.access(t,i,{empty:Z.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Z.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=vt.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},Tt=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),Y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";Y.focusinBubbles="onfocusin"in t;var kt=/^key/,Pt=/^(?:mouse|pointer|contextmenu)|click/,Et=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,u,h,d,c,p,f,g,m=vt.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Z!==St&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],u=e.length;u--;)a=It.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(d=Z.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=Z.event.special[p]||{},h=Z.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},o),(c=l[p])||(c=l[p]=[],c.delegateCount=0,d.setup&&d.setup.call(t,n,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?c.splice(c.delegateCount++,0,h):c.push(h),Z.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,u,h,d,c,p,f,g,m=vt.hasData(t)&&vt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(pt)||[""],u=e.length;u--;)if(a=It.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=Z.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,c=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=c.length;o--;)h=c[o],!r&&g!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(c.splice(o,1),h.selector&&c.delegateCount--,d.remove&&d.remove.call(t,h));s&&!c.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||Z.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)Z.event.remove(t,p+e[u],i,n,!0);Z.isEmptyObject(l)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,u,h,d,c=[n||Q],p=K.call(e,"type")?e.type:e,f=K.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Et.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Z.expando]?e:new Z.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),d=Z.event.special[p]||{},r||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!r&&!d.noBubble&&!Z.isWindow(n)){for(l=d.delegateType||p,Et.test(l+p)||(s=s.parentNode);s;s=s.parentNode)c.push(s),a=s;a===(n.ownerDocument||Q)&&c.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=c[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||p,h=(vt.get(s,"events")||{})[e.type]&&vt.get(s,"handle"),h&&h.apply(s,i),h=u&&s[u],h&&h.apply&&Z.acceptData(s)&&(e.result=h.apply(s,i),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(c.pop(),i)!==!1||!Z.acceptData(n)||u&&Z.isFunction(n[p])&&!Z.isWindow(n)&&(a=n[u],a&&(n[u]=null),Z.event.triggered=p,n[p](),Z.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,n,r,o,s=[],a=z.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=Z.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,n=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;i<a;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Q,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Pt.test(r)?this.mouseHooks:kt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===d()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:h):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||Z.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),Y.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=vt.access(n,e);r||n.addEventListener(t,i,!0),vt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=vt.access(n,e)-1;r?vt.access(n,e,r):(n.removeEventListener(t,i,!0),vt.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=h;else if(!n)return this;return 1===r&&(o=n,n=function(t){return Z().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=h),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return Z.event.trigger(t,e,i,!0)}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,At=/<([\w:]+)/,$t=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,Z.extend({clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=v(a),o=v(t),n=0,r=o.length;n<r;n++)_(o[n],s[n]);if(e)if(i)for(o=o||v(t),s=s||v(a),n=0,r=o.length;n<r;n++)m(o[n],s[n]);else m(t,a);return s=v(a,"script"),s.length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,u,h=e.createDocumentFragment(),d=[],c=0,p=t.length;c<p;c++)if(r=t[c],r||0===r)if("object"===Z.type(r))Z.merge(d,r.nodeType?[r]:r);else if($t.test(r)){for(o=o||h.appendChild(e.createElement("div")),s=(At.exec(r)||["",""])[1].toLowerCase(),a=Ft[s]||Ft._default,o.innerHTML=a[1]+r.replace(Dt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Z.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(e.createTextNode(r));for(h.textContent="",c=0;r=d[c++];)if((!n||Z.inArray(r,n)===-1)&&(l=Z.contains(r.ownerDocument,r),o=v(h.appendChild(r),"script"),l&&g(o),i))for(u=0;r=o[u++];)Lt.test(r.type||"")&&i.push(r);return h},cleanData:function(t){for(var e,i,n,r,o=Z.event.special,s=0;void 0!==(i=t[s]);s++){if(Z.acceptData(i)&&(r=i[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(n in e.events)o[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle);vt.cache[r]&&delete vt.cache[r]}delete _t.cache[i[_t.expando]]}}}),Z.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=c(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=c(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!Ft[(At.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var i,n,r,o,s,a,l=0,u=this.length,h=this,d=u-1,c=t[0],g=Z.isFunction(c);if(g||u>1&&"string"==typeof c&&!Y.checkClone&&Mt.test(c))return this.each(function(i){var n=h.eq(i);g&&(t[0]=c.call(this,i,n.html())),n.domManip(t,e)});if(u&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Z.map(v(i,"script"),p),o=r.length;l<u;l++)s=i,l!==d&&(s=Z.clone(s,!0,!0),o&&Z.merge(r,v(s,"script"))),e.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Z.map(r,f),l=0;l<o;l++)s=r[l],Lt.test(s.type||"")&&!vt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Nt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],r=Z(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),Z(r[s])[e](i),U.apply(n,i.get());return this.pushStack(n)}});var Bt,Ht={},Vt=/^margin/,jt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),zt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(o)}var i,n,r=Q.documentElement,o=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(Y,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(Q.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(o),s.removeChild(i),e}}))}(),Z.swap=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r};var Wt=/^(none|table(?!-c[ea]).+)/,Ut=new RegExp("^("+wt+")(.*)$","i"),qt=new RegExp("^([+-])=("+wt+")","i"),Gt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=w(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Z.camelCase(e),l=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=C(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=qt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||Z.cssNumber[a]||(i+="px"),Y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var r,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=C(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=w(t,e,n)),"normal"===r&&e in Xt&&(r=Xt[e]),""===i||i?(o=parseFloat(r),i===!0||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){if(i)return Wt.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Gt,function(){return k(t,e,n)}):k(t,e,n)},set:function(t,i,n){var r=n&&zt(t);return T(t,i,n?S(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=x(Y.reliableMarginRight,function(t,e){if(e)return Z.swap(t,{display:"inline-block"},w,[t,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+xt[n]+e]=o[n]||o[n-2]||o[0];return r}},Vt.test(t)||(Z.cssHooks[t+e].set=T)}),Z.fn.extend({css:function(t,e){return mt(this,function(t,e,i){var n,r,o={},s=0;if(Z.isArray(e)){for(n=zt(t),r=e.length;s<r;s++)o[e[s]]=Z.css(t,e[s],!1,n);return o}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=E,E.prototype={constructor:E,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var t=E.propHooks[this.prop];return t&&t.get?t.get(this):E.propHooks._default.get(this)},run:function(t){var e,i=E.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=E.prototype.init,Z.fx.step={};var Yt,Qt,Jt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[$],ie={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Zt.exec(e),o=r&&r[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+n)&&Zt.exec(Z.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do a=a||".5",s/=a,Z.style(i.elem,t,s+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};Z.Animation=Z.extend(M,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;n<r;n++)i=t[n],ie[i]=ie[i]||[],ie[i].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Z.isEmptyObject(t),o=Z.speed(e,i,n),s=function(){var e=M(this,Z.extend({},t),o);(r||vt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Z.timers,s=vt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&te.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=vt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Z.timers,s=n?n.length:0;for(i.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));
for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(D(e,!0),t,n,r)}}),Z.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers;for(Yt=Z.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||Z.fx.stop(),Yt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qt||(Qt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qt),Qt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"));t.type="checkbox",Y.checkOn=""!==t.value,Y.optSelected=i.selected,e.disabled=!0,Y.optDisabled=!i.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",Y.radioValue="t"===t.value}();var ne,re,oe=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return mt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===St?Z.prop(t,e,i):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?re:ne)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=Z.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(pt);if(o&&1===t.nodeType)for(;i=o[r++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),re={set:function(t,e,i){return e===!1?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=oe[e]||Z.find.attr;oe[e]=function(t,e,n){var r,o;return n||(o=oe[e],oe[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,oe[e]=o),r}});var se=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return mt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,i,n,r,o,s,a="string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l<u;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Z.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,r,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l<u;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=t?Z.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Z.isFunction(t)?this.each(function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=Z(this),o=t.match(pt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else i!==St&&"boolean"!==i||(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Z.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=Z.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,Z(this).val()):t,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(le,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&(Y.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=Z.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=Z.inArray(n.value,o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){if(Z.isArray(e))return t.checked=Z.inArray(Z(t).val(),e)>=0}},Y.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ue=Z.now(),he=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+t),e};var de=/#.*$/,ce=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,_e={},ye={},be="*/".concat("*"),we=t.location.href,xe=ve.exec(we.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:fe.test(xe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,Z.ajaxSettings),e):N(Z.ajaxSettings,t)},ajaxPrefilter:L(_e),ajaxTransport:L(ye),ajax:function(t,e){function i(t,e,i,s){var l,h,v,_,b,x=e;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,o=s||"",w.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(_=F(d,w,i)),_=B(d,_,w,l),l?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[r]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[r]=b)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=_.state,h=_.data,v=_.error,l=!v)):(v=x,!t&&x||(x="error",t<0&&(t=0))),w.status=t,w.statusText=(e||x)+"",l?f.resolveWith(c,[h,x,w]):f.rejectWith(c,[w,x,v]),w.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,d,l?h:v]),g.fireWith(c,[w,x]),u&&(p.trigger("ajaxComplete",[w,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,u,h,d=Z.ajaxSetup({},e),c=d.context||d,p=d.context&&(c.nodeType||c.jquery)?Z(c):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),m=d.statusCode||{},v={},_={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!s)for(s={};e=pe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=_[i]=_[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(y<2)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return n&&n.abort(e),i(0,e),this}};if(f.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||we)+"").replace(de,"").replace(me,xe[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(pt)||[""],null==d.crossDomain&&(l=ve.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===xe[1]&&l[2]===xe[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xe[3]||("http:"===xe[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),R(_e,d,e,w),2===y)return w;u=Z.event&&d.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ge.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(he.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ce.test(r)?r.replace(ce,"$1_="+ue++):r+(he.test(r)?"&":"?")+"_="+ue++)),d.ifModified&&(Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+be+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)w.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(c,w,d)===!1||2===y))return w.abort();b="abort";for(h in{success:1,error:1,complete:1})w[h](d[h]);if(n=R(ye,d,e,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,n.send(v,i)}catch(t){if(!(y<2))throw t;i(-1,t)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,r){return Z.isFunction(i)&&(r=r||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Z.isFunction(t)?this.each(function(e){Z(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var Ce=/%20/g,Te=/\[\]$/,Se=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,n=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(i in t)H(i,t[i],e,r);return n.join("&").replace(Ce,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Pe.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:i.replace(Se,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ee=0,Ie={},De={0:200,1223:204},Ae=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ie)Ie[t]()}),Y.cors=!!Ae&&"withCredentials"in Ae,Y.ajax=Ae=!!Ae,Z.ajaxTransport(function(t){var e;if(Y.cors||Ae&&!t.crossDomain)return{send:function(i,n){var r,o=t.xhr(),s=++Ee;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete Ie[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(De[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ie[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var $e=[],Oe=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||Z.expando+"_"+ue++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(Oe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Oe,"$1"+r):e.jsonp!==!1&&(e.url+=(he.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,$e.push(r)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Q;var n=st.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],n.childNodes))};var Me=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&Me)return Me.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>=0&&(n=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Le=t.document.documentElement;Z.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,u,h=Z.css(t,"position"),d=Z(t),c={};"static"===h&&(t.style.position="relative"),a=d.offset(),o=Z.css(t,"top"),l=Z.css(t,"left"),u=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,u?(n=d.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):d.css(c)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;if(o)return e=o.documentElement,Z.contains(e,n)?(typeof n.getBoundingClientRect!==St&&(r=n.getBoundingClientRect()),i=V(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Le;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Le})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Z.fn[e]=function(r){return mt(this,function(e,r,o){var s=V(e);return void 0===o?s?s[i]:e[r]:void(s?s.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=x(Y.pixelPosition,function(t,i){if(i)return i=w(t,e),jt.test(i)?Z(t).position()[e]+"px":i})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return mt(this,function(e,i,n){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Z.css(e,i,s):Z.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Re=t.jQuery,Ne=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Ne),e&&t.jQuery===Z&&(t.jQuery=Re),Z},typeof e===St&&(t.jQuery=t.$=Z),Z}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("es6_promise",e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function i(t){q=t}function n(t){G=t}function r(){return function(){return process.nextTick(u)}}function o(){return"undefined"!=typeof U?function(){U(u)}:l()}function s(){var t=0,e=new Y(u),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function a(){var t=new MessageChannel;return t.port1.onmessage=u,function(){return t.port2.postMessage(0)}}function l(){var t=setTimeout;return function(){return t(u,1)}}function u(){for(var t=0;t<W;t+=2){var e=Z[t],i=Z[t+1];e(i),Z[t]=void 0,Z[t+1]=void 0}W=0}function h(){try{var t=require,e=t("vertx");return U=e.runOnLoop||e.runOnContext,o()}catch(t){return l()}}function d(t,e){var i=arguments,n=this,r=new this.constructor(p);void 0===r[et]&&$(r);var o=n._state;return o?!function(){var t=i[o-1];G(function(){return I(o,r,t,n._result)})}():S(n,r,t,e),r}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(p);return w(i,t),i}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(t){return ot.error=t,ot}}function v(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function _(t,e,i){G(function(t){var n=!1,r=v(i,e,function(i){n||(n=!0,e!==i?w(t,i):C(t,i))},function(e){n||(n=!0,T(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&r&&(n=!0,T(t,r))},t)}function y(t,e){e._state===nt?C(t,e._result):e._state===rt?T(t,e._result):S(e,void 0,function(e){return w(t,e)},function(e){return T(t,e)})}function b(t,i,n){i.constructor===t.constructor&&n===d&&i.constructor.resolve===c?y(t,i):n===ot?T(t,ot.error):void 0===n?C(t,i):e(n)?_(t,i,n):C(t,i)}function w(e,i){e===i?T(e,f()):t(i)?b(e,i,m(i)):C(e,i)}function x(t){t._onerror&&t._onerror(t._result),k(t)}function C(t,e){t._state===it&&(t._result=e,t._state=nt,0!==t._subscribers.length&&G(k,t))}function T(t,e){t._state===it&&(t._state=rt,t._result=e,G(x,t))}function S(t,e,i,n){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+nt]=i,r[o+rt]=n,0===o&&t._state&&G(k,t)}function k(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?I(i,n,r,o):r(o);t._subscribers.length=0}}function P(){this.error=null}function E(t,e){try{return t(e)}catch(t){return st.error=t,st}}function I(t,i,n,r){var o=e(n),s=void 0,a=void 0,l=void 0,u=void 0;if(o){if(s=E(n,r),s===st?(u=!0,a=s.error,s=null):l=!0,i===s)return void T(i,g())}else s=r,l=!0;i._state!==it||(o&&l?w(i,s):u?T(i,a):t===nt?C(i,s):t===rt&&T(i,s))}function D(t,e){try{e(function(e){w(t,e)},function(e){T(t,e)})}catch(e){T(t,e)}}function A(){return at++}function $(t){t[et]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function O(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||$(this.promise),z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):T(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function L(t){return new O(this,t).promise}function R(t){var e=this;return new e(z(t)?function(i,n){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(i,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function N(t){var e=this,i=new e(p);return T(i,t),i}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this[et]=A(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&F(),this instanceof H?D(this,t):B())}function V(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=H}var j=void 0;j=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z=j,W=0,U=void 0,q=void 0,G=function(t,e){Z[W]=t,Z[W+1]=e,W+=2,2===W&&(q?q(u):tt())},X="undefined"!=typeof window?window:void 0,K=X||{},Y=K.MutationObserver||K.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),tt=void 0;tt=Q?r():Y?s():J?a():void 0===X&&"function"==typeof require?h():l();var et=Math.random().toString(36).substring(16),it=void 0,nt=1,rt=2,ot=new P,st=new P,at=0;return O.prototype._enumerate=function(){for(var t=this.length,e=this._input,i=0;this._state===it&&i<t;i++)this._eachEntry(e[i],i)},O.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===c){var r=m(t);if(r===d&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(i===H){var o=new i(p);b(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},O.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===it&&(this._remaining--,t===rt?T(n,i):this._result[e]=i),0===this._remaining&&C(n,this._result)},O.prototype._willSettleAt=function(t,e){var i=this;S(t,void 0,function(t){return i._settledAt(nt,e,t)},function(t){return i._settledAt(rt,e,t)})},H.all=L,H.race=R,H.resolve=c,H.reject=N,H._setScheduler=i,H._setAsap=n,H._asap=G,H.prototype={constructor:H,then:d,catch:function(t){return this.then(null,t)}},H.polyfill=V,H.Promise=H,H});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("utils",["require","exports","jquery","es6_promise"],function(t,e,i){"use strict";function n(t,e){return i.extend(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.code=t}return t}();e.ErrorCode=r;var o=function(){function t(t,e,i,n){this.name=t,this.message=e,this.innerError=i,this.code=n}return t.prototype.toString=function(){var t=this.message;return this.innerError&&(t+="\nError:\n"+this.innerError),t},t}();e.Exception=o;var s=function(t){function e(e){return t.call(this,"Invalid argument",e)||this}return __extends(e,t),e}(o);e.ArgumentException=s;var a=function(t){function e(){return t.call(this,"Type Error","Abstract method cannot be called.")||this}return __extends(e,t),e}(o);e.AbstractMethodException=a;var l=function(t){function e(e){return t.call(this,"Invalid operation",e)||this}return __extends(e,t),e}(o);e.InvalidOperationException=l;var u=function(t){function e(e){return t.call(this,"Invalid stylesheet",e)||this}return __extends(e,t),e}(o);e.InvalidStyleSheetException=u;var h=function(t){function e(e){return t.call(this,"Assertion failed",e)||this}return __extends(e,t),e}(o);e.AssertionFailedException=h;var d;!function(t){t[t.Rectangle=0]="Rectangle",t[t.Ellipse=1]="Ellipse"}(d=e.CropShape||(e.CropShape={}));var c=function(){function t(t,e,i){this.size=t,this.rect=e,this.shape=i}return t.zero=function(){return new t({width:0,height:0},{x:0,y:0,width:0,height:0},d.Rectangle)},t.prototype.hasValue=function(){return null!==this.size&&this.size.width>0&&this.size.height>0},t}();e.Crop=c;var p=function(){function t(t,e,i,n){this.left=t,this.top=e,this.right=i,this.bottom=n}return t.prototype.toString=function(){return this.left===this.top&&this.left===this.right&&this.left===this.bottom?""+this.left:[this.left,this.top,this.right,this.bottom].join(",")},t.zero=function(){return new t(0,0,0,0)},t.parse=function(e){var i=e.split(",");if(1===i.length){var n=parseInt(i[0]);return new t(n,n,n,n)}return 4===i.length?new t(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3])):null},t}();e.Thickness=p;var f=function(){function t(t,e,i,n){this.topLeft=t,this.topRight=e,this.bottomRight=i,this.bottomLeft=n}return t.prototype.toString=function(){[this.topLeft,this.topRight,this.bottomLeft,this.bottomRight].join(",")},t.zero=function(){return new t(0,0,0,0)},t.parse=function(t){var e=t.split(",");if(1===e.length){var i=parseInt(e[0]);return{topLeft:i,topRight:i,bottomRight:i,bottomLeft:i}}return 4===e.length?{topLeft:parseInt(e[0]),topRight:parseInt(e[1]),bottomRight:parseInt(e[2]),bottomLeft:parseInt(e[3])}:null},t}();e.Radius=f,e.extend=n;var g;!function(t){function e(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function i(t,e){return{x:t.x+e.x,y:t.y+e.y}}function n(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r(t,e){return{x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}}function o(t){return void 0===t?{x:0,y:0,width:0,height:0}:t?{x:t.x,y:t.y,width:t.width,height:t.height}:t}function s(t){var e=t.split(",");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}function a(t){return"Ellipse"===t?d.Ellipse:d.Rectangle}function l(t){var e=c.zero(),i=t.match(/\[(.*?)\]/g);for(var n in i)i[n]=i[n].replace("[","").replace("]","");return i.length>0&&(e.size=u(i[0]),e.rect=h(i[1]),i.length>2&&(e.shape=a(i[2]))),e}function u(t){var e=t.split(",");return{width:parseFloat(e[0]),height:parseFloat(e[1])}}function h(t){var e=t.split(",");return{x:parseFloat(e[0]),y:parseFloat(e[1]),width:parseFloat(e[2]),height:parseFloat(e[3])}}function p(t,e){if(0===e.width||0===e.height)return 0;var i=t.width/e.width,n=t.height/e.height;return Math.min(i,n)}function f(t){return{x:t.left,y:t.top,width:t.width,height:t.height}}function g(t,e){if(!t)return e;if(!e)return t;var i=Math.min(t.x,e.x),n=Math.min(t.y,e.y),r=Math.max(t.x+t.width,e.x+e.width),o=Math.max(t.y+t.height,e.y+e.height);return{x:i,y:n,width:r-i,height:o-n}}t.distance=e,t.add=i,t.sub=n,t.translate=r,t.rect=o,t.parsePoint=s,t.parseCropShape=a,t.parseCrop=l,t.parseSize=u,t.parseRect=h,t.scaleRatio=p,t.asRect=f,t.rectUnion=g}(g=e.geom||(e.geom={}));var m;!function(t){function e(t){var e=jQuery.Deferred();return setTimeout(function(){e.resolve()},t),e.promise()}function i(t){return new Promise(function(e,i){t.then(e,i)})}function n(t){var e=jQuery.Deferred();return t.then(function(t){return e.resolve(t)},function(t){return e.reject(t)}),e.promise()}function r(t){var e=jQuery.Deferred();return e.resolve(t),e.promise()}function o(t){var e=jQuery.Deferred();return e.reject(t),e.promise()}t.after=e,t.fromJQuery=i,t.asJQuery=n,t.donePromise=r,t.rejectPromise=o}(m=e.defer||(e.defer={}));var v;!function(t){function e(t){var e=new RegExp("url\\(#","gm"),n=window.location.href;if(n=n.replace(/#.*/,""),x.startsWith(n,"file://")){var r=navigator.userAgent;r.match(/Version\/5\.1\.[0-9]{1,2} Safari/)&&(n="file://"+y.asUri(window.location.pathname)+window.location.search)}var o="url("+n+"#";i("html").hasClass("ie9")||(t=t.replace(e,o));var s=document.querySelector("body > div.svg-resources"),a=!!s;a||(s=document.createElement("div"),s.className="svg-resources"),s.innerHTML=s.innerHTML+t,a||i(document).ready(function(){document.body.appendChild(s)})}
function n(t,e,n){var r=i(t),o=0!=t.clientHeight||0!=t.clientWidth;o||(r=r.clone().appendTo("body"));var l=r[0].querySelector("path");if(!l)throw new s("Expected a SVG element with a single PATH child");var u=a(l,e,n);return o||r.remove(),null!==u&&(t.setAttribute("viewBox",u.x+" "+u.y+" "+u.width+" "+u.height),!0)}function r(e,i){for(var n=e.firstElementChild;null!=n&&"title"!==n.localName;)n=n.nextElementSibling;i&&""!==i?(n||(n=document.createElementNS(t.NS,"title"),e.appendChild(n)),n.textContent=i):n&&e.removeChild(n)}function o(){if(void 0===c){var e=document.createElementNS(t.NS,"svg");document.documentElement.appendChild(e);var i=document.createElementNS(t.NS,"path");i.setAttribute("d","M0,0 C0,0 10,10 10,0"),e.appendChild(i);try{var n=i.getBBox();document.documentElement.removeChild(e),c=n.height>4&&n.height<5}catch(t){c=!1}}return c}function a(t,e,i){var n;try{n=d(t)}catch(t){return null}var r=t.getAttribute("stroke-width");if(r){var o=n.width/e,s=n.height/i,a=parseInt(r),l=a/2;return{x:n.x-l*o||-l,y:n.y-l*s||-l,width:n.width+a*o||a,height:n.height+a*s||a}}return{x:n.x,y:n.y,width:n.width,height:n.height}}function l(t,e,i,n,r){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*i+3*(1-t)*Math.pow(t,2)*n+Math.pow(t,3)*r}function u(t,e){switch(t){case"M":return{op:t,x:e[0],y:e[1]};case"C":return{op:t,x1:e[0],y1:e[1],x2:e[2],y2:e[3],x:e[4],y:e[5]};case"L":return{op:t,x:e[0],y:e[1]}}return null}function h(t){for(var e=[],i=null,n=null,r=0,o=0;o<t.length;o++){var s=t[o];switch(s){case"M":case"C":case"L":case"Z":if(i){var a=u(i,n);a&&e.push(a)}i=t[o],n=[],r=o+1;break;case" ":case",":r!==o&&n.push(parseFloat(t.substring(r,o))),r=o+1}}if(i){r<t.length&&n.push(parseFloat(t.substring(r,t.length)));var a=u(i,n);a&&e.push(a)}return e}function d(t){if(o())return t.getBBox();var e=t.getAttribute("d"),i=h(e),n=i.length,r=[[],[]],s=i[0],a=[s.x,s.y];r[0].push(a[0]),r[1].push(a[1]);for(var u=1;u<n;u++){var d=i[u];if("undefined"!=typeof d.x){var c=[d.x,d.y];if("C"===d.op)for(var p=[d.x1,d.y1],f=[d.x2,d.y2],g=0;g<2;g++){var m=6*a[g]-12*p[g]+6*f[g],v=-3*a[g]+9*p[g]-9*f[g]+3*c[g],_=3*p[g]-3*a[g];if(0!=v){var y=Math.pow(m,2)-4*_*v;if(y>=0){var b=Math.sqrt(y),w=(-m+b)/(2*v);0<w&&w<1&&r[g].push(l(w,a[g],p[g],f[g],c[g]));var x=(-m-b)/(2*v);0<x&&x<1&&r[g].push(l(x,a[g],p[g],f[g],c[g]))}}else if(0!=m){var C=-_/m;0<C&&C<1&&r[g].push(l(C,a[g],p[g],f[g],c[g]))}}r[0].push(c[0]),r[1].push(c[1]),a=c}}var T=Math.min.apply(null,r[0]),S=Math.max.apply(null,r[0])-T,k=Math.min.apply(null,r[1]),P=Math.max.apply(null,r[1])-k;return{x:T,y:k,width:S,height:P}}t.NS="http://www.w3.org/2000/svg",t.includeResource=e,t.fitToPathChild=n,t.setTooltip=r;var c;t.supportsPathBBox=o,t.getBBox=d}(v=e.svg||(e.svg={}));var _;!function(t){function e(t){setTimeout(function(){t=void 0===t?document.body:t;var e="border";t.style.setProperty(e,"1px dashed transparent","important"),setTimeout(function(){t.style.setProperty(e,"0px solid transparent","important")},1)},1)}function n(t){var e=i(t);e.css("visibility","hidden"),setTimeout(function(){e.css("visibility","visible")},1)}function r(t,e){var i=t.getBoundingClientRect();if(0===i.width&&0===i.height&&0===i.left&&0===i.top)return null;if(e){var n=e.getBoundingClientRect();return new s(i.left-n.left,i.top-n.top)}return new s(i.left,i.top)}function o(t,e){var i=r(t,e);return null!=i?i.transform(0,0):null}var s=function(){function t(t,e){this._dx=t,this._dy=e}return t.prototype.transform=function(t,e){if(t.x){var i=t;return{x:i.x+this._dx,y:i.y+this._dy}}return{x:t+this._dx,y:e+this._dy}},t}();t.Transform=s,t.forceRepaint=e,t.forceRepaint3=n,t.getTransform=r,t.getPosition=o}(_=e.ui||(e.ui={}));var y;!function(t){function e(t,e){return"file:"===t.protocol?"file://"+t.host+t.pathname+t.search+"#"+e:t.pathname+t.search+"#"+e}function i(t){return t.length>0&&"/"==t[0]?t.substr(1):t}function n(t){return r(t.toLowerCase()).toLowerCase()}function r(t){return x.join("/",t.split("/").map(function(t){return encodeURIComponent(t)}))}function o(t){var e="://",i=t.indexOf(e);if(i!=-1){var n=t.indexOf("/",i+e.length);return n==-1?"/":t.substr(n)}return t}function s(t){var e=a(t);return""===e?t:t.substr(0,t.length-e.length)}function a(t){var e=t.lastIndexOf(".");return e==-1||e==t.length-1?"":t.substr(e)}function l(e,i,n){n=n||t.Sep;var r,o=e.lastIndexOf(n);if(r=o==-1?e:o==e.length-1?e.substr(0,o):e.substr(o+1),i)return r;var s=r.lastIndexOf(".");return s==-1?r:r.substr(0,s)}function u(e,i){i=i||t.Sep;var n=e.lastIndexOf(i);return n>0?e.substr(0,n):""}function h(){if(0==arguments.length)return"";if(1==arguments.length)return arguments[0];for(var e="",i=0;i<arguments.length;i++){var n=arguments[i];n.length>0&&(n[0]==t.Sep&&i>0?n.length>1&&(e+=n.substr(1)):e+=n,n[n.length-1]!=t.Sep&&i<arguments.length-1&&(e+=t.Sep))}return e}t.Sep="/",t.getAbsolutePathForAnchor=e,t.getRelativePath=i,t.asLowerCaseUri=n,t.asUri=r,t.getUriPath=o,t.stripExtension=s,t.getExtension=a,t.getFileName=l,t.getFolder=u,t.combine=h}(y=e.path||(e.path={}));var b;!function(t){function e(){var t=i();return t&&0===t.indexOf("file://")}function i(){var t=window.document.baseURI;if(void 0!==t)return t;var e=window.document.head.getElementsByTagName("base");if(e.length>0){var i=e[0];if(t=i.href)return t}return null}function n(){return l(window.location.search.substr(1))}function r(){var t=window.location.href.indexOf("#");return t!=-1&&t!==window.location.href.length?l(window.location.href.substr(t+1)):{}}function o(t,e,i){return a(t,"?",e,i)}function s(t,e,i){var n,r,o=e.match(u);return o?(n=null!==i?y.asUri(i):null,r=o[1]):(n=null!==i?encodeURIComponent(i):null,r=e),a(t,"#",r,n)}function a(t,e,i,n){var r=new RegExp("(["+e+"|&])"+i+"=.*?(&|$)","i"),o=t.indexOf("#")!==-1?"&":"#";return t.match(r)?n?t.replace(r,"$1"+i+"="+n+"$2"):t.replace(r,"$1$2"):n?"&"===t[t.length-1]?t+i+"="+n:t+o+i+"="+n:t}function l(t){for(var e=t.split("&"),i={},n=0;n<e.length;++n){var r=e[n].split("=");1==r.length?i[r[0]]=!0:2==r.length&&(i[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}return i}var u=/\$uri\{(.+)\}/;t.isOnFileSystem=e,t.baseURI=i,t.parseQueryString=n,t.parseHashString=r,t.updateQueryStringParameter=o,t.updateHashStringParameter=s}(b=e.env||(e.env={}));var w;!function(t){function e(t){p=t}function i(){return null!=p&&null!=p.setOnPopState&&null!=p.history}function n(t,e){d||a();for(var i={owner:t,onPop:e},n=0;n<c.length;n++)if(c[n].owner===t)return void(c[n]=i);c.push(i)}function r(t,e,i){s(t,e,i,!1)}function o(t,e,i){s(t,e,i,!0)}function s(t,e,i,n){var r=p.baseUri();for(var o in i)r=b.updateHashStringParameter(r,o,i[o]);n?p.history.replaceState({owner:t,value:e},"",r):p.history.pushState({owner:t,value:e},"",r)}function a(){if(!i())throw new l("History not supported");p.setOnPopState(u),d=!0}function u(t){var e=t.state;if(e&&void 0!==e.owner)for(var i=0;i<c.length;i++)if(c[i].owner===e.owner)return void c[i].onPop(e.value)}function h(){return window&&window.history&&"undefined"!=typeof window.history.pushState&&window.location&&"file:"!==window.location.protocol}var d=!1,c=[],p=h()?{setOnPopState:function(t){return window.onpopstate=t},history:window.history,baseUri:function(){return document.location.href}}:null;t.configureHistory=e,t.isSupported=i,t.onPop=n,t.push=r,t.replace=o}(w=e.history||(e.history={}));var x;!function(t){function e(t){return t.replace(/[&<>"'\/]/g,function(t){return c[t]})}function i(t){if("string"==typeof t){var e=t.split(" "),i=new Date,n=e[0].split("/");if(i.setMonth(parseInt(n[0])-1),i.setDate(parseInt(n[1])),i.setFullYear(parseInt(n[2])),e.length>1){var r=e[1].split(":");i.setHours(parseInt(r[0])),i.setMinutes(parseInt(r[1])),i.setSeconds(0)}return i}return t}function n(t){try{return t?i(t):new Date}catch(t){return new Date}}function r(t,e){var i=new Date(t),n=i.getDate(),r=i.getMonth()+1,s=i.getFullYear(),a=i.getHours(),l=a>=12?"PM":"AM";a=a>12?a-12:0===a?12:a;var u=i.getMinutes(),h=r+"/"+n+"/"+s,d=a+":"+o(u)+" "+l;switch(e){case"datetime":return h+" "+d;case"date":return h;case"time":return d;default:return""}}function o(t,e,i){e=void 0===e?2:e,i=void 0===i?"0":i;var n=new Array(e+1).join(i),r=t.toString();return n.substr(0,n.length-r.length)+r}function s(t,e){return e=void 0===e?2:e,o(t.toString(16),e).toUpperCase()}function a(t,e){return t.indexOf(e,t.length-e.length)!==-1}function l(t,e){return 0===t.indexOf(e,0)}function u(t){return t?1===t.length?t.toLowerCase():t.substr(0,1).toLowerCase()+t.substr(1):t}function h(t,e){for(var i=new Array,n=0;n<e.length;n++){var r=e[n];null!==r&&void 0!==r?i.push(r.toString()):i.push(r)}return i.join(t)}function d(){for(var t=arguments[0],e=0;e<arguments.length-1;e++){var i=e<p.length?p[e]:RegExp("\\{"+e+"\\}","g");t=t.replace(i,arguments[e+1])}return t}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};t.escapeHtml=e,t.dateFromIndigo=n,t.formatDate=r,t.pad=o,t.toHex=s,t.endsWith=a,t.startsWith=l,t.camelize=u,t.join=h;var p=[0,1,2,3,4,5,6,7,8,9].map(function(t){return RegExp("\\{"+t+"\\}","g")});t.format=d}(x=e.strings||(e.strings={}));var C;!function(t){function e(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.splice(i,1),i;return-1}function i(t,e){t.splice(e,1)}function n(t,e,i){return e!==t.length?r(t,e,[i]):void t.push(i)}function r(t,e,i){return t.splice.apply(t,[e,0].concat(i)),t}function o(t,e){var i=s(t,e);return i!=-1?t[i]:void 0}function s(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return i;return-1}function a(t,e){for(var i={},n=0,r=0;r<t.length;){var o=t[r++],s=e?e(o):o+"";Object.prototype.hasOwnProperty.call(i,s)||(i[s]=!0,t[n++]=o)}t.length=n}t.remove=e,t.removeAt=i,t.insertAt=n,t.insertArrayAt=r,t.find=o,t.findIndex=s,t.removeDuplicates=a}(C=e.array||(e.array={}));var T;!function(t){function e(t,e){for(var i=0;i<e.length;i++)t.style.removeProperty(e[i]);""===t.getAttribute("style")&&t.removeAttribute("style")}function n(t,e){t.style.removeProperty(e)}function r(t,e,i){null===i?t.style.removeProperty(e):t.style.setProperty(e,i)}function o(t,e,i){i?a(t,e):l(t,e)}function s(t,e){return"http://www.w3.org/2000/svg"===t.namespaceURI?_(y(t),e)!==-1:i(t).hasClass(e)}function a(t,e){if("http://www.w3.org/2000/svg"===t.namespaceURI){var n=y(t);_(n,e)===-1&&y(t,(n?n+" ":"")+e)}else{var r=t.classList;void 0!==r?r.add(e):i(t).addClass(e)}}function l(t,e){if("http://www.w3.org/2000/svg"===t.namespaceURI){var n=y(t),r=_(n,e);if(r!=-1){var o=n.substr(0,r)+n.substr(r+e.length);y(t,o.trim())}}else void 0!==t.classList?t.classList.remove(e):i(t).removeClass(e)}function h(t,e){if("width"===e)return t.getBoundingClientRect().width+"px";if("height"===e)return t.getBoundingClientRect().height+"px";var n=i(t).css(e);if(""===n){var r=t.currentStyle;null!=r&&void 0!==r.getPropertyValue&&(n=r.getPropertyValue(e))}return n}function d(t){return v(t,!1)}function c(t){return v(t,!0)}function p(t){var e=v(t,!0),i=e.lastIndexOf(","),n=e.lastIndexOf(")");return parseFloat(e.substr(i+1,n-i-1))}function f(t,e){for(var i=I.length-1;i>=0;i--)try{return void m("#"+t+I[i],"color",e)}catch(t){C.removeAt(I,i)}}function g(){b()}function m(t,e,i){var n;void 0!==i&&(n=e+": "+i+";");var r=b(),o=k[t];if(o){if(void 0===n)return void(o.style.cssText=e);var s=o.style.cssText||"",a=s.indexOf(e+": ");if(a==-1||0!=a&&" "!==s[a-1]&&";"!==s[a-1])return void(o.style.cssText=s+n);var l=s.indexOf(";",a);if(l!=-1)return void(o.style.cssText=s.substr(0,a)+n+s.substr(l+1));throw new u("Invalid declaration for selector '"+t+"': "+s)}var h;h=void 0===n?r.insertRule(t+" {"+e+"}",r.cssRules.length):r.insertRule(t+" {"+n+"}",r.cssRules.length),k[t]=r.cssRules[h]}function v(t,e){if("string"!=typeof t)return null;if(!t)return t;if(x.startsWith(t,"rgba(")){if(e)return t;var i=t.lastIndexOf(",");return"rgb("+t.substr(5,i-5)+")"}if(x.startsWith(t,"rgb(")){if(e){var i=t.lastIndexOf(")");return"rgba("+t.substr(4,i-4)+",1.00)"}return t}var n,r,o,s,a;if(n=w.exec(t))a=parseInt(n[1]||"FF",16),r=parseInt(n[2],16),o=parseInt(n[3],16),s=parseInt(n[4],16);else if(n=T.exec(t))a=255,r=parseInt(n[1],16),o=parseInt(n[2],16),s=parseInt(n[3],16),r=16*r+r,o=16*o+o,s=16*s+s;else switch(t.toLowerCase()){case"black":a=255,r=0,o=0,s=0;break;case"blue":a=255,r=0,o=0,s=255;break;case"brown":a=255,r=165,o=42,s=42;break;case"cyan":a=255,r=0,o=255,s=255;break;case"darkgray":a=255,r=169,o=169,s=169;break;case"gray":a=255,r=128,o=128,s=128;break;case"green":a=255,r=0,o=128,s=0;break;case"lightgray":a=255,r=226,o=226,s=226;break;case"magenta":a=255,r=255,o=0,s=255;break;case"orange":a=255,r=255,o=165,s=255;break;case"purple":a=255,r=128,o=0,s=128;break;case"red":a=255,r=255,o=0,s=0;break;case"transparent":a=0,r=255,o=255,s=255;break;case"white":a=255,r=255,o=255,s=255;break;case"yellow":a=255,r=255,o=255,s=0;break;default:return null}return e?"rgba("+r+","+o+","+s+","+(a/255).toFixed(2)+")":"rgb("+r+","+o+","+s+")"}function _(t,e){if(null===t)return-1;var i=t.indexOf(e);return i!=-1&&(e.length===t.length||0===i&&" "===t[i+e.length]||i===t.length-e.length&&" "===t[i-1]||" "===t[i-1]&&" "===t[i+e.length])?i:-1}function y(t,e){var i=S.attribute(t,"class");return i&&void 0!==i.baseVal?void 0!==e?void(i.baseVal=e):i.baseVal:void 0===e?t.getAttribute("class"):void t.setAttribute("class",e)}function b(t){if(P)return P;t=void 0===t||t;var e="__script_stylesheet__";if(document.styleSheets.length>0)for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets.item(i);if(!n.disabled&&n.title===e)return P=n}if(t&&!E){var r=document.createElement("style");return r.type="text/css",r.title=e,r.setAttribute("rel","stylesheet"),document.getElementsByTagName("head")[0].appendChild(r),E=!0,b(!1)}return null}var w=/\#(..)?(..)(..)(..)/,T=/\#(.)(.)(.)/,k={},P=null,E=!1,I=[":-ms-input-placeholder","::-moz-placeholder","::-webkit-input-placeholder"];t.clearAll=e,t.clear=n,t.prop=r,t.toggleClass=o,t.hasClass=s,t.addClass=a,t.removeClass=l,t.computed=h,t.toRgb=d,t.toRgba=c,t.getAlpha=p,t.setInputPlaceholderColor=f,t.setupScriptStylesheet=g,t.updateClass=m}(T=e.css||(e.css={}));var S;!function(t){function e(t){for(;null!=t.lastChild;)t.removeChild(t.lastChild)}function n(t){for(var e=new Array,i=0;i<t.length;i++)e.push(t.item(i));return e}function r(t){for(var e=t.parentNode;e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;return e}function o(t,e){for(var i=t.firstElementChild;null!=i&&i.localName!=e;)i=i.nextElementSibling;return i}function s(t,e){for(var i=document.createDocumentFragment();e.length>0;)i.appendChild(e[0]);t.appendChild(i)}function a(t,e,i){return t.hasAttribute(e)?t.getAttribute(e):void 0===i?null:i}function l(t,e){var i=t.firstChild;return!i||i.nodeType!==Node.ELEMENT_NODE||void 0!==e&&i.localName!==e?u(i,e):i}function u(t,e){do if(t=t.nextSibling,t&&t.nodeType===Node.ELEMENT_NODE&&(void 0===e||t.localName===e))return t;while(null!=t);return null}function h(t){return new Promise(function(e,i){v||(v=document.createElement("div"),v.style.display="none",document.body.appendChild(v));var n=document.createElement("img");n.src=t,n.style.display="block";var r=function(){n.removeEventListener("load",r),n.removeEventListener("error",r),e()};n.addEventListener("load",r),n.addEventListener("error",r),v.appendChild(n)})}function d(t){return""==t.src||t.complete||void 0!==t.naturalWidth}function c(){var t=i.Deferred(),e=i("img").filter(function(){return!d(this)}),n=e.length;if(n>0){var r=function(){t.notifyWith({images:{pending:n}})},o=function(){n--,r(),0==n&&setTimeout(function(){return t.resolve()},1)};e.on("load",o),e.on("error",o),r()}else t.resolve();return t.promise()}function p(t,e,i){return i>=t.top&&i<=t.bottom&&e>=t.left&&e<=t.right}function f(){if(void 0!==_)return _;var t=i("<div />");i("body").append(t),t.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var e=i("<div />").height(1);t.append(e);var n=e.width(),r=t.width();return t.remove(),_=r-n}function g(t,e){void 0===e&&(e="y");var n=i(t),r=n.css("overflow"),o="y"===e?n.css("overflow-y"):n.css("overflow-x"),s=t.scrollHeight>n.innerHeight(),a="auto"==r||"visible"==r||"auto"==o||"visible"==o,l="scroll"==r||"scroll"==o;return s&&a||l}function m(t){var e=t.pageX,n=t.pageY,r=i(t.target),o=t.target;if(o instanceof Element){var s=g(o,"y");if(s){var a=f(),l=r.offset().top,u=r.offset().left+r.width(),h=l+r.height(),d=u-a;if(p({top:l,right:u,bottom:h,left:d},e,n))return!0}var c=g(o,"x");if(c){var m=f(),h=r.offset().top+r.height(),d=r.offset().left,v=h-m,u=d+r.width();if(p({top:v,right:u,bottom:h,left:d},e,n))return!0}}return!1}t.clear=e,t.toArray=n,t.getParentElement=r,t.getChildElementByLocalName=o,t.appendAll=s,t.attribute=a,t.firstChild=l,t.nextSibling=u;var v=null;t.preloadImage=h,t.isImageLoaded=d,t.whenImagesLoad=c;var _;t.inScrollRange=m}(S=e.dom||(e.dom={}));var k;!function(t){function e(t){t.offsetHeight}function i(t,e){t.style.setProperty("-webkit-animation",e),t.style.setProperty("animation",e)}function n(t){t.style.removeProperty("-webkit-animation"),t.style.removeProperty("animation")}t.triggerReflow=e,t.setAnimation=i,t.clearAnimation=n}(k=e.animations||(e.animations={}));var P;!function(t){function e(){return new i}t.create=e;var i=function(){function t(){this._handlers=null}return t.prototype.subscribe=function(t){this._handlers||(this._handlers=[]),this._handlers.push(t)},t.prototype.unsubscribe=function(t){this._handlers&&C.remove(this._handlers,t)},t.prototype.trigger=function(t){if(this._handlers)for(var e=this._handlers.slice(0),i=0;i<e.length;i++)e[i](t)},t}()}(P=e.events||(e.events={}));var E;!function(t){var e=function(){function t(){this.entries={}}return t.prototype.put=function(t,e){this.entries[t]=e},t.prototype.remove=function(t){delete this.entries[t]},t.prototype.get=function(t){if(this.has(t))return this.entries[t];throw new s("No such key")},t.prototype.has=function(t){return this.entries.hasOwnProperty(t)},t.prototype.merge=function(t){for(var e in t.entries)this.entries[e]=t.entries[e]},t}();t.Map=e}(E=e.collections||(e.collections={}));var I;!function(t){function e(){try{return null!=window.localStorage}catch(t){return!1}}function i(t,e){if(void 0===e)return e=window.localStorage.getItem(t),null==e?e:x.startsWith(e,n)?JSON.parse(e.substring(n.length)):x.startsWith(e,r)?"true"===e.substring(r.length):x.startsWith(e,o)?e.substring(o.length):x.startsWith(e,s)?parseFloat(e.substring(s.length)):e;if(null!=e){var i;i="string"==typeof e?o+e:"boolean"==typeof e?r+e:"boolean"==typeof e?s+e:n+JSON.stringify(e),window.localStorage.setItem(t,i)}else window.localStorage.removeItem(t)}var n="json:",r="bool:",o="str:",s="num:";t.isAvailable=e,t.local=i}(I=e.storage||(e.storage={})),function(t){function e(t,e){var i=e+"ms";t.style.setProperty("-webkit-animation-delay",i),t.style.setProperty("animation-delay",i)}t.setDelay=e}(k=e.animations||(e.animations={}));var D;!function(t){function e(t,e){if("undefined"!=typeof console&&console.assert&&console.assert(t,e),!t)throw new h(e)}t.assert=e}(D=e.debug||(e.debug={}));var A;!function(t){function e(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}t.toShortDateString=e}(A=e.date||(e.date={}));var $;!function(t){function e(t){l=t}function n(){return l}function r(t){a=t}function o(t,e,i){if("string"==typeof e){var n=a?a(t,null,e):null;return null===n?e:n}var r=a?a(t,e,i):null;return null===r?i:r}function s(t){i(t).find("["+u+"]").each(function(t,e){var n=i(e);n.html(o(n.attr(u),n.html()))}),i(t).find("["+h+"]").each(function(t,e){var i=o(e.getAttribute(h),e.title);e.setAttribute("title",i),e.title=i})}var a,l,u="data-translate-id",h="data-translate-title-id";t.configureLocale=e,t.getLocale=n,t.configureFormatMessage=r,t.formatMessage=o,t.translateElement=s}($=e.locale||(e.locale={})),v.supportsPathBBox(),function(){var t=window;try{new t.CustomEvent("test")}catch(i){var e=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};e.prototype=t.Event.prototype,t.CustomEvent=e}}();var O=t("es6_promise");O.polyfill()}),define("devices",["require","exports","utils","jquery"],function(t,e,i){"use strict";function n(){return o()!==p.None}function r(){return v}function o(){if(!_){var t=navigator.userAgent;_=t.match(/iphone/i)?p.IPhone:t.match(/ipad/i)?p.IPad:t.match(/android/i)?p.Android:t.match(/mobile/i)?p.Unknown:t.match(/tablet/i)&&!t.match(/tablet pc/i)?p.Unknown:p.None}return _}function s(){if(!y){var t=navigator.userAgent;y=t.match(/chrome/i)?f.Chrome:t.match(/safari/i)?f.Safari:t.match(/AppleWebKit/i)?f.Chrome:t.match(/firefox/i)?f.Firefox:t.match(/MSIE/i)||t.match(/Trident.*rv:11\./)?f.IE:p.Unknown}return y}function a(){var t="__devices_orientation_check__";if(!b){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="@media screen and (orientation: portrait) { ."+t+" { width: 1px; }}@media screen and (orientation: landscape) { ."+t+" { width: 2px; }}",document.head.appendChild(e),b=!0}var i=document.createElement("div");i.className=t,i.style.display="none",document.body.appendChild(i);var n=window.getComputedStyle(i),r="1px"===n.width?g.Portrait:g.Landscape;return document.body.removeChild(i),r}function l(){return window.navigator.standalone}function u(){var t=[],e=o();e!==p.None&&(t.push("mobile"),e!=p.Unknown&&t.push("mobile-"+e),e!==p.IPad&&e!==p.IPhone||$(window).on("scroll",function(){$("body").scrollTop(0)}),d(),$(window).bind("resize",h),l()&&t.push("standalone"));var i=$.extend(m.default,m[e]||{}),n=Hammer.defaults;n&&(n.swipe_velocity=i.swipe_velocity,n.hold_timeout=i.hold_timeout);var r=s();r!=f.Unknown&&(t.push(r),r!==f.Safari&&r!==f.Chrome||t.push("webkit")),e!==p.IPhone&&e!==p.IPad&&e!==p.Android||c(),t.length>0&&$("html").addClass(t.join(" "))}function h(){var t=a(),e=t===g.Landscape,i=$("html").hasClass(g.Landscape);i!=e&&(d(),v.trigger(t))}function d(){var t=a();$("html").removeClass(g.Landscape).removeClass(g.Portrait).addClass(t)}function c(){var t,e,i,n,r,o,s,a,l,u,h=document.createElement("foo");document.addEventListener("touchstart",function(s){clearInterval(o);var a=s.touches;if(1===a.length){n=null,r=null;for(var l=s.target;null!=l&&(null===n||null===r)&&l.nodeType===Node.ELEMENT_NODE;){var u=window.getComputedStyle(l);if(u){var d=!1,c=u["overflow-x"];if(null===n&&("true"===l.getAttribute("data-block-horizontal-scroll")?n=h:"auto"!==c&&"scroll"!==c||l.scrollWidth>l.clientWidth&&(n=l,d=!0)),null===r){var p=u["overflow-y"];"true"===l.getAttribute("data-block-vertical-scroll")?r=h:"auto"!==p&&"scroll"!==p||l.scrollHeight>l.clientHeight&&(r=l,d=!0)}if(d===!0)break}l=l.parentNode}var f=a[0];t=f.identifier,e=f.pageX,i=f.pageY}},!1),document.addEventListener("touchmove",function(d){if(!d.defaultPrevented){clearInterval(o),d.preventDefault();var c=d.touches;if(1===c.length){var p=c[0];if(p.identifier===t){l=p.pageX-e,u=p.pageY-i;var f=Math.abs(Math.atan2(u,l)),g=f*(180/Math.PI);n&&n!==h&&(r!==h||g<40||g>140)&&(n.scrollLeft=n.scrollLeft-(p.pageX-e),s=!0),r&&r!==h&&(n!==h||g>60&&g<120)&&(r.scrollTop=r.scrollTop-(p.pageY-i),a=!0),e=p.pageX,i=p.pageY}}}},!1),document.addEventListener("touchend",function(e){if(clearInterval(o),0===e.touches.length&&1===e.changedTouches.length){var i=e.changedTouches[0];i.identifier===t&&(o=setInterval(function(){s&&n&&n!==h&&(n.scrollLeft=n.scrollLeft-l),a&&r&&r!==h&&(r.scrollTop=r.scrollTop-u),l*=.9,u*=.9,l<1&&l>-1&&u<1&&u>-1&&(clearInterval(o),n=null,r=null)},15))}},!1)}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(){}return t}();p.None="none",p.IPhone="iphone",p.IPad="ipad",p.Android="android",p.Unknown="unknown",e.Mobile=p;var f=function(){function t(){}return t}();f.Safari="safari",f.Chrome="chrome",f.Firefox="firefox",f.IE="msie",f.Unknown="unknown",e.Browser=f;var g=function(){function t(){}return t}();g.Landscape="landscape",g.Portrait="portrait",e.Orientation=g;var m={iphone:{swipe_velocity:.5},ipad:{swipe_velocity:.5},android:{swipe_velocity:.4},default:{swipe_velocity:.7,hold_timeout:350,prevent_default:!0},none:{swipe_velocity:.15}};e.isMobile=n;var v=i.events.create();e.onOrientationChange=r;var _;e.getMobile=o;var y;e.getBrowser=s;var b=!1;e.getOrientation=a,e.isStandalone=l,e.configureDevices=u;var w;!function(t){function e(){return $("html").hasClass("csstransforms3d")}function i(){var t=s();return n()||t===f.Safari||t===f.Chrome}function r(){return n()||$("html").hasClass("cssanimations")}function o(){return s()!=f.IE}t.transform3d=e,t.acceleratedCssTransitions=i,t.cssTransitions=r,t.baseOnHref=o}(w=e.support||(e.support={})),e.disableRubberBandEffect=c}),define("text",["module"],function(t){"use strict";var e,i,n,r,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,u=l&&location.protocol&&location.protocol.replace(/\:/,""),h=l&&location.hostname,d=l&&(location.port||void 0),c=[],p=t.config&&t.config()||{};return e={version:"2.0.5+",strip:function(t){if(t){t=t.replace(s,"");var e=t.match(a);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){i=o[e];try{t=new ActiveXObject(i)}catch(t){}if(t){o=[i];break}}return t},parseName:function(t){var e,i,n,r=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return o!==-1&&(!s||o>1)?(e=t.substring(0,o),i=t.substring(o+1,t.length)):e=t,n=i||e,o=n.indexOf("!"),o!==-1&&(r="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,r){var o,s,a,l=e.xdRegExp.exec(t);return!l||(o=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==i||s&&s.toLowerCase()!==n.toLowerCase()||(a||s)&&a!==r))},finishLoad:function(t,i,n,r){n=i?e.strip(n):n,p.isBuild&&(c[t]=n),r(n)},load:function(t,i,n,r){if(r.isBuild&&!r.inlineText)return void n();p.isBuild=r.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=i.toUrl(s),c=p.useXhr||e.useXhr;!l||c(a,u,h,d)?e.get(a,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)})},write:function(t,i,n,r){if(c.hasOwnProperty(i)){var o=e.jsEscape(c[i]);n.asModule(t+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,i,n,r,o){var s=e.parseName(i),a=s.ext?"."+s.ext:"",l=s.moduleName+a,u=n.toUrl(s.moduleName+a)+".js";e.load(l,n,function(i){var n=function(t){return r(u,t)};n.asModule=function(t,e){return r.asModule(t,u,e)},e.write(t,l,n,o)},o)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(i=require.nodeRequire("fs"),e.get=function(t,e){var n=i.readFileSync(t,"utf8");0===n.indexOf("\ufeff")&&(n=n.substring(1)),e(n)}):"xhr"===p.env||!p.env&&e.createXhr()?e.get=function(t,i,n,r){var o,s=e.createXhr();if(s.open("GET",t,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);p.onXhr&&p.onXhr(s,t),s.onreadystatechange=function(e){var r,o;4===s.readyState&&(r=s.status,r>399&&r<600?(o=new Error(t+" HTTP status: "+r),o.xhr=s,n(o)):i(s.responseText))},s.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,r="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),i.append(n);null!==(n=a.readLine());)i.append(s),i.append(n);l=String(i.toString())}finally{a.close()}e(l)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,r=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),e.get=function(t,e){var i,o,s={},a=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),i.init(a,1,0,!1),o=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),o.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(i.available(),s),o.close(),i.close(),e(s.value)}catch(t){throw new Error((a&&a.path||"")+": "+t)}}),e}),define("json",["text"],function(t){var e={};return{load:function(i,n,r,o){o.isBuild&&o.inlineJSON===!1?r(null):t.get(n.toUrl(i),function(t){var n=JSON.parse(t);o.isBuild&&(e[i]=n),r(n)},r.error,{accept:"application/json"})},normalize:function(t,e){return t},write:function(t,i,n){if(i in e){var r=e[i],o=JSON.stringify(r);n('define("'+t+"!"+i+'",function(){return '+o+";});\n")}}}}),define("json!locales/ja.json",function(){return{"annotations-toggle.hide":"注釈をオフ","annotations-toggle.message-off":"デザインの注釈<br/>:<b>オフ</b>","annotations-toggle.message-on":"デザインの注釈<br/>: <b>オン</b>","annotations-toggle.show":"注釈をオン","highlight-interactions-toggle.hide":"インタラクションのハイライトをオフ","highlight-interactions-toggle.message-off":"インタラクティブ要素<br/>のハイライト:<b>オフ</b>","highlight-interactions-toggle.message-on":"インタラクティブ要素<br/>のハイライト<b>オン</b>","highlight-interactions-toggle.show":"インタラクションのハイライトをオン","orientation-warning.text-landscape":"このプロトタイプはランドスケープでデザインされています。反転してください。","orientation-warning.text-portrait":"このプロトタイプはポートレートでデザインされています。反転してください。","orientation-warning.title":"エラー","player.controls.image.coming-soon":"画像準備中","player.controls.image.not-found":"画像<br/>{path}<br/> は見つかりませんでした。","player.controls.map.error-load":"埋め込みマップを読み込めませんでした。インターネット接続を確認してください。","player.controls.video.error-load":"埋め込みビデオを読み込めませんでした。インターネット接続を確認してください。","player.controls.datePicker.today":"今日","player.controls.datePicker.am":"午前","player.controls.datePicker.pm":"午後","player.controls.datePicker.sun":"日","player.controls.datePicker.mon":"月","player.controls.datePicker.tue":"火","player.controls.datePicker.wed":"水","player.controls.datePicker.thu":"木","player.controls.datePicker.fri":"金","player.controls.datePicker.sat":"土","player.controls.datePicker.jan":"1月","player.controls.datePicker.feb":"2月","player.controls.datePicker.mar":"3月","player.controls.datePicker.apr":"4月","player.controls.datePicker.may":"5月","player.controls.datePicker.jun":"6月","player.controls.datePicker.jul":"7月","player.controls.datePicker.aug":"8月","player.controls.datePicker.sep":"9月","player.controls.datePicker.oct":"10月","player.controls.datePicker.nov":"11月","player.controls.datePicker.dec":"12月","player.controls.datePicker.january":"1月","player.controls.datePicker.february":"2月","player.controls.datePicker.march":"3月","player.controls.datePicker.april":"4月","player.controls.datePicker.mayLong":"5月","player.controls.datePicker.june":"6月","player.controls.datePicker.july":"7月","player.controls.datePicker.august":"8月","player.controls.datePicker.september":"9月","player.controls.datePicker.october":"10月","player.controls.datePicker.november":"11月","player.controls.datePicker.december":"12月","player.controls.datePicker.done":"完了","player.controls.datePicker.dateFormat":"yyyy MMMM dd","player.controls.datePicker.dateTimeFormat":"MMM dd dddd tt h m","player.controls.datePicker.timeFormat":"tt h m","player.controls.datePicker.yearFormat":"{year, number, integer}年","player.controls.datePicker.dayFormat":"{day, number, integer}日","player-shell.error-browser-unsupported":"現在のブラウザーはサポートされていません。IE9 またはそれ以降に更新してください。","player-shell.error-browser-unsupported-text":'IE9 またはそれ以降のブラウザーをご使用の場合、互換モードであるかを確認し、互換モードーが有効な場合、<a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view" target="_blank">互換モードを無効</a>にしてから再読み込みしてください。',"player-shell.error-browser-unsupported-title":"エラー",
"player-shell.error-not-available":"スクリーンにプロトタイプがありません。","player-shell.error-not-available-title":"エラー","player-shell.error-ok-button":"OK","player-shell.error-on-preview":"<p><strong>プロトタイプの描画時にエラーが発生しました。</strong><br/>問題が継続する場合、弊社サポートまでお問い合わせください。</p>","player-shell.error-prototype-load":'このメッセージが表示された場合、他のブラウザーでお試しいただくか弊社<a href="http://www.infragistics.com/community/forums/default.aspx?GroupID=96">フォーラム サイト (英語)</a>をご覧ください。',"player-shell.error-prototype-load-title":"プロトタイプが読み込めませんでした。","player-shell.error-unknown":"このページを再読み込みしてください。<br/>問題が解決しない場合は、弊社までお問い合わせください。再現手順などより多くの情報を提供いただくことにより、迅速に解決することが可能となります。","player-shell.error-unknown-title":"プロトタイプの描画で問題が発生しています。","player.toolbar-hide-tooltip":"ツールバーを非表示","player.toolbar-home-screen":"ホーム画面","player.toolbar-restart":"再読み込みして再起動","player.toolbar-show-tooltip":"ツールバーを表示","player.toolbar-toc":"目次","player.toolbar-toc-hide-tooltip":"目次の非表示","player.toolbar-toc-show-tooltip":"目次を表示","responsive-toolbox.extra-small":"XS(スマートフォン)","responsive-toolbox.extra-small-label":"XS - スマートフォン","responsive-toolbox.fit":"ブラウザーに合わせる","responsive-toolbox.fit-label":"ブラウザーに合わせる","responsive-toolbox.large":"L(デスクトップ)","responsive-toolbox.large-label":"L - デスクトップ","responsive-toolbox.medium":"M(デスクトップ)","responsive-toolbox.medium-label":"M - デスクトップ","responsive-toolbox.small":"S(タブレット)","responsive-toolbox.small-label":"小 - タブレット","table-of-contents.close-button":"閉じる","table-of-contents.hide-state":"ステートの非表示","table-of-contents.hide-state-tooltip":"インタラクション エクスプローラーの非表示","table-of-contents.new-comments-tooltip":"新しいコメントがあります。\nクリックして表示してください。","table-of-contents.no-matches":"一致がありませんでした。","table-of-contents.screen-button":"スクリーン ({count, number, integer})","table-of-contents.screen-button-tooltip":"スクリーンでフィルター","table-of-contents.search-screen-placeholder":"スクリーンの検索...","table-of-contents.search-screenpart-placeholder":"スクリーンパーツの検索..","table-of-contents.show-state":"ステートの表示","table-of-contents.show-state-tooltip":"インタラクション エクスプローラーの表示","table-of-contents.screenpart-button":"スクリーンパーツ ({count, number, integer})","table-of-contents.screenpart-button-tooltip":"スクリーンパーツでフィルター","toc-explorer.back":"戻る","toc-explorer.click-to-open":"クリックして開く: {target}","toc-explorer.navigate-to":"移動先:","toc-explorer.switch-to":"次に切り替え:","toc-explorer.you-are-here":"現在位置","toolbar-invite.text":"2 本指でタップして\nツールバーを切り替える"}}),define("json!locales/en.json",function(){return{"annotations-toggle.hide":"Turn OFF design annotations","annotations-toggle.message-on":"Design annotations<br/>are turned <b>ON</b>","annotations-toggle.message-off":"Design annotation<br/>are turned <b>OFF</b>","annotations-toggle.show":"Turn ON design annotations","highlight-interactions-toggle.hide":"Turn OFF interaction highlight","highlight-interactions-toggle.message-on":"Highlighting for interactive<br/>elements is <b>ON</b>","highlight-interactions-toggle.message-off":"Highlighting for interactive<br/>elements is <b>OFF</b>","highlight-interactions-toggle.show":"Turn ON interaction highlight","orientation-warning.text-landscape":"This prototype was designed for LANDSCAPE orientation. Please turn me.","orientation-warning.text-portrait":"This prototype was designed for PORTRAIT orientation. Please turn me.","orientation-warning.title":"Oops!","player.controls.image.coming-soon":"Image coming soon","player.controls.image.not-found":"The image<br/>{path}<br/> was not found.","player.controls.map.error-load":"The embedded map could not be loaded. Please check your internet connection.","player.controls.video.error-load":"The embedded video could not be loaded. Please check your internet connection.","player.controls.datePicker.today":"Today","player.controls.datePicker.am":"AM","player.controls.datePicker.pm":"PM","player.controls.datePicker.sun":"Sun","player.controls.datePicker.mon":"Mon","player.controls.datePicker.tue":"Tue","player.controls.datePicker.wed":"Wed","player.controls.datePicker.thu":"Thu","player.controls.datePicker.fri":"Fri","player.controls.datePicker.sat":"Sat","player.controls.datePicker.jan":"Jan","player.controls.datePicker.feb":"Feb","player.controls.datePicker.mar":"Mar","player.controls.datePicker.apr":"Apr","player.controls.datePicker.may":"May","player.controls.datePicker.jun":"Jun","player.controls.datePicker.jul":"Jul","player.controls.datePicker.aug":"Aug","player.controls.datePicker.sep":"Sep","player.controls.datePicker.oct":"Oct","player.controls.datePicker.nov":"Nov","player.controls.datePicker.dec":"Dec","player.controls.datePicker.january":"January","player.controls.datePicker.february":"February","player.controls.datePicker.march":"March","player.controls.datePicker.april":"April","player.controls.datePicker.mayLong":"May","player.controls.datePicker.june":"June","player.controls.datePicker.july":"July","player.controls.datePicker.august":"August","player.controls.datePicker.september":"September","player.controls.datePicker.october":"October","player.controls.datePicker.november":"November","player.controls.datePicker.december":"December","player.controls.datePicker.done":"Done","player.controls.datePicker.dateFormat":"MMMM dd yyyy","player.controls.datePicker.dateTimeFormat":"dddd MMM dd h m tt","player.controls.datePicker.timeFormat":"h m tt","player.controls.datePicker.yearFormat":"{year, number, integer}","player.controls.datePicker.dayFormat":"{day, number, integer}","player-shell.error-browser-unsupported-title":"Oops!","player-shell.error-browser-unsupported":"Looks like your browser is not supported, please update to IE9+.","player-shell.error-browser-unsupported-text":'If you are using a IE9+ browser, maybe it\'s in compatibility mode? See here how to <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view" target="_blank">disable compatibility mode</a> and reload.',"player-shell.error-not-available":"Looks like a screen is missing from the<br/>prototype","player-shell.error-not-available-title":"Oops!","player-shell.error-ok-button":"Ok","player-shell.error-prototype-load":'If this keeps showing, you might want to try with another browser (though all modern ones are supported) or check our <a href="http://www.infragistics.com/community/forums/default.aspx?GroupID=96">user forums</a>.',"player-shell.error-prototype-load-title":"Hmm... We can't load this prototype.","player-shell.error-unknown":"Sorry about that. You can try reloading the page --sometimes that helps.<br/>If this keeps happening, let us know so that we can look into it for you. The more you tell us about what you were doing when you ran into this, the better we'll be able to help you.","player-shell.error-unknown-title":"We stumbled upon a bug while trying to render your prototype.","player-shell.error-on-preview":"<p><strong>We stumbled upon a bug while trying to render your prototype.</strong><br/>Sorry about that. If this keeps happening, let us know so that we can look into it for you. Please, check the Indigo Help section to contact support.</p>","player.toolbar-hide-tooltip":"Hide toolbar","player.toolbar-home-screen":"Go to starting point","player.toolbar-restart":"Reload and restart","player.toolbar-show-tooltip":"Show toolbar","player.toolbar-toc":"Table of Contents","player.toolbar-toc-hide-tooltip":"Hide table of contents","player.toolbar-toc-show-tooltip":"Show table of contents","responsive-toolbox.extra-small":"Extra Small (Phone)","responsive-toolbox.extra-small-label":"XS - Phone","responsive-toolbox.fit":"Fit to Browser","responsive-toolbox.fit-label":"Fit to Browser","responsive-toolbox.large":"Large - (Desktop)","responsive-toolbox.large-label":"LG - Lrg. Desktop","responsive-toolbox.medium":"Medium (Desktop)","responsive-toolbox.medium-label":"MD - Desktop","responsive-toolbox.small":"Small (Tablet)","responsive-toolbox.small-label":"SM - Tablet","table-of-contents.close-button":"Close","table-of-contents.hide-state":"Hide states","table-of-contents.hide-state-tooltip":"Hide interactions explorer","table-of-contents.new-comments-tooltip":"There are new comments!\nClick here to see them.","table-of-contents.no-matches":"No matches found","table-of-contents.screen-button":"Screens ({count})","table-of-contents.screen-button-tooltip":"Filter by screen","table-of-contents.screenpart-button":"Screenparts ({count})","table-of-contents.screenpart-button-tooltip":"Filter by screenparts","table-of-contents.search-screen-placeholder":"Search screens","table-of-contents.search-screenpart-placeholder":"Search screenparts","table-of-contents.show-state":"Show states","table-of-contents.show-state-tooltip":"Show interactions explorer","toc-explorer.back":"Back","toc-explorer.click-to-open":"Click to open: {target}","toc-explorer.navigate-to":"Navigate to:","toc-explorer.switch-to":"Switch to:","toc-explorer.you-are-here":"You are here","toolbar-invite.text":"Tap with two fingers\nto toggle toolbar"}}),define("json!locales/es.json",function(){return{"annotations-toggle.hide":"NO mostrar notas","annotations-toggle.message-off":"Las notas<br/>están <b>VISIBLES</b>","annotations-toggle.message-on":"Las notas<br/>están <b>APAGADAS</b>","annotations-toggle.show":"Mostrar notas","highlight-interactions-toggle.hide":"NO Resaltar elementos interactivos","highlight-interactions-toggle.message-off":"Resaltar elementos interactivos<br/>esta <b>APAGADO</B>","highlight-interactions-toggle.message-on":"Resaltar elementos interactivos<br/>esta <b>ACTIVADO</B>","highlight-interactions-toggle.show":"Resaltar elementos interactivos","orientation-warning.text-landscape":"Este prototipo fue diseñado para vista HORIZONTAL. Por favor, gira el dispositivo.","orientation-warning.text-portrait":"Este prototipo fue diseñado para vista VERTICAL. Por favor, gira el dispositivo.","orientation-warning.title":"¡Opa!","player.controls.image.coming-soon":"Imagen aquí próximamente","player.controls.image.not-found":"La imagen<br/>{path}<br/>no se encontró.","player.controls.map.error-load":"El mapa no puede ser cargado. Por favor, verifica tu conexión a internet.","player.controls.video.error-load":"El video no puede ser cargado. Por favor, verifica tu conexión a internet.","player.controls.datePicker.today":"Hoy","player.controls.datePicker.am":"AM","player.controls.datePicker.pm":"PM","player.controls.datePicker.sun":"Dom","player.controls.datePicker.mon":"Lun","player.controls.datePicker.tue":"Mar","player.controls.datePicker.wed":"Mie","player.controls.datePicker.thu":"Jue","player.controls.datePicker.fri":"Vie","player.controls.datePicker.sat":"Sab","player.controls.datePicker.jan":"Ene","player.controls.datePicker.feb":"Feb","player.controls.datePicker.mar":"Mar","player.controls.datePicker.apr":"Abr","player.controls.datePicker.may":"May","player.controls.datePicker.jun":"Jun","player.controls.datePicker.jul":"Jul","player.controls.datePicker.aug":"Ago","player.controls.datePicker.sep":"Set","player.controls.datePicker.oct":"Oct","player.controls.datePicker.nov":"Nov","player.controls.datePicker.dec":"Dic","player.controls.datePicker.january":"Enero","player.controls.datePicker.february":"Febrero","player.controls.datePicker.march":"Marzo","player.controls.datePicker.april":"Abril","player.controls.datePicker.mayLong":"Mayo","player.controls.datePicker.june":"Junio","player.controls.datePicker.july":"Julio","player.controls.datePicker.august":"Agosto","player.controls.datePicker.september":"Setiembre","player.controls.datePicker.october":"Octubre","player.controls.datePicker.november":"Noviembre","player.controls.datePicker.december":"Diciembre","player.controls.datePicker.done":"Listo","player-shell.error-browser-unsupported":"Parece que tu browser no es soportado, por favor actualiza a IE9+","player-shell.error-browser-unsupported-text":'Si estas usando Internet Explorer, es posible que esté en modo de compatibilidad. Averigua como <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view" target="_blank">desactivar el modo de compatibilidad</a> y prueba refrescar la página.',"player-shell.error-browser-unsupported-title":"¡Opa!","player-shell.error-not-available":"Parece que una pantalla no fue incluída en el prototipo.","player-shell.error-not-available-title":"¡Opa!","player-shell.error-ok-button":"Ok","player-shell.error-on-preview":"<p><strong>Encontramos un problema al correr tu prototipo.</strong><br/>Lo sentimos. Si esto sigue ocurriendo, háznoslo saber y lo investigaremos. Puedes encontrar cómo contactarnos en el panel de Ayuda.</p>","player-shell.error-prototype-load":'Si este error se sigue mostrando, puedes probar en otro navegador (aunque todos los nuevos son soportados) o visitar nuestros <a href="http://www.infragistics.com/community/forums/default.aspx?GroupID=96">foros de usuarios</a>.',"player-shell.error-prototype-load-title":"Mmmm... No podemos cargar este prototipo.","player-shell.error-unknown":"Lo lamentamos. Intenta cargar la página nuevamente --a veces ayuda.<br/>Si el mensaje sigue apareciendo háznoslo saber.","player-shell.error-unknown-title":"Encontramos un problema al cargar tu prototipo.","player.toolbar-hide-tooltip":"Ocultar barra","player.toolbar-home-screen":"Ir al punto de inicio","player.toolbar-restart":"Recargar y reiniciar","player.toolbar-show-tooltip":"Mostrar barra","player.toolbar-toc":"Tabla de contenidos","player.toolbar-toc-hide-tooltip":"Ocultar tabla de contenidos","player.toolbar-toc-show-tooltip":"Mostrar tabla de contenidos","responsive-toolbox.extra-small":"Muy pequeño (Teléfono)","responsive-toolbox.extra-small-label":"XS - Teléfono","responsive-toolbox.fit":"Llenar la pantalla","responsive-toolbox.fit-label":"Llenar la pantalla","responsive-toolbox.large":"Grande - (Escritorio)","responsive-toolbox.large-label":"LG - Escritorio Grande","responsive-toolbox.medium":"Mediano (Escritorio)","responsive-toolbox.medium-label":"MD - Escritorio","responsive-toolbox.small":"Pequeño (Tableta)","responsive-toolbox.small-label":"SM - Tableta","table-of-contents.close-button":"Cerrar","table-of-contents.hide-state":"Ocultar estados","table-of-contents.hide-state-tooltip":"Ocultar el explorador de interacciones","table-of-contents.new-comments-tooltip":"¡Hay nuevos comentarios!\nHaz click aquí para verlos.","table-of-contents.no-matches":"No hay resultados","table-of-contents.screen-button":"Pantallas ({count, number, integer})","table-of-contents.screen-button-tooltip":"Filtrar por pantalla","table-of-contents.screenpart-button":"Partes ({count, number, integer})","table-of-contents.screenpart-button-tooltip":"Filtrar por partes","table-of-contents.search-screen-placeholder":"Buscar pantallas...","table-of-contents.search-screenpart-placeholder":"Buscar partes...","table-of-contents.show-state":"Mostrar estados","table-of-contents.show-state-tooltip":"Mostrar el explorador de interacciones","toc-explorer.back":"Atrás","toc-explorer.click-to-open":"Haz click para abrir: {target}","toc-explorer.navigate-to":"Navegar a:","toc-explorer.switch-to":"Ir a:","toc-explorer.you-are-here":"Estás aquí","toolbar-invite.text":"Toca con dos dedos para\nmostrar la barra de herramientas"}}),define("i18n",["require","exports","json!locales/ja.json","json!locales/en.json","json!locales/es.json"],function(t,e){"use strict";function i(t){var e=n(t);return function(t,i,n){var r=e[t];if(r){if(i)for(var o=0,s=Object.keys(i);o<s.length;o++){var a=s[o];r=r.replace("{"+a+"}",i[a]+"").replace("{"+a+", number, integer}",i[a]+"")}return r}return n}}function n(e){switch(e){case"ja":return t("json!locales/ja.json");case"es":return t("json!locales/es.json");default:return t("json!locales/en.json")}}Object.defineProperty(e,"__esModule",{value:!0}),e.create=i}),function(t){function e(){var e=arguments[0],i=arguments[1];this._delegateGuids=[],this._fn=function(n){i.trigger(t.Event(e,n))},this._delegateFn=function(i){var n=t.Event(e,i);t(n.originalEvent.target).trigger(n)}}var i=["hold","tap","doubletap","swipe","swipeup","swipedown","swipeleft","swiperight","rotate","pinch","pinchin","pinchout"];e.prototype={addDelegate:function(t){return this._delegateGuids.push(t),this},removeDelegate:function(t){var e=this._delegateGuids.indexOf(t);return e>=0&&this._delegateGuids.splice(e),this},getFn:function(){return this._delegateGuids.length>0?this._delegateFn:this._fn},destroy:function(){this._fn=null,this._delegateFn=null,this._delegateGuids=null,delete this._fn,delete this._delegateFn,delete this._delegateGuids}},t.each(i,function(i,n){t.event.special[n]={setup:function(i,r,o){var s=t(this),a=s.data("hammerjs");a||(a=new Hammer(this,i),a.__Fns={},s.data("hammerjs",a)),a.__Fns[n]=new e(n,s)},add:function(e){var i=t(this).data("hammerjs");e.selector&&i.__Fns[n].addDelegate(e.guid),i["on"+n]=i.__Fns[n].getFn()},remove:function(e){var i=t(this).data("hammerjs");e.selector&&i.__Fns[n].removeDelegate(e.guid),i["on"+n]=i.__Fns[n].getFn()},teardown:function(e){var i=t(this).data("hammerjs");i.__Fns[n].destroy(),delete i.__Fns[n]}}})}(jQuery),define("hammer_specialevents",["jquery"],function(){}),function(t,e){"use strict";function i(){if(!n.READY){n.event.determineEventTypes();for(var t in n.gestures)n.gestures.hasOwnProperty(t)&&n.detection.register(n.gestures[t]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}}var n=function(t,e){return new n.Instance(t,e||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in t,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(t,e){var r=this;return i(),this.element=t,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),e||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(t,n.EVENT_START,function(t){r.enabled&&n.detection.startDetect(r,t)}),this},n.Instance.prototype={on:function(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)this.element.addEventListener(i[n],e,!1);return this},off:function(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)this.element.removeEventListener(i[n],e,!1);return this},trigger:function(t,e){var i=n.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var r=this.element;return n.utils.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this}};var r=null,o=!1,s=!1;n.event={bindDom:function(t,e,i){for(var n=e.split(" "),r=0;r<n.length;r++)t.addEventListener(n[r],i,!1)},onTouch:function(t,e,i){var a=this;this.bindDom(t,n.EVENT_TYPES[e],function(l){var u=l.type.toLowerCase();if(!u.match(/mouse/)||!s){u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===l.which?o=!0:u.match(/mouse/)&&1!==l.which&&(o=!1),u.match(/touch|pointer/)&&(s=!0);var h=0;o&&(n.HAS_POINTEREVENTS&&e!=n.EVENT_END?h=n.PointerEvent.updatePointer(e,l):u.match(/touch/)?h=l.touches.length:s||(h=u.match(/up/)?0:1),h>0&&e==n.EVENT_END?e=n.EVENT_MOVE:h||(e=n.EVENT_END),h||null===r?r=l:l=r,i.call(n.detection,a.collectEventData(t,e,l)),n.HAS_POINTEREVENTS&&e==n.EVENT_END&&(h=n.PointerEvent.updatePointer(e,l))),h||(r=null,o=!1,s=!1,n.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=n.HAS_POINTEREVENTS?n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=t[0],n.EVENT_TYPES[n.EVENT_MOVE]=t[1],n.EVENT_TYPES[n.EVENT_END]=t[2]},getTouchList:function(t){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,i){var r=this.getTouchList(i,e),o=n.POINTER_TOUCH;return(i.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,i))&&(o=n.POINTER_MOUSE),{center:n.utils.getCenter(r),timeStamp:(new Date).getTime(),target:i.target,touches:r,eventType:e,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(i){e.push(t.pointers[i])}),e},updatePointer:function(t,e){return t==n.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var i={};return i[n.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==n.POINTER_MOUSE,i[n.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==n.POINTER_TOUCH,i[n.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==n.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function(t,i,n){for(var r in i)t[r]!==e&&n||(t[r]=i[r]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],i=[],n=0,r=t.length;n<r;n++)e.push(t[n].pageX),i.push(t[n].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.pageY-t.pageY,n=e.pageX-t.pageX;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.pageX-e.pageX),r=Math.abs(t.pageY-e.pageY);return i>=r?t.pageX-e.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:t.pageY-e.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(t,e){var i=e.pageX-t.pageX,n=e.pageY-t.pageY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==n.DIRECTION_UP||t==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var i,n=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var r=0;r<n.length;r++)for(var o in e)e.hasOwnProperty(o)&&(i=o,n[r]&&(i=n[r]+i.substring(0,1).toUpperCase()+i.substring(1)),t.style[i]=e[o]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:n.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,i=0,r=this.gestures.length;i<r;i++){var o=this.gestures[i];if(!this.stopped&&e[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==n.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var i=0,r=t.touches.length;i<r;i++)e.touches.push(n.utils.extend({},t.touches[i]))}var o=t.timeStamp-e.timeStamp,s=t.center.pageX-e.center.pageX,a=t.center.pageY-e.center.pageY,l=n.utils.getVelocity(o,s,a);return n.utils.extend(t,{deltaTime:o,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:n.utils.getDistance(e.center,t.center),angle:n.utils.getAngle(e.center,t.center),direction:n.utils.getDirection(e.center,t.center),scale:n.utils.getScale(e.touches,t.touches),rotation:n.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var i=t.defaults||{};return i[t.name]===e&&(i[t.name]=!0),n.utils.extend(n.defaults,i,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case n.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==n.EVENT_END){var i=n.detection.previous,r=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),r&&!e.options.tap_always||(n.detection.current.name="tap",e.trigger(n.detection.current.name,t))}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==n.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,e){if(n.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(t.distance<e.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name,(n.detection.current.lastEvent.drag_locked_to_axis||e.options.drag_lock_to_axis&&e.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var i=n.detection.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(n.utils.isVertical(i)?t.direction=t.deltaY<0?n.DIRECTION_UP:n.DIRECTION_DOWN:t.direction=t.deltaX<0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t),(e.options.drag_block_vertical&&n.utils.isVertical(t.direction)||e.options.drag_block_horizontal&&!n.utils.isVertical(t.direction))&&t.preventDefault();break;case n.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,e){if(n.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(e.options.transform_always_block&&t.preventDefault(),t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<e.options.transform_min_scale&&r<e.options.transform_min_rotation)return;n.detection.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),r>e.options.transform_min_rotation&&e.trigger("rotate",t),i>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case n.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,e){return e.options.prevent_mouseevents&&t.pointerType==n.POINTER_MOUSE?void t.stopDetect():(e.options.prevent_default&&t.preventDefault(),void(t.eventType==n.EVENT_START&&e.trigger(this.name,t)))}},n.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==n.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:(t.Hammer=n,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return n}))}(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(i,n,r){t(i).on(n,function(t){var i=t.originalEvent||t;i.pageX===e&&(i.pageX=t.pageX,i.pageY=t.pageY),i.target||(i.target=t.target),i.which===e&&(i.which=i.button),i.preventDefault||(i.preventDefault=t.preventDefault),i.stopPropagation||(i.stopPropagation=t.stopPropagation),r.call(this,i)})},Hammer.Instance.prototype.on=function(e,i){return t(this.element).on(e,i)},Hammer.Instance.prototype.off=function(e,i){return t(this.element).off(e,i)},Hammer.Instance.prototype.trigger=function(e,i){var n=t(this.element);return n.has(i.target).length&&(n=t(i.target)),n.trigger({type:e,gesture:i})},t.fn.hammer=function(e){return this.each(function(){var i=t(this),n=i.data("hammer");n?n&&e&&Hammer.utils.extend(n.options,e):i.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto),define("hammer",["jquery","hammer_specialevents"],function(){}),define("config",["require","exports","utils","devices","i18n","hammer"],function(t,e,i,n,r){"use strict";function o(t){var o=e.ParseQueryString?i.env.parseQueryString():{};(o.fullscreen||o["fullscreen-center"])&&(e.UseFullScreen=!0,"1"!==o.chrome&&(e.ShowChrome=!1),"1"!==o.notes&&(e.ShowNotes=!1),"1"!==o.toolbar&&(e.ShowToolbar=!1),"1"!==o.invites&&(e.ShowInvites=!1),o["fullscreen-center"]&&(e.CenterFullScreen=!0)),e.EnableInitialScreen&&s(),e.EnableExplicitProjectPathOption&&(e.ProjectPath=o.p||e.ProjectPath);var a=i.env.parseHashString();e.EnableDeviceSupport&&n.configureDevices();var l=n.getMobile();if(e.EnableExplicitFileOption){var u=a.f||o.f;"string"==typeof u&&u&&(i.strings.endsWith(u,".screenpart")?e.InitialScreen=i.path.asLowerCaseUri(decodeURIComponent(u)):e.InitialScreen=i.path.asLowerCaseUri(decodeURIComponent(u+".screen")))}e.EnableExplicitStateOption&&(n.isStandalone()||(e.InitialState=a.s||o.s||null)),o.ex&&(e.CatchRenderExceptions=!1),o.iid?e.IncludeDataIndigoId=!0:null===e.IncludeDataIndigoId&&(e.IncludeDataIndigoId=!1);var h=o.invites;h&&(e.ShowInvites="1"===h);var d=o.highlight;d&&(e.ShowHighlight="1"===d);var c=o.toolbar;c&&(e.ShowToolbar="1"===c);var p=o.notes;p&&(e.ShowNotes="1"===p);var f=o.fakeTransition;f&&(e.UseFakeTransition="0"!==f);var g=o.chrome;g&&(e.ShowChrome="0"!==g);var m=o.toc;m&&(e.EnableToc="0"!==m),e.EnableToc&&e.Modules.push("toc/module");var v=o.explorer;v?e.EnableExplorer="0"!==v:e.EnableExplorer=!n.isMobile();var _=o.orientationCheck;_?e.EnableOrientationCheck="1"===_:null===e.EnableOrientationCheck&&(e.EnableOrientationCheck=l===n.Mobile.IPad||l===n.Mobile.IPhone),e.QueryOptions=o,e.Locale&&(i.locale.configureLocale(e.Locale),i.locale.configureFormatMessage(r.create(e.Locale)))}function s(){var t=window.document.location,n=i.env.baseURI()||t.href;if(t.toString()!==n){for(var r=i.path.getUriPath(n),o=t.pathname,s=i.path.getFolder(r),a=s.split("/"),l=o.split("/"),u=0;u<l.length&&u<a.length&&l[u]===a[u];)u++;var h=l.slice(u).join("/"),d=e.InitialScreenPathRegexp.exec(h);
if(d)return e.ProjectPath=d[1]+"/",void(d[2]?e.InitialScreen=d[2]+".screen":e.InitialScreen=null)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ParseQueryString=!0,e.EnableInitialScreen=!0,e.EnableDeviceSupport=!0,e.EnableExplicitProjectPathOption=!1,e.EnableExplicitFileOption=!0,e.EnableExplicitStateOption=!0,e.InitialScreen=null,e.InitialState=null,e.InitialScreenPathRegexp=/([a-zA-Z0-9]+)(?:\/(.*)\.html)?/,e.ProjectPath="samples/",e.ThumbsPath=null,e.EnableAuthenticationPage=!0,e.AuthenticationPage="login",e.SetTitleToScreenFileName=!0,e.QuitHandler=function(){alert("close")},e.ReloadScreenWhenRestarting=!1,e.CatchRenderExceptions=!0,e.IncludeDataIndigoId=!1,e.ExportPlayerShell=null,e.ShowInvites=null,e.ShowHighlight=null,e.ShowToolbar=null,e.ShowNotes=null,e.UseFakeTransition=!0,e.EnableScreenXMLCaching=!0,e.EnableAssetsDownload=!1,e.EnableToc=!0,e.ShowLoadingIndicator=null,e.ShowChrome=null,e.UseFullScreen=!1,e.CenterFullScreen=!1,e.EnableDeepLinking=!0,e.EnableOrientationCheck=null,e.Modules=["responsive/module"],e.OnDemandModules=[],e.EnableExplorer=!0,e.QueryOptions={},e.VideoEmbedUrl="https://indigodesigned.com/api/services/videoEmbed",e.BuildScreenUri=function(t,e){return"?p="+e+"#f="+i.path.stripExtension(t)},e.Locale=null,e.CreateShell=!0,e.IsOffline=!1,e.IsExport=!1,e.LocalServerFonts=!1,e.UseFontLoader=!0,e.PreLoadResources=!0,e.AuthorizationQueryString="",e.initialize=o});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("errors",["require","exports","utils"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(i.ErrorCode);n.OK=new n(0),n.ScreenCannotBeFound=new n(2),n.RenderFailed=new n(3),n.InvalidScreen=new n(4),n.NotAuthorized=new n(5),e.ErrorCode=n}),function(t){"use strict";var e=t.GreenSockGlobals||t;if(!e.TweenLite){var i,n,r,o,s,a=function(t){var i,n=t.split("."),r=e;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},l=a("com.greensock"),u=1e-10,h=[].slice,d=function(){},c=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),p={},f=function(i,n,r,o){this.sc=p[i]?p[i].sc:[],p[i]=this,this.gsClass=null,this.func=r;var s=[];this.check=function(l){for(var u,h,d,c,g=n.length,m=g;--g>-1;)(u=p[n[g]]||new f(n[g],[])).gsClass?(s[g]=u.gsClass,m--):l&&u.sc.push(this);if(0===m&&r)for(h=("com.greensock."+i).split("."),d=h.pop(),c=a(h.join("."))[d]=this.gsClass=r.apply(r,s),o&&(e[d]=c,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return c}):"undefined"!=typeof module&&module.exports&&(module.exports=c)),g=0;g<this.sc.length;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,n){return new f(t,e,i,n)},m=l._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=e;var v=[0,0,1,1],_=[],y=m("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?v.concat(e):v},!0),b=y.map={},w=y.register=function(t,e,i,n){for(var r,o,s,a,u=e.split(","),h=u.length,d=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(o=u[h],r=n?m("easing."+o,null,!0):l.easing[o]||{},s=d.length;--s>-1;)a=d[s],b[o+"."+a]=b[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(r=y.prototype,r._calcEnd=!1,r.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=i.length;--n>-1;)r=i[n]+",Power"+n,w(new y(null,null,1,n),r,"easeOut",!0),w(new y(null,null,2,n),r,"easeIn"+(0===n?",easeNone":"")),w(new y(null,null,3,n),r,"easeInOut");b.linear=l.easing.Linear.easeIn,b.swing=l.easing.Quad.easeInOut;var x=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});r=x.prototype,r.addEventListener=function(t,e,i,n,r){r=r||0;var a,l,u=this._listeners[t],h=0;for(null==u&&(this._listeners[t]=u=[]),l=u.length;--l>-1;)a=u[l],a.c===e&&a.s===i?u.splice(l,1):0===h&&a.pr<r&&(h=l+1);u.splice(h,0,{c:e,s:i,up:n,pr:r}),this!==o||s||o.wake()},r.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},r.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i)};var C=t.requestAnimationFrame,T=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},k=S();for(i=["ms","moz","webkit","o"],n=i.length;--n>-1&&!C;)C=t[i[n]+"RequestAnimationFrame"],T=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,n,r,a,l,u=this,h=S(),c=e!==!1&&C,p=function(t){k=S(),u.time=(k-h)/1e3;var e,o=u.time-l;(!i||o>0||t===!0)&&(u.frame++,l+=o+(o>=a?.004:a-o),e=!0),t!==!0&&(r=n(p)),e&&u.dispatchEvent("tick")};x.call(u),u.time=u.frame=0,u.tick=function(){p(!0)},u.sleep=function(){null!=r&&(c&&T?T(r):clearTimeout(r),n=d,r=null,u===o&&(s=!1))},u.wake=function(){null!==r&&u.sleep(),n=0===i?d:c&&C?C:function(t){return setTimeout(t,1e3*(l-u.time)+1|0)},u===o&&(s=!0),p(2)},u.fps=function(t){return arguments.length?(i=t,a=1/(i||60),l=this.time+a,void u.wake()):i},u.useRAF=function(t){return arguments.length?(u.sleep(),c=t,void u.fps(i)):c},u.fps(t),setTimeout(function(){c&&(!r||u.frame<5)&&u.useRAF(!1)},1500)}),r=l.Ticker.prototype=new l.events.EventDispatcher,r.constructor=l.Ticker;var P=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,H){s||o.wake();var i=this.vars.useFrames?B:H;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});o=P.ticker=new l.Ticker,r=P.prototype,r._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var E=function(){s&&S()-k>2e3&&o.wake(),setTimeout(E,2e3)};E(),r.play=function(t,e){return arguments.length&&this.seek(t,e),this.reversed(!1).paused(!1)},r.pause=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!0)},r.resume=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!1)},r.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},r.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},r.reverse=function(t,e){return arguments.length&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},r.render=function(t,e,i){},r.invalidate=function(){return this},r.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},r._enabled=function(t,e){return s||o.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(t,e){return this._enabled(!1,!1)},r.kill=function(t,e){return this._kill(t,e),this},r._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},r._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},r.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=c(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},r.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},r.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},r.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},r.totalTime=function(t,e,i){if(s||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||this.render(t,e,!1)}return this},r.progress=r.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},r.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},r.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},r.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},r.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){s||t||o.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var I=m("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});r=I.prototype=new P,r.constructor=I,r.kill()._gc=!1,r._first=r._last=null,r._sortChildren=!1,r.add=r.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._timeline&&this._uncache(!0),this},r._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t.timeline=null,t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),this._timeline&&this._uncache(!0)),this},r.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},r.rawTime=function(){return s||o.wake(),this._totalTime};var D=m("TweenLite",function(e,i,n){if(P.call(this,i,n),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?F[D.defaultOverwrite]:"number"==typeof l?l>>0:F[l],(a||e instanceof Array||e.push&&c(e))&&"number"!=typeof e[0])for(this._targets=s=h.call(e,0),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(h.call(o,0))):(this._siblings[r]=V(o,this,!1),1===l&&this._siblings[r].length>1&&j(o,this,null,1,this._siblings[r])):(o=s[r--]=D.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=V(e,this,!1),1===l&&this._siblings.length>1&&j(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),A=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},$=function(t,e){var i,n={};for(i in t)N[i]||i in e&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!M[i]||M[i]&&M[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};r=D.prototype=new P,r.constructor=D,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=!1,D.version="1.11.4",D.defaultEase=r._ease=new y(null,null,1,1),D.defaultOverwrite="auto",D.ticker=o,D.autoSleep=!0,D.selector=t.$||t.jQuery||function(e){return t.$?(D.selector=t.$,t.$(e)):t.document?t.document.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var O=D._internals={isArray:c,isSelector:A},M=D._plugins={},L=D._tweenLookup={},R=0,N=O.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},F={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},B=P._rootFramesTimeline=new I,H=P._rootTimeline=new I;H._startTime=o.time,B._startTime=o.frame,H._active=B._active=!0,P._updateRoot=function(){if(H.render((o.time-H._startTime)*H._timeScale,!1,!1),B.render((o.frame-B._startTime)*B._timeScale,!1,!1),!(o.frame%120)){var t,e,i;for(i in L){for(e=L[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[i]}if(i=H._first,(!i||i._paused)&&D.autoSleep&&!B._first&&1===o._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||o.sleep()}}},o.addEventListener("tick",P._updateRoot);var V=function(t,e,i){var n,r,o=t._gsTweenID;if(L[o||(t._gsTweenID=o="t"+R++)]||(L[o]={target:t,tweens:[]}),e&&(n=L[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return L[o].tweens},j=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;o<l;o++)if((a=r[o])!==e)a._gc||a._enabled(!1,!1)&&(s=!0);else if(5===n)break;return s}var h,d=e._startTime+u,c=[],p=0,f=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(h=h||z(e,0,f),0===z(a,h,f)&&(c[p++]=a)):a._startTime<=d&&a._startTime+a.totalDuration()/a._timeScale>d&&((f||!a._initted)&&d-a._startTime<=2e-10||(c[p++]=a)));for(o=p;--o>-1;)a=c[o],2===n&&a._kill(i,t)&&(s=!0),(2!==n||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(s=!0);return s},z=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&o-e<2*u?u:(o+=t.totalDuration()/t._timeScale/r)>e+u?0:o-e-u};r._init=function(){var t,e,i,n,r=this.vars,o=this._overwrittenProps,s=this._duration,a=r.immediateRender,l=r.ease;if(r.startAt){if(this._startAt&&this._startAt.render(-1,!0),r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=D.to(this.target,0,r.startAt),a)if(this._time>0)this._startAt=null;else if(0!==s)return}else if(r.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{i={};for(n in r)N[n]&&"autoCSS"!==n||(i[n]=r[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=D.to(this.target,0,i),r.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(l?l instanceof y?this._ease=r.easeParams instanceof Array?l.config.apply(l,r.easeParams):l:this._ease="function"==typeof l?new y(l,r.easeParams):b[l]||D.defaultEase:this._ease=D.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&D._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},r._initProps=function(e,i,n,r){var o,s,a,l,u,h;if(null==e)return!1;this.vars.css||e.style&&e!==t&&e.nodeType&&M.css&&this.vars.autoCSS!==!1&&$(this.vars,e);for(o in this.vars){if(h=this.vars[o],N[o])h&&(h instanceof Array||h.push&&c(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(M[o]&&(l=new M[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:l._priority},s=l._overwriteProps.length;--s>-1;)i[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[o]=u={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},u.s=u.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),u.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-u.s||0;u&&u._next&&(u._next._prev=u)}return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&j(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):a},r.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===l&&(s=this._rawPrevTime,(0===t||s<0||s===u)&&s!==t&&(i=!0,s>u&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||0===s?t:u);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&this._rawPrevTime>u)&&(r="onReverseComplete",n=this._reversed),t<0?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=s=!e||t||0===this._rawPrevTime?t:u)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,d=this._easeType,c=this._easePower;(1===d||3===d&&h>=.5)&&(h=1-h),3===d&&(h*=2),1===c?h*=h:2===c?h*=h*h:3===c?h*=h*h*h:4===c&&(h*=h*h*h*h),1===d?this.ratio=1-h:2===d?this.ratio=h:t/l<.5?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_)),r&&(this._gc||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||_),0===l&&this._rawPrevTime===u&&s!==u&&(this._rawPrevTime=0)))}},r._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var i,n,r,o,s,a,l,u;if((c(e)||A(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){l=t||s,u=t!==n&&"all"!==n&&t!==s&&("object"!=typeof t||!t._tempKill);for(r in l)(o=s[r])&&(o.pg&&o.t._kill(l)&&(a=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete s[r]),u&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},r.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},r._enabled=function(t,e){if(s||o.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=V(n[i],this,!0);else this._siblings=V(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(t?"_onEnable":"_onDisable",this)},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,n,r,o;if((c(t)||A(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else for(n=V(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var W=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=W.prototype},!0);if(r=W.prototype,W.version="1.10.1",W.API=2,r._firstPT=null,r._addTween=function(t,e,i,n,r,o){var s,a;if(null!=n&&(s="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2))))return this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:s,f:"function"==typeof t[e],n:r||e,r:o},a._next&&(a._next._prev=a),a},r.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=e+(e>0?.5:-.5)|0:e<n&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},r._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},r._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},W.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===W.API&&(M[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){W.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new W(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,W.activate([s]),s},i=t._gsQueue){for(n=0;n<i.length;n++)i[n]();for(r in p)!p[r].func}s=!1}}(window),define("animation",function(){});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("layout",["require","exports","utils","animation","jquery"],function(t,e,i){"use strict";function n(){return e.AnimationFrameManager.update()&&e.AnimationFrameSubscriptor.update()}function r(){return TweenLite.ticker&&com.greensock.core.Animation._rootTimeline.timeScale(1e5),o(10)}function o(t){function e(i,r){try{var o=com.greensock.core.Animation,s=o._rootTimeline&&null!=o._rootTimeline._first;n()||s?t&&i>=t?r.resolve(!1):setTimeout(function(){e(i+1,r)},10):r.resolve(!0)}catch(t){r.reject(t)}}var i=jQuery.Deferred();return e(0,i),i.promise()}function s(t,i){e.AnimationFrameSubscriptor.subscribe(t,i)}function a(t,i){e.AnimationFrameSubscriptor.unsubscribe(t,i)}function l(t){function i(){var e=t();return void 0===e||!!e}e.AnimationFrameManager.queue({update:i})}function u(){var t=jQuery.Deferred();return e.AnimationFrameManager.queue({update:function(){return t.resolve(),!0}}),t.promise()}function h(t){var i=jQuery.Deferred();return e.AnimationFrameManager.queue({update:function(){return i.resolve(t),!0}}),i.promise()}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(){this._ticker=null}return t.prototype.bind=function(){this._ticker||(this._ticker=TweenLite.ticker||(TweenLite.ticker=new window["com.greensock.Ticker"]),this._ticker.addEventListener("tick",this._onAnimationFrame,this))},t.prototype.unbind=function(){this._ticker&&(this._ticker.removeEventListener("tick",this._onAnimationFrame,this),this._ticker=null)},t.prototype._onAnimationFrame=function(){throw new i.AbstractMethodException},t}();e.AnimationFrameListener=d;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ticks=0,e._invalids=[],e._invalidsNow=[],e}return __extends(e,t),e.prototype.queue=function(t){var e=this._invalids;if(void 0===t.order)e.push({frame:t,order:null});else{var n,r=t.order||0;for(n=0;n<e.length;n++){var o=e[n];if(null===o.order||o.order<r){i.array.insertAt(e,n,{frame:t,order:r});break}}n===e.length&&e.push({frame:t,order:r})}this.bind()},e.prototype.queueNow=function(t){this._invalidsNow.push({frame:t,order:null}),this.bind()},e.prototype.update=function(){var t=!1;if(0==this._invalids.length)this._ticks++,this._ticks>10&&this.unbind();else{this._ticks=0;var e=this._invalids;this._invalids=[];for(var i=0;i<e.length;i++){var n=e[i];t=n.frame.update()||t}if(this._invalidsNow.length>0){e=this._invalidsNow,this._invalidsNow=[];for(var i=0;i<e.length;i++){var n=e[i];t=n.frame.update()||t}}}return t},e.prototype._onAnimationFrame=function(){this.update()},e}(d),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ticks=0,e._subscribers=[],e}return __extends(e,t),e.prototype.subscribe=function(t,e){this._subscribers.push({update:t,context:e}),this.bind()},e.prototype.unsubscribe=function(t,e){var i=this._subscribers.filter(function(i){return i.update==t&&i.context==e});if(0!=i.length){var n=this._subscribers.indexOf(i[0],0);n>=0&&(this._subscribers.splice(n,1),this.bind())}},e.prototype.update=function(){var t=this._subscribers,e=!1;if(0==t.length)this._ticks++,this._ticks>10&&this.unbind();else{this._ticks=0;for(var i=0;i<t.length;i++)e=t[i].update.call(t[i].context)||e}return e},e.prototype._onAnimationFrame=function(){this.update()},e}(d);e.AnimationFrameManager=new c,e.AnimationFrameSubscriptor=new p,e.completeAnimations=r,e.whenAnimationsComplete=o,e.onLayoutUpdate=s,e.unsusbscribeToLayoutUpdate=a,e.onNext=l,e.deferredToNext=u,e.deferredToNextWith=h;var f=function(t){function e(e){var i=t.call(this)||this;return i._fixedElements=[],i._popupLayer=e||document.body,i}return __extends(e,t),e.prototype.setLayer=function(t){this._popupLayer=t},e.prototype.open=function(t,e,n,r,o,s){var a,l,u=t.style;n?(l=n(e),a=null===l):(l={x:parseInt(u.left),y:parseInt(u.top)},a=!1);for(var h=0;h<this._fixedElements.length;h++){var d=this._fixedElements[h];if(d.element===t)return d.relativeTo=e,d.offset=l,d.relativeToHidden=a||r,d.last=null,!1}if(r&&"none"!==u.display)throw new i.ArgumentException("When popup manager handles the display, the original display of the popup must be 'none'");var c=t.parentNode;return this._fixedElements.push({element:t,relativeTo:e,originalParent:c,offset:l,relativeToHidden:a||r,last:null,display:u.display,displayOnOpen:r===!0,getOffset:n,getSize:s,onOpen:o}),c&&c.removeChild(t),a&&(u.display="none"),t.style.position="absolute",this._popupLayer.appendChild(t),1===this._fixedElements.length&&this.bind(),!0},e.prototype.close=function(t){for(var e=0;e<this._fixedElements.length;e++)if(this._fixedElements[e].element===t)return this.closeIndex(e),0===this._fixedElements.length&&this.unbind(),!0;return!1},e.prototype.dispose=function(){for(var t=0;t<this._fixedElements.length;t++)return this.closeIndex(t),0===this._fixedElements.length&&this.unbind(),!0;return!1},e.prototype.update=function(){for(var t=!1,e=this._fixedElements.length-1;e>=0;e--){var n=this._fixedElements[e];if(null===n.relativeTo.parentNode)this.closeIndex(e),t=!0;else{var r=i.ui.getPosition(n.relativeTo,this._popupLayer);if(null===r){if(!n.relativeToHidden){var o=n.element.style;n.displayOnOpen||(n.display=o.display),o.display="none",n.relativeToHidden=!0,t=!0}}else{var s=!1;if(n.relativeToHidden&&(n.getOffset?(n.offset=n.getOffset(n.relativeTo),n.relativeToHidden=null==n.offset):n.relativeToHidden=!1,!n.relativeToHidden)){s=!0;var o=n.element.style;n.displayOnOpen?o.removeProperty("display"):o.display=n.display,t=!0}if(!n.relativeToHidden){var a=r.x+n.offset.x,l=r.y+n.offset.y;if(!n.last||n.last.x!==a||n.last.y!==l){var u={x:a,y:l},h=n.element.style;if(h.top=Math.round(u.y)+"px",h.left=Math.round(u.x)+"px",n.getSize){var d=n.getSize(n.relativeTo);d&&(null!==d.width&&(h.width=d.width+"px"),null!==d.height&&(h.height=d.height+"px"))}n.last=u,t=!0}}s&&n.onOpen&&n.onOpen()}}}return t},e.prototype._onAnimationFrame=function(){this.update()},e.prototype.closeIndex=function(t){var e=this._fixedElements[t];i.array.removeAt(this._fixedElements,t),e.element.parentNode.removeChild(e.element),e.element.style.display=e.display,
e.originalParent&&e.originalParent.appendChild(e.element)},e}(d);e.PopupManager=f;var g;!function(t){function e(){n()}t.UpdateAnimationFrame=e}(g=e.test||(e.test={}))}),define("data",["require","exports","utils"],function(t,e,i){"use strict";function n(t){return t&&void 0!==t.id&&void 0!==t.datatype}function r(t){var e=t.indexOf(":");return e!=-1?{name:t.substr(e+1),namespace:t.substr(0,e)}:{name:t,namespace:""}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.name=t,this.namespace=e||null}return t.prototype.fullname=function(){return null===this.namespace?this.name:this.namespace+":"+this.name},t.prototype.toString=function(){return this.fullname()},t}();e.DataType=o,e.VisitorSkip={},e.isDataObject=n;var s=function(){function t(t){this.message="Not template for given type",this.typeName=t}return t}();e.DataTypeNotFoundError=s;var a=function(){function t(t){this.templates=new i.collections.Map,this.createOnGet=!!t}return t.prototype.add=function(t,e){this.templates.put(t,e)},t.prototype.get=function(t){if(this.templates.has(t))return this.templates.get(t);if(this.createOnGet){var e=r(t),i=new o(e.name,e.namespace);return this.add(t,i),i}throw new s(t)},t.prototype.has=function(t){return this.templates.has(t)},t}();e.DataTypeCatalog=a;var l=function(){function t(t){if(this._beforeAddConverter=null,t){for(var e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}else this.length=0;this._changeHandlers=[]}return Object.defineProperty(t.prototype,"beforeAddConverter",{get:function(){return this._beforeAddConverter},set:function(t){this._beforeAddConverter=t},enumerable:!0,configurable:!0}),t.prototype.map=function(t,e){return Array.prototype.map.apply(this,arguments)},t.prototype.reduce=function(t,e){return Array.prototype.reduce.apply(this,arguments)},t.prototype.slice=function(t,e){return Array.prototype.slice.apply(this,arguments)},t.prototype.push=function(){if(1===arguments.length){var t=arguments[0];return null!==this._beforeAddConverter&&(t=this._beforeAddConverter(t)),Array.prototype.push.call(this,t),this.notifyChanged(this.length-1,[],[t]),this.length}if(arguments.length>1){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];null!==this._beforeAddConverter&&(e=e.map(this._beforeAddConverter)),e=[this.length,0].concat(Array.prototype.slice.call(e)),this.splice.apply(this,e)}return this.length},t.prototype.indexOf=function(t,e){return Array.prototype.indexOf.call(this,t,e)},t.prototype.pop=function(){if(this.length>0){var t=this.length-1,e=this.splice(t,1);return e[0]}},t.prototype.shift=function(){if(this.length>0){var t=this.splice(0,1);return t[0]}},t.prototype.unshift=function(){var t=[0,0].concat(Array.prototype.slice.call(arguments));return this.splice.apply(this,t),this.length},t.prototype.splice=function(){var t,e,i=arguments[0],n=arguments[1];if(null!==this._beforeAddConverter){e=[];for(var r=this._beforeAddConverter,o=2;o<arguments.length;o++)e.push(r(arguments[o]));t=Array.prototype.splice.apply(this,[i,n].concat(e))}else e=Array.prototype.slice.call(arguments,2),t=Array.prototype.splice.apply(this,arguments);return this.notifyChanged(i,t,e),t},t.prototype.onChanged=function(t,e,i){this._changeHandlers.push({handler:t,scope:e,arg:i})},t.prototype.offChanged=function(t){for(var e=0;e<this._changeHandlers.length;e++){var i=this._changeHandlers[e];i&&i.handler===t&&this._changeHandlers.splice(e,1)}},t.prototype.notifyChanged=function(t,e,i){for(var n=0;n<this._changeHandlers.length;n++){var r=this._changeHandlers[n];r.scope?r.handler.call(r.scope,this,t,e,i,r.arg):r.handler(this,t,e,i,r.arg)}},t}();e.ObservableArray=l,e.Catalog=new a(!0)});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("templates",["require","exports","utils"],function(t,e,i){"use strict";function n(t,e){return new l(void 0,t,e)}function r(t,e){var i=new l(t,void 0,e);return i.load()}Object.defineProperty(e,"__esModule",{value:!0}),e.fromHtml=n,e.fromUrl=r;var o=function(t){function e(e){var i=t.call(this,"No template for type","Not template for type '"+e+"'",null)||this;return i.type=e,i}return __extends(e,t),e}(i.Exception);e.NoTemplateForElementError=o;var s=function(t){function e(e){return t.call(this,"Invalid template",e)||this}return __extends(e,t),e}(i.Exception);e.InvalidTemplateError=s;var a=function(){function t(){this.templates=new i.collections.Map,this.catalogs=[]}return t.prototype.addCatalog=function(t){this.catalogs.push(t)},t.prototype.add=function(t,e){this.templates.put(t,e)},t.prototype.apply=function(t){return this.get(t).apply()},t.prototype.get=function(t){if(this.templates.has(t))return this.templates.get(t);for(var e=0;e<this.catalogs.length;e++){var i=this.catalogs[e];if(i.has(t))return i.get(t)}throw new o(t)},t.prototype.has=function(t){if(this.templates.has(t))return!0;for(var e=0;e<this.catalogs.length;e++){var i=this.catalogs[e];if(i.has(t))return!0}return!1},t.prototype.merge=function(t){return this.templates.merge(t.templates),this},t}();e.TemplateCatalog=a;var l=function(t){function e(e,i,n){var r=t.call(this)||this;return r.htmlUrl=e,r.defaultNamespace=n&&n.defaultNamespace,r.translateStrings=n&&n.translateStrings,i&&r.loadTemplates(i),r}return __extends(e,t),e.prototype.load=function(){var t=this;if(this.htmlUrl)return jQuery.get(this.htmlUrl,null,null,"html").done(function(e){return t.loadTemplates(e)}).then(function(){return t},function(){return null});var e=jQuery.Deferred();return e.resolveWith(this),e.promise()},e.prototype.loadTemplates=function(t){var i,n=document.implementation.createHTMLDocument("templates"),r=this.defaultNamespace||"",o=t.indexOf("<body");if(o!=-1){var s=t.indexOf(">",o),a=t.lastIndexOf("</body>");i=t.substr(s+1,a-s-1);var l=t.substr(o,s-o);if(!this.defaultNamespace){var u=e.BodyTagRegexp.exec(l);u&&(r=u[1])}}else i=t;n.body.innerHTML=i;for(var h=n.body.childNodes,d=h.length-1;d>=0;d--){var c=h[d];c.nodeType===Node.ELEMENT_NODE&&(n.body.removeChild(c),this.loadTemplate(r,c))}},e.prototype.loadTemplate=function(t,e){var n=i.dom.attribute(e,"data-template-name");if(null==n)throw new s("Missing 'data-template-name' attribute on template element: '"+e+"'");if(e.removeAttribute("data-template-name"),this.translateStrings&&i.locale.translateElement(e),"true"===i.dom.attribute(e,"data-template-fragment")){for(var r=document.createDocumentFragment();e.childNodes.length>0;){var o=e.childNodes.item(0);e.removeChild(o),r.appendChild(o)}for(var a=n.split(" "),l=0;l<a.length;l++)this.add(t+a[l],new u(r))}else for(var a=n.split(" "),l=0;l<a.length;l++)this.add(t+a[l],new h(e))},e}(a);l.BodyTagRegexp=/data-namespace\s*=\s*["'](.*?)["']/;var u=function(){function t(t){this.templateBody=t}return t.prototype.apply=function(){return this.templateBody.cloneNode(!0)},t}();e.FragmentTemplate=u;var h=function(){function t(t){this.templateBody=t}return t.prototype.apply=function(){return this.templateBody.cloneNode(!0)},t}();e.ElementTemplate=h;var d=function(){function t(t){this.templateStr=t,this.template=null}return t.prototype.apply=function(){var t=this.getTemplateNode();return t.cloneNode(!0)},t.prototype.getTemplateNode=function(){if(null===this.template){var t=$(this.templateStr);if(1===t.length){var e=t[0];this.template=e}else{var i=document.createElement("div");t.appendTo(i),this.template=i}}return this.template},t}();e.LiteralTemplate=d,e.DefaultCatalog=new a});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("adapters",["require","exports","utils","devices","data","templates","jquery","hammer"],function(t,e,i,n,r,o){"use strict";function s(t){return new CustomEvent(t,{detail:{internal:!0}})}function a(t){return t.isDefaultDef||(t.source?a(t.source):null)}function l(t){return null==t||""==t?null:parseInt(t)}function u(t){return null!=t?t+"px":void 0}function h(t){return t}function d(t){return void 0!==t?parseFloat(t):void 0}function c(t){return t?t.toLowerCase():""}function p(t){return!g(t)}function f(t){return!m(t)}function g(t){return t===!0||"true"===t}function m(t){var e=typeof t;return"boolean"===e?t:"string"===e?"false"!==t.toLowerCase():!!t}function v(t){return void 0!==t.left?t:i.Thickness.parse(t)}function _(t){return void 0!==t.width?t:i.geom.parseSize(t)}function y(t){return void 0!==t.x&&void 0!==t.y?t:i.geom.parsePoint(t)}function b(t){if(void 0!==t.scaleX&&void 0!==t.scaleY)return t;var e=i.geom.parsePoint(t);return{scaleX:e.x,scaleY:e.y}}function w(t){if(void 0!==t.size&&void 0!==t.rect&&void 0!==t.shape)return t;var e=i.geom.parseCrop(t);return e}function x(t,e){var n=e.isDefault;if(n)return n.call(t);var r=e.entry;if(r)return x(t,r.property);throw new i.ArgumentException("property")}function C(t){var e=lt(t).elementProperties;return void 0===e&&(e=[]),e}function T(t){var e=lt(t).childProperties;return void 0===e&&(e=[]),e}function S(t,e){return ut(new Jt({getterDef:function(i){var n=e.getterDef(i);return function(){return k(this,t,function(t){return n.call(t)})}},setterDef:function(i){var n=e.setterDef(i);return function(e){return k(this,t,function(t){return n.call(t,e)})}},source:e}))}function k(t,e,i){var n=t.target;t.target=t.getTarget(e);try{return i(t)}finally{t.target=n}}function P(t){return new Jt({getterDef:function(e){var i=t.getterDef(e),n=e+"__detached";return function(){return this.isAttached?i.call(this):pt(this,n)}},setterDef:function(e){var i=t.setterDef(e),n=e+"__detached",r=e+"__registered";return function(t){ft(this,n,t),this.isAttached?i.call(this,t):void 0===pt(this,r)&&(ft(this,r,function(t){var e=t.adapter;i.call(e,pt(e,n)),e.attached().unsubscribe(pt(e,r)),ft(e,r,null)}),this.attached().subscribe(pt(this,r)))}},isDefaultDef:function(t){var e=t+"__detached";return function(){return void 0===pt(this,e)}},source:t})}function E(t){return new Jt({getterDef:function(e){var i=t.getterDef(e),n=e+"__detached";return function(){return this.parent?i.call(this):pt(this,n)}},setterDef:function(e){var i=t.setterDef(e),n=e+"__detached",r=e+"__registered";return function(t){ft(this,n,t),this.parent?i.call(this,t):void 0===pt(this,r)&&(ft(this,r,function(t,e){i.call(t,pt(t,n)),t.parented().unsubscribe(pt(t,r)),ft(t,r,null)}),this.parented().subscribe(pt(this,r)))}},isDefaultDef:function(t){var e=t+"__detached";return function(){return void 0===pt(this,e)}},source:t})}function I(t,e){var i=kt(t);return J().convert({afterGet:function(t){return void 0===t&&(t=this.getTarget$(i.selector)[i.property]("option",e)),t},beforeSet:function(t){return this.getTarget$(i.selector)[i.property]("option",e,t),t}})}function D(){var t=kt(arguments);return ut(J().convert({afterGet:function(e){if(void 0===e){var n=this.getTarget(t.selector);e=n&&i.css.hasClass(n,t.property)}return e},beforeSet:function(e){var n=this.getTarget(t.selector);return n&&i.css.toggleClass(n,t.property,e),e}}))}function A(t){var e=null,i=null;if(t)if("string"==typeof t)i=t;else{var n=t;i=n.selector,e=n.defaultClass}var r=e?J({defaultValue:e}):J();return r.onChange(function(t,e){t&&this.getTarget$(i).removeClass(t),e&&this.getTarget$(i).addClass(e)})}function O(t){return ut(new Jt({getterDef:function(e){return function(){var e=this.getTarget(t);return e&&"none"!==e.style.display}},setterDef:function(e){return function(e){var i=this.getTarget(t);i&&(e?i.style.removeProperty("display"):i.style.display="none")}}}))}function M(){var t=kt(arguments);return Q({getter:function(){return this.getTarget$(t.selector).prop(t.property)},setter:function(e){return this.getTarget$(t.selector).prop(t.property,e),e}})}function L(t,e){var n,r;return i.css.setupScriptStylesheet(),Ft(t)?(r=function(n){if(void 0===n&&this.isAttached){var r=Nt(t,this);n=i.css.computed($(r)[0],e)}return n},n=function(n){var r=Nt(t,this);return i.css.updateClass(r,e,n),n}):(r=function(n){return void 0===n&&this.isAttached&&(n=i.css.computed(this.getTarget(t),e)),n},n=function(n){if(!this.target.id)throw new i.InvalidOperationException("The updateClass property can only be used when the adapter target has a HTML element ID set");var r="#"+this.target.id+" "+t;return i.css.updateClass(r,e,n),n}),J().convert({beforeSet:n,afterGet:r})}function R(){var t=kt(arguments);return J().convert({afterGet:function(e,i){if(void 0===e){var n=this.getTarget(t.selector);e=n.style[t.property],i.setter.call(this,e)}return e},beforeSet:function(e){var i=this.getTarget(t.selector);return i.style[t.property]=void 0===e?null:e,e}})}function N(){var t=kt(arguments);return J().convert({afterGet:function(e,n){return void 0===e&&this.isAttached&&(e=i.css.computed(this.getTarget(t.selector),t.property),n.setter.call(this,e)),e},beforeSet:function(e){return this.getTarget$(t.selector).css(t.property,e),e}})}function F(t){var e=null,n=i.Thickness.zero();if(t)if("string"==typeof t)e=t;else{var r=t;e=r.selector,r.fixed&&(n=r.fixed)}return J().convert({afterGet:function(t){if(void 0!==t)return t;if(this.isAttached){var r=this.getTarget$(e);return new i.Thickness(parseInt(r.css("margin-left"))-n.left,parseInt(r.css("margin-top"))-n.top,parseInt(r.css("margin-right"))-n.right,parseInt(r.css("margin-bottom"))-n.bottom)}},beforeSet:function(t){var i=this.getTarget$(e);return i.css({"margin-left":t.left+n.left,"margin-top":t.top+n.top,"margin-right":t.right+n.right,"margin-bottom":t.bottom+n.bottom}),t}}).asThickness()}function B(t){var e=null,n=i.Thickness.zero();if(t)if("string"==typeof t)e=t;else{var r=t;e=r.selector,r.fixed&&(n=r.fixed)}return J().convert({afterGet:function(t){if(void 0!==t)return t;if(this.isAttached){var r=this.getTarget$(e);return new i.Thickness(parseInt(r.css("padding-left"))-n.left,parseInt(r.css("padding-top"))-n.top,parseInt(r.css("padding-right"))-n.right,parseInt(r.css("padding-bottom"))-n.bottom)}},beforeSet:function(t){var i=this.getTarget$(e);return i.css({"padding-left":t.left+n.left,"padding-top":t.top+n.top,"padding-right":t.right+n.right,"padding-bottom":t.bottom+n.bottom}),t}}).asThickness()}function H(){var t=kt(arguments);return J().convert({afterGet:function(e,i){if(void 0===e){var n=this.getTarget(t.selector);n&&(e=n.getAttribute(t.property)),void 0!==e&&i.setter.call(this,e)}return e},beforeSet:function(e){var i=this.getTarget(t.selector);return null!=i&&(null==e?i.removeAttribute(t.property):i.setAttribute(t.property,e)),e}})}function V(t){var e=kt(t),i=J();return i.convert({afterGet:function(t){if(void 0===t){var i=this.getTarget(e.selector);if(i)return i.hasAttribute(e.property)}return t},beforeSet:function(t){var i=this.getTarget(e.selector);return null!=i&&(t===!0?i.setAttribute(e.property,e.property):i.removeAttribute(e.property)),t}})}function j(t){return ut(new Jt({getterDef:function(e){return function(){return this.getTarget$(t).text()}},setterDef:function(e){return function(e){this.getTarget$(t).text(e)}},isDefaultDef:function(t){return Vt}}))}function z(t){return ut(new Jt({getterDef:function(e){return function(){return this.getTarget$(t).html()}},setterDef:function(e){return function(e){this.getTarget$(t).html(e)}},isDefaultDef:function(t){return Vt}}))}function W(){return $t(new Jt({getterDef:function(t){return function(){return pt(this,t)}},setterDef:function(t){return function(e){var i=pt(this,t);i!==e&&(i&&this._detachChild(i),ft(this,t,e),e&&this._attachChild(e))}},isDefaultDef:Bt}),!0)}function U(){return ut($t(new Zt({onAdd:function(t){this._attachChild(t)},onRemove:function(t){this._detachChild(t)}}),!0))}function q(t){return W().onChange({handler:function(e,i){e&&this.removeChild(e,t,null),i&&this.appendChild(i,null,t,null)},beforeChange:!0})}function G(t){return U().onAddOrRemove({onAdd:function(e,i){this.appendChild(e,i,t,null)},onRemove:function(e){this.removeChild(e,t,null)},beforeChange:!0})}function X(t,e,i,n){return U().onAddOrRemove({onAdd:function(e,i){this.appendChild(e,i,n,t(e.target))},onRemove:function(t){this.removeChild(t,n,e(t.target))},beforeChange:!0})}function K(){var t=kt(arguments),e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:3===arguments.length?arguments[2]:Gt;return U().onAddOrRemove({onAdd:function(i,n){null!=e.preventDefault&&(i.preventDefault=e.preventDefault),this.bind(t.property,i,t.selector,e,n)},onRemove:function(i){this.unbind(t.property,i,t.selector,e)},beforeChange:!0})}function Y(){var t;if(t=1===arguments.length?arguments[0]:e.create.apply(this,arguments),!t)throw new i.ArgumentException("adapterClass");return ut(W().convert({afterGet:function(e,i){if(void 0===e){var n=this.target;e=new t(function(){return n}),i.setter.call(this,e)}return e},beforeSet:function(e,i){var n=this.target,r=Pt(this,e,t,i,function(){return n});return null!=r&&r.setTarget(this.target),r}}))}function Q(t){return ut(new Jt({getterDef:function(){return t.getter},setterDef:function(){return t.setter}}))}function J(t){return ut(new Jt({getterDef:function(e){return function(){var i=pt(this,e);return void 0===i&&void 0!==t?t.defaultValue:i}},setterDef:function(t){return function(e){ft(this,t,e)}},isDefaultDef:Bt}))}function Z(t){return t.convert({afterGet:function(t){return!t},beforeSet:function(t){return!t}})}function tt(t,e){return i.ui.getTransform(t.target,e?e.target:null)}function et(t){return t.prototype.__template}function it(t){return At(t.definition)}function nt(t){return Array.isArray(t)||null!=t&&void 0!==t.length&&void 0!==t.splice}function rt(t){for(var e=0;t;)e++,t=t.parent;return e}function ot(t){for(var e=t;e&&!e.__adapter;)e=e.parentNode;return e}function st(t){return t&&t.__adapter}function at(t,e){t.__adapter=e}function lt(t){return Object.getPrototypeOf(t).constructor}function ut(t){return t}function ht(t,e){var i=t.property.isDefault;return i&&i.call(e)}function dt(t,e){return t.property.getter.call(e)}function ct(t,e,i){return t.property.setter.call(e,i)}function pt(t,e){return t.store[e]}function ft(t,e,i){t.store[e]=i}function gt(t,e,i){function n(t){s.call(this,t)}var r,s,a;if(Array.isArray(t)?(r=!0,s=t[0],a=t.slice(1)):(r=!1,s=t,a=null),arguments.length>1){var l=typeof arguments[1];if("object"===l)i=arguments[1],e=void 0;else{if("function"===l)e=arguments[1];else if("string"===l){var u=new o.LiteralTemplate(arguments[1]);e=function(){return u.apply()}}else if(arguments[1]instanceof Element){var h=arguments[1];e=function(){return h.cloneNode(!0)}}arguments.length>2&&(i=arguments[2])}}var d=n;Lt(d,s);var c=[],p=[],f=[];if(_t(s.elementFunctions,c),yt(s.elementProperties,p),yt(s.childProperties,f),r){var g={};if(a.forEach(function(t){var e=t.elementProperties;e&&e.forEach(function(t){g[t.name]=t.property.definition});var i=t.elementFunctions;i&&i.forEach(function(t){g[t.name]=t.func})}),i)for(var m in i){var v=i[m];if("initialize"===m||"onAttach"===m||"onDetach"===m){var _=g[m];_&&(v=mt(_,v))}g[m]=v}i=g}if(i)for(var m in i){var y=i[m],b=null!=y&&y.getterDef&&y.setterDef;if(vt(m)||(d[m]=y),b){var w=y,x=w.create(m),C=wt(m,x,p);$t(y)?wt(m,x,f):bt(m,f),y=Ot(x,C)}else xt(m,y,c);d.prototype[m]=y}d.elementFunctions=c,d.elementProperties=p,d.childProperties=f;for(var T=0;T<d.elementProperties.length;T++){var C=d.elementProperties[T];d[C.name]||(d[C.name]=C.property.definition)}return e&&St(d,e),d}function mt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function vt(t){return"name"===t||"call"===t||"apply"===t}function _t(t,e){if(t)for(var i=0;i<t.length;i++){var n=t[i];e.push({name:n.name,func:n.func})}}function yt(t,e){if(t)for(var i=0;i<t.length;i++){var n=t[i];e.push({name:n.name,property:n.property})}}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t)return i.array.removeAt(e,n),!0}return!1}function wt(t,e,i){var n=Ct(t,i);return null!==n?n.property=e:(n={name:t,property:e},i.push(n)),n}function xt(t,e,i){var n=Tt(t,i);null!==n?n.func=J:i.push({name:t,func:e})}function Ct(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t)return n}return null}function Tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t)return n}return null}function St(t,e){return t.prototype.__template=e}function kt(){if("string"==typeof arguments[0]){var t=arguments[0],e=t.lastIndexOf(".");return e!=-1?{selector:t.substr(0,e),property:t.substr(e+1)}:{selector:null,property:t}}var i=arguments[0];return i.length>1&&"string"==typeof i[0]&&"string"==typeof i[1]?{selector:i[0],property:i[1]}:kt(i[0])}function Pt(t,e,i,n,r,o){var s;if(null==e||Object.getPrototypeOf(e).constructor===i)return e;if(s=o!==!0&&null!=n&&n.getter.call(t)||new i(r),e instanceof Xt){s.id(e.id()),s.datatype(e.datatype());for(var a=C(e),l=0;l<a.length;l++){var u=a[l],h=u.property.getter.call(e);if(!x(e,u.property)){var d=s[u.name];d&&d.call(s,h)}}}else for(var c in e)s.property(c,e[c]);return s}function Et(t){var e=t.__template;return e?e:t.prototype?t.prototype.__template:void 0}function It(t){return i.strings.startsWith(t,Wt)}function Dt(t,e,i){return void 0===i?t[Wt+e]:(t[Wt+e]=i,t)}function At(t,e){return Dt(t,"converter",e)}function $t(t,e){return Dt(t,"isChild",e)}function Ot(t,e){var i=function(){return 0===arguments.length?t.getter.call(this):(t.setter.apply(this,arguments),this)};return i.entry=e,i}function Mt(t,e){for(var i in e)It(i)&&(t[i]=e[i]);return t}function Lt(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}function Rt(t,e){if("_index_"==e){var n=t.parent;if(n&&t instanceof Yt&&(t=n,n=t.parent),!n)throw new i.ArgumentException("No parent on adapter");var r=t.parent.property(t.parentProperty);if(!r||!r.indexOf)throw new i.ArgumentException("Property is not a collection");return r.indexOf(t)+1}for(var o=e.split("."),s=t,a=0;a<o.length;a++){var l=o[a];if("parent"===l){var n=s.parent;n&&s instanceof Yt&&(n=n.parent),s=n}else if("id"===l)s=s instanceof Yt?s.parent.id():s instanceof Xt?s.id():s.id;else{var u=s[l];if(void 0===u)throw new i.ArgumentException("Invalid path: "+e);if(null===u)return null;s="function"==typeof u?u.call(s):u}}return s}function Nt(t,e){var i=te.lastIndex;te.lastIndex=0;var n,r=t.split(te);if(r.length>1){n=r[0],te.lastIndex=0;for(var o=te.exec(t),s=1;s<r.length;s++){var a=o[0].substr(2,o[0].length-3);n+=Rt(e,a)+r[s],o=te.exec(t)}}else n=t;return te.lastIndex=i,n}function Ft(t){var e=te.test(t);return te.lastIndex=0,e}function Bt(t){return function(){return void 0===pt(this,t)}}function Ht(t){return function(){var e=pt(this,t);return void 0===e||0===e.length}}function Vt(){return!1}function jt(){return!0}Object.defineProperty(e,"__esModule",{value:!0});var zt=1,Wt="__adapters_";e.IncludeDataIndigoId=!0;var Ut=function(t){function e(e){return t.call(this,"Invalid adapter definition",e)||this}return __extends(e,t),e}(i.Exception);e.InvalidAdapterDefinition=Ut;var qt=function(t){function e(e){return t.call(this,"Invalid adapter state",e)||this}return __extends(e,t),e}(i.Exception);e.InvalidAdapterState=qt;var Gt={preventDefault:null,ignoreOnMobile:!1,hammerOptions:null},Xt=function(){function t(t){this._uniqueId="i"+zt++,this._targetFactory=t,this._datatype=null,this._id=null,this._store={},this._attachContext=null,this._isAttached=!1,this._parent=null,this._parentProperty=null,this._handlers=null,this._attachedHandler=null,this._parentedHandler=null,this._target=null,this._stateContext=null,this.initialize()}return Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"store",{get:function(){return this._store},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return null===this._target&&(this._target=this._targetFactory?this._targetFactory():this._createTarget(),this instanceof Yt||(this._target.id=this._uniqueId)),this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInteractive",{get:function(){if(null!=this._handlers)for(var t in this._handlers)if(this.isInteractiveEvent(t)){var e=this._handlers[t];if(null!=e&&e.handlers.length>0)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateContext",{get:function(){var t=this,e=null;do e=t._stateContext,t=t.parent;while(null===e&&null!==t);return e},set:function(t){this._stateContext=t},enumerable:!0,configurable:!0}),t.prototype.isNamescope=function(){return null!=this.namescope()},t.prototype.namescope=function(){return null},t.prototype.initialize=function(){},t.prototype.onAttach=function(t){return!0},t.prototype.onDetach=function(t){return!0},t.prototype.toString=function(){return this._datatype+"["+this._id+"]"},t.prototype.isInteractiveEvent=function(t){return!0},t.prototype.id=function(t){return void 0===t?this._id:(this._id=t,t&&e.IncludeDataIndigoId&&$(this.target).attr("data-indigo-id",this._id),this)},t.prototype.datatype=function(t){return void 0===t?this._datatype:(this._datatype=t,t&&i.css.addClass(this.target,i.strings.camelize(t.name)),this)},t.prototype.property=function(t,e){return 1===arguments.length?this[t]():(this[t](e),this)},t.prototype.hasProperty=function(t){return void 0!==this[t]},t.prototype.getProperty=function(t){var e=Ct(t,lt(this).elementProperties||[]);return e?e.property:null},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentProperty",{get:function(){return this._parent?(null===this._parentProperty&&(this._parentProperty=this._parent.findRelation(this,this._parent,null).property),this._parentProperty):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this._isAttached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachContext",{get:function(){return this._attachContext},enumerable:!0,configurable:!0}),t.prototype.attach=function(e){if(!this.isAttached)return this._notifyAttached(e)!==!1&&this.visit(t.attachChildVisitor),this;if(this._attachContext!==e)throw new i.ArgumentException("Cannot call attach on an already attached adapter under a different context")},t.prototype.detach=function(){return this._target&&at(this._target,null),this._notifyDetached(this._attachContext)!==!1&&this.visit(t.detachChildVisitor),this._attachContext=null,this._isAttached=!1,this},t.detachChildVisitor=function(t,e,i){i._isAttached&&(i._notifyDetached(i._attachContext),i._attachContext=null,i._isAttached=!1)},t.prototype.getTarget=function(t){return this.getTarget$(t).get(0)},t.prototype.getTarget$=function(t){if(!t)return $(this.target);var e=this.target;return"<"==t[0]&&(e=this.parent.target,t=t.substr(1)),t=Nt(t,this),t.length>0?"#"===t[0]?$(t):"$"===t[0]?$(t.substr(1)):t?$(e).find(t):void 0:$(e)},t.prototype.appendChild=function(t,e,i,n){if(t===this)throw new Error;var r=this.getTarget(i);r&&(e&&e.target.parentNode?r.insertBefore(n||t.target,e.target):r.appendChild(n||t.target))},t.prototype.removeChild=function(t,e,i){var n=this.getTarget(e);n&&n.removeChild(i||t.target)},t.prototype.bind=function(t,e,r,o,s){if(!(o&&n.isMobile()&&o.ignoreOnMobile)){this._handlers||(this._handlers={});var a=(r||"")+"."+t,l=this._handlers[a];if(!l){var u=[];l={handlers:u,handlerFunc:this._createEventHandler(u)},this._handlers[a]=l}var h=this.getTarget$(r);if(o&&o.hammerOptions?(h.off(t,l.handlerFunc),h.hammer(o.hammerOptions).on(t,l.handlerFunc)):(h.off(t,l.handlerFunc),h.on(t,l.handlerFunc)),"swipeup"===t||"swipedown"===t?h.attr("data-block-vertical-scroll","true"):"swiperight"!==t&&"swipeleft"!==t||h.attr("data-block-horizontal-scroll","true"),s){var d=l.handlers.indexOf(s);d!==-1?i.array.insertAt(l.handlers,d,e):l.handlers.push(e)}else l.handlers.push(e);this.isInteractiveEvent(t)&&this._setInteractive()}},t.prototype.unbind=function(t,e,n){if(this._handlers){var r=(n||"")+"."+t,o=this._handlers[r];o&&i.array.remove(o.handlers,e);var s=this.getTarget(n),a=this;"swipeup"===t||"swipedown"===t?0===a.swipeUp().length&&0===a.swipeDown().length&&s.removeAttribute("data-block-vertical-scroll"):"swiperight"!==t&&"swipeleft"!==t||0===a.swipeRight().length&&0===a.swipeLeft().length&&s.removeAttribute("data-block-horizontal-scroll"),this.isInteractive||this._clearInteractive()}},t.prototype.triggerEvent=function(t,e,i,n){var r=this.property(t);if(!r||!r.length)return!1;var o=new $.Event(e,i);return this._triggerHandlers.apply(this,[r,o].concat(n)),!0},t.prototype.setTarget=function(t){if(t===this._target)return this;for(var e={},i=C(this),n=0;n<i.length;n++){var r=i[n],o=r.property.getter.call(this);x(this,r.property)||(e[r.name]=o)}this._target=t,this._store={},this.initialize();for(var n=0;n<i.length;n++){var r=i[n],o=e[r.name];void 0!==o&&this[r.name].call(this,o)}return this},t.prototype.isAncestor=function(t){if(t)for(var e=t.parent;null!==e;){if(e===this)return!0;e=e.parent}return!1},t.prototype.getAncestor=function(t){for(var e=this;t>0&&null!==e;)e=e.parent,t--;return e},t.prototype.qualifiedId=function(){for(var t=this.id(),e=this.parent;e;)e.isNamescope()&&e.parent&&(t=e.id()+"."+t),e=e.parent;return t},t.prototype.findAncestor=function(t){for(var e=this.parent;e;){if(t(e))return e;e=e.parent}return null},t.prototype.find=function(t){function e(t){return function(e,i,n){if(n){if(n.id()===t)return n;if(e&&e.isNamescope()&&n===e.namescope())return r.VisitorSkip}}}if("string"==typeof t){for(var i=t.split("."),n=this,o=0;n&&o<i.length;o++){n=n.isNamescope()?n.namescope():n;var s=i[o];n=n.visit(e(s))}return n}var a=this.findRelation(t);return null!=a?a.object:null},t.prototype.findRelation=function(t,e,i){var n=t instanceof Function?t:null===t?null:function(e){return e===t};return this.visit(function(t,r,o){if((null==e||t===e)&&(null==i||r===i)&&(null==n||n(o)))return{subject:t,property:r,object:o}})},t.prototype.visit=function(t,e,i){var n=t(e,i,this);if(n!==r.VisitorSkip){if(void 0!==n)return n;for(var o=T(this),s=0;s<o.length;s++){var a=o[s],l=a.property,u=l.getter.call(this);if(void 0!==u&&null!==u)if(nt(u)){for(var h=u,d=0;d<h.length;d++)if(void 0!==h[d].visit&&(n=h[d].visit(t,this,a.name),void 0!==n&&n!==r.VisitorSkip))return n}else if(void 0!==u.visit){if(n=u.visit(t,this,a.name),void 0!==n&&n!==r.VisitorSkip)return n}else if(n=t(this,a.name,u),void 0!==n&&n!==r.VisitorSkip)return n}}},t.prototype.clone=function(){var e=lt(this),i=new e(this._targetFactory);i.id(this._id),i.datatype(this._datatype);var n=e.elementProperties;if(n)for(var r=this.onSetCloneValue,o=n.length,s=0;s<o;s++){var a=n[s];if(!ht(a,this)&&(!r||r(this,i,a))){var l=dt(a,this);void 0!==l&&ct(a,i,t.cloneValue(l))}}return i},t.prototype.reloadProperty=function(){if(0===arguments.length)for(var t=C(this),e=0;e<t.length;e++){var i=t[e];if(!ht(i,this)){var n=dt(i,this);nt(n)&&(n=n.slice(0)),ct(i,this,n)}}else for(var e=0;e<arguments.length;e++){var r=arguments[e];if(!ht(r.entry,this)){var n=r.call(this);r.call(this,n)}}return this},t.prototype.attached=function(){return this._attachedHandler||(this._attachedHandler=i.events.create())},t.prototype.parented=function(){return this._parentedHandler||(this._parentedHandler=i.events.create())},t.prototype.toJS=function(){var t=this;return C(this).reduce(function(e,i){return e[i.name]=t.property(i.name),e},{})},t.prototype._getInteractiveTarget=function(){return this.target},t.prototype._isEventsTarget=function(t){return!0},t.prototype._childAttachContext=function(){return this._attachContext},t.attachChildVisitor=function(t,e,i){if(e&&i&&i._notifyAttached(t._attachContext)===!1)return r.VisitorSkip},t.cloneValue=function(e){if(null===e)return null;if(nt(e)){for(var i=e,n=i.length,r=new Array(n),o=0;o<n;o++)r[o]=t.cloneValue(i[o]);
return r}return e instanceof t?e.clone():e},t.prototype._beforeCloneCopy=function(t){},t.prototype._afterCloneCopy=function(t){},t.clone=function(e){return t.cloneValueTo(null,null,null,e)},t.cloneValueTo=function(e,i,n,r){if(null===r)return null;if(nt(r)){var o,s=r;n?(o=new Array(U.length),n.push(o)):e&&(o=ct(e,i,[]));for(var a=0;a<s.length;a++)t.cloneValueTo(null,null,o,s[a]);return o}if(r instanceof t){var l=r,u=Object.getPrototypeOf(l).constructor,h=new u(l._targetFactory);l._beforeCloneCopy(h),h.id(l.id()),h.datatype(l.datatype()),n?n.push(h):e&&ct(e,i,h);for(var d=C(l),a=0;a<d.length;a++){var e=d[a];if(!ht(e,l)){var r=dt(e,l);void 0!==r&&t.cloneValueTo(e,h,null,r)}}return l._afterCloneCopy(h),h}return n?n.push(r):e&&ct(e,i,r),r},t.prototype._createTarget=function(){var t=this._getTemplate();return t?t.call(this):document.createElement("div")},t.prototype._getTemplate=function(){return Et(this)},t.prototype._setInteractive=function(){var t=this._getInteractiveTarget();t&&i.css.addClass(t,"interactive")},t.prototype._clearInteractive=function(){var t=this._getInteractiveTarget();t&&i.css.removeClass(t,"interactive")},t.prototype._attachChild=function(t){t._setParent(this),this.isAttached&&t.attach(this._childAttachContext())},t.prototype._detachChild=function(t){this.isAttached&&t.detach(),t._clearParent()},t.prototype._setParent=function(t){this._parent!==t&&(this._parent=t,null!==this._parentedHandler&&this._parentedHandler.trigger(this))},t.prototype._clearParent=function(){this._parent=null,this._parentProperty=null},t.prototype._notifyDetached=function(t){return this._target&&at(this._target,null),this.onDetach(t)},t.prototype._notifyAttached=function(t){if(this._target&&!st(this._target)&&at(this._target,this),this.isAttached){if(this._attachContext!==t)throw new i.ArgumentException("Cannot call attach on an already attached adapter under a different context");return r.VisitorSkip}this._attachContext=t,this._isAttached=!0;var e=this.onAttach(t);return this._attachedHandler&&this._attachedHandler.trigger({adapter:this,context:t}),void 0===e||e},t.prototype._createEventHandler=function(t){return function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];0!=t.length&&this._isEventsTarget(e.target)&&this._triggerHandlers.apply(this,[t,e].concat(i))}.bind(this)},t.prototype._triggerHandlers=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=t.slice(0).sort(function(t,e){return t.precedence()-e.precedence()}),r=n.length-1;r>=0;r--){var o=n[r];if(!o.invoke.apply(o,e))break}},t}();e.Adapter=Xt;var Kt=function(t){function e(e,i){var n=t.call(this)||this;return n._handler=e,n._preventDefault=!1,n._mustHandleEvent=i,n}return __extends(e,t),Object.defineProperty(e.prototype,"preventDefault",{set:function(t){this._preventDefault=t},enumerable:!0,configurable:!0}),e.prototype.invoke=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t&&this._preventDefault&&t.preventDefault();var n=this.parent;return(!n||!n.hasProperty("isEnabled")||n.property("isEnabled")!==!1)&&((!this._mustHandleEvent||this._mustHandleEvent(this,n,t,e)!==!1)&&(!!this._handler&&this._handler.apply(this,arguments)))},e.prototype.precedence=function(){return 0},e}(Xt);e.EventAdapter=Kt,e.newInternalEvent=s;var Yt=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),Object.defineProperty(e.prototype,"mixinTarget",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mixinParent",{get:function(){var t=this.parent;return t?t.parent:null},enumerable:!0,configurable:!0}),e}(Xt);e.Mixin=Yt;var Qt=function(){function t(){this.constructors={}}return t.prototype.addCatalog=function(t,e){var i=this.constructors[t];void 0===i&&(i={},this.constructors[t]=i);for(var n in e)i[n]=e[n]},t.prototype.getAdapterConstructor=function(t,e){var i=this.constructors[t];return void 0===i?null:i[e]||null},t}();e.AdapterCatalog=Qt,e.DefaultCatalog=new Qt;var Jt=function(){function t(t){this.getterDef=t.getterDef||null,this.setterDef=t.setterDef||null,this.isDefaultDef=t.isDefaultDef||null,this.source=t.source,t.source&&Mt(this,t.source)}return t.prototype.create=function(t){var e=a(this);return{getter:this.getterDef(t),setter:this.setterDef(t),isDefault:e?e(t):this.source?this.source.isDefaultDef:null,definition:this}},t.prototype.asPx=function(){return this.convert({afterGet:l,beforeSet:u})},t.prototype.asAdapter=function(t,e){return this.convert(function(i,n){return Pt(this,i,t,n,null,e)})},t.prototype.toFloat=function(){return this.convert({afterGet:d,beforeSet:h})},t.prototype.prefix=function(t){return this.convert({afterGet:function(e){return e&&i.strings.startsWith(e,t)?e.substring(t.length):""},beforeSet:function(e){return e?t+e:""}})},t.prototype.asLowerCase=function(){return this.convert({afterGet:h,beforeSet:c})},t.prototype.asBool=function(){return this.convert({afterGet:g,beforeSet:m})},t.prototype.not=function(){return this.convert({afterGet:p,beforeSet:f})},t.prototype.asCrop=function(){return At(this.convert(w),w)},t.prototype.asThickness=function(){return At(this.convert(v),v)},t.prototype.asSize=function(){return At(this.convert(_),_)},t.prototype.asPoint=function(){return At(this.convert(y),y)},t.prototype.asScale=function(){return At(this.convert(b),b)},t.prototype.asRgba=function(){return this.convert(i.css.toRgba)},t.prototype.asRgb=function(){return this.convert(i.css.toRgb)},t.prototype.asInt=function(){return this.convert(parseInt)},t.prototype.asFloat=function(){return this.convert(parseFloat)},t.prototype.and=function(e){var i=this;return ut(new t({getterDef:i.getterDef,setterDef:function(t){var n=i.setterDef(t),r=e.setterDef(t+"_and");return function(t){n.call(this,t),r.call(this,t)}},source:this}))},t.prototype.ifAttached=function(){return P(this)},t.prototype.ifParent=function(){return E(this)},t.prototype.convert=function(){var e,i,n=arguments[0];n.afterGet||n.beforeSet?(e=n.afterGet||h,i=n.beforeSet||h):(e=h,i=n);var r=this;return ut(new t({getterDef:function(t){var i=r.create(t);return function(){return e.call(this,i.getter.call(this),i)}},setterDef:function(t){var e=r.create(t);return function(t){var n=i.call(this,t,e);void 0===n&&void 0!==t||e.setter.call(this,n)}},source:this}))},t.prototype.onChange=function(e,i){var n;e.handler?(n=e.handler,i=e.beforeChange):n=e;var r,o=this;return r=i?function(t){var e=o.getterDef(t),i=o.setterDef(t);return function(t){var r=e.call(this);n.call(this,r,t),i.call(this,t)}}:function(t){var e=o.getterDef(t),i=o.setterDef(t);return function(t){var r=e.call(this);i.call(this,t),n.call(this,r,t)}},new t({getterDef:o.getterDef,setterDef:r,source:this})},t.prototype.over=function(t){return S(t,this)},t}(),Zt=function(t){function e(e){var i=this;e=e||{},i=t.call(this,{getterDef:null,setterDef:null,source:e.source,isDefaultDef:Ht})||this,i.beforeAdd=e.beforeAdd,i.onAdd=e.onAdd,i.onRemove=e.onRemove;var n=i;return i.getterDef=function(t){return function(){return n.collectionGetter(t,this)}},i.setterDef=function(t){return function(e){return n.collectionSetter(t,this,arguments)}},i}return __extends(e,t),e.prototype.wrap=function(t){var i=this;return ut(new e({beforeAdd:function(e){var i;return e instanceof t?i=e:(i=new t,i.adapter(e)),i},onAdd:function(e,n){var r;e instanceof t?r=e:(r=new t,r.adapter(e)),n&&(n instanceof t||(n=n.parent)),i.onAdd.call(this,r,n)},onRemove:function(e){var n;n=e instanceof t?e:e.parent,n.adapter(null),i.onRemove.call(this,n)},beforeChange:!0,source:this}))},e.prototype.asAdapter=function(t){return this.beforeAdd=function(e){return Pt(this,e,t)},ut(this)},e.prototype.over=function(t){var i=this;return ut(new e({onAdd:i.onAdd?function(e,n){return k(this,t,function(t){return i.onAdd.call(t,e,n)})}:null,onRemove:i.onRemove?function(e){return k(this,t,function(t){return i.onRemove.call(t,e)})}:null,source:this}))},e.prototype.onAddOrRemove=function(t,i){var n,r,o;t instanceof Function?(n=t,r=t,o=o):(n=t.onAdd,r=t.onRemove,o=t.beforeChange);var s,a=this;return s=o?{onAdd:function(t,e){n&&n.call(this,t,e),a.onAdd&&a.onAdd.call(this,t,e)},onRemove:function(t){r&&r.call(this,t),a.onRemove&&a.onRemove.call(this,t)}}:{onAdd:function(t,e){a.onAdd&&a.onAdd.call(this,t,e),n&&n.call(this,t,e)},onRemove:function(t){a.onRemove&&a.onRemove.call(this,t),r&&r.call(this,t)}},s.source=this,ut(new e(s))},e.prototype.createObservable=function(t,e){var i=this,n=new r.ObservableArray;return this.beforeAdd&&(n.beforeAddConverter=function(t){return i.beforeAdd.call(e,t)}),(this.onAdd||this.onRemove)&&n.onChanged(this.onChanged,this,e),ft(e,t,n),n},e.prototype.onChanged=function(t,e,i,n,r){if(i&&this.onRemove)for(var o=0;o<i.length;o++)this.onRemove.call(r,i[o]);if(n&&this.onAdd)for(var s=e+n.length<t.length?t[e+n.length]:null,o=0;o<n.length;o++)this.onAdd.call(r,n[o],s)},e.prototype.collectionSetter=function(t,e,i){var n,r=!1;i.length>1?(n=i,r=!0):n=i[0];var o=pt(e,t);if(o){if(n===o)return o;if(null===n)return o.splice(0,o.length),o;(r||nt(n))&&(o.splice(0,o.length),r=!0)}else{if(o=this.createObservable(t,e),null===n)return o;(r||nt(n))&&(r=!0)}if(r)for(var s=0;s<n.length;s++)o.push(n[s]);else o.push(n);return o},e.prototype.collectionGetter=function(t,e){var i=pt(e,t);return i||(i=this.createObservable(t,e)),i},e}(Jt);e.isDefault=x,e.getProperties=C,e.getChildProperties=T,e.over=S,e.ifParent=E,e.jQueryOption=I,e.toggleClass=D,e.addClass=A,e.toggleVisible=O,e.prop=M,e.updateClass=L,e.style=R,e.css=N,e.cssMargin=F,e.cssPadding=B,e.attribute=H,e.toggleAttribute=V,e.text=j,e.richText=z,e.component=W,e.collection=U,e.child=q,e.children=G,e.wrappedChildren=X,e.event=K,e.mixin=Y,e.custom=Q,e.property=J,e.not=Z,e.not_implemented=new Jt({getterDef:function(t){return function(){console}},setterDef:function(t){return function(t){console}}}),e.ignore=new Jt({getterDef:function(t){return function(){}},setterDef:function(t){return function(t){}},isDefaultDef:function(t){return jt}}),e.getTransform=tt,e.hasTemplate=et,e.getConverter=it,e.isCollection=nt,e.getDepth=rt,e.getClosestAdapterTarget=ot,e.getTargetAdapter=st,e.create=gt;var te=/\$\{[a-zA-Z0-9._]+\}/g;e.Wrapper=e.create(Xt,{property:function(t,e){for(var i=C(this),n=0;n<i.length;n++)if(i[n].name===t)return 1===arguments.length?this[t]():this[t](e);var r=this.adapter();return r?1===arguments.length?r.property(t):(r.property(t,e),this):null},opacity:function(t){if(void 0!==t){var e=this.adapter();return e&&e.opacity(t),this}var e=this.adapter();if(e)return e.opacity()},hasProperty:function(t){return null!==this.getProperty(t)},hasOwnProperty:function(t){for(var e=C(this),i=0;i<e.length;i++)if(e[i].name===t)return!0;return!1},getProperty:function(t){for(var e=C(this),i=0;i<e.length;i++)if(e[i].name===t)return e[i].property;var n=this.adapter();return n?n.getProperty(t):null},adapter:q().onChange(function(t,e){if(t!==e){if(t)for(var i=C(t),n=C(this),r=0;r<n.length;r++){var o=n[r],s=Ct(o.name,i);if(null!==s){var a=o.property.getter.call(this);void 0!==a&&s.property.setter.call(t,a)}}if(e){this.id(e.id());for(var i=C(e),n=C(this),r=0;r<n.length;r++){var o=n[r],s=Ct(o.name,i);if(null!==s){var a=s.property.getter.call(e);void 0!==a&&o.property.setter.call(this,a)}}}}})})}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],s(i)&&i.join("").indexOf("{self}")!==-1&&(r[n]=this._swapSelfInParams(i));s(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=i._internals.isSelector,s=i._internals.isArray,a=[],l=function(t){var e,i={};for(e in t)i[e]=t[e];return i},u=function(t,e,i,n){t._timeline.pause(t._startTime),e&&e.apply(n||t._timeline,i||a)},h=a.slice,d=n.prototype=new e;return n.version="1.11.4",d.constructor=n,d.kill()._gc=!1,d.to=function(t,e,n,r){return e?this.add(new i(t,e,n),r):this.set(t,n,r)},d.from=function(t,e,n,r){return this.add(i.from(t,e,n),r)},d.fromTo=function(t,e,n,r,o){return e?this.add(i.fromTo(t,e,n,r),o):this.set(t,r,o)},d.staggerTo=function(t,e,r,s,a,u,d,c){var p,f=new n({onComplete:u,onCompleteParams:d,onCompleteScope:c,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=h.call(t,0)),s=s||0,p=0;p<t.length;p++)r.startAt&&(r.startAt=l(r.startAt)),f.to(t[p],e,l(r),p*s);return this.add(f,a)},d.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},d.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},d.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},d.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,s=new n(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,r=a._first;r;)o=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||s.add(r,r._startTime-r._delay),r=o;return a.add(s,0),s},d.add=function(r,o,a,l){var u,h,d,c,p,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&s(r)){for(a=a||"normal",l=l||0,u=o,h=r.length,d=0;d<h;d++)s(c=r[d])&&(c=new n({tweens:c})),this.add(c,u),"string"!=typeof c&&"function"!=typeof c&&("sequence"===a?u=c._startTime+c.totalDuration()/c._timeScale:"start"===a&&(c._startTime-=c.delay())),u+=l;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),this._gc&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>r._startTime;p._gc&&p._timeline;)p._timeline.smoothChildTiming&&f?p.totalTime(p._totalTime,!0):p._enabled(!0,!1),p=p._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&s(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},d.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,i,n){return this.call(u,["{self}",e,i,n],this,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,n,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&s(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,s,l,u,h=this._dirty?this.totalDuration():this._totalDuration,d=this._time,c=this._startTime,p=this._timeScale,f=this._paused,g=!1;if(t>=h?(this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||0===this._rawPrevTime?t:r,t=h+1e-4):t<1e-7?(this._totalTime=this._time=0,(0!==d||0===this._duration&&(this._rawPrevTime>r||t<0&&this._rawPrevTime>=0))&&(l="onReverseComplete",o=this._reversed),t<0?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||0===this._rawPrevTime?t:r,t=0,this._initted||(u=!0)),g=t<0):this._totalTime=this._time=this._rawPrevTime=t,this._time!==d&&this._first||i||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||a)),!g&&this._time>=d)for(n=this._first;n&&(s=n._next,!this._paused||f);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,!this._paused||f);)(n._active||n._startTime<=d&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||a)),l&&(this._gc||c!==this._startTime&&p===this._timeScale||(0===this._time||h>=this.totalDuration())&&(o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||a)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof i?e!==!1&&(o[a++]=s):(n!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,n)),a=o.length))),s=s._next;return o},d.getTweensOf=function(t,e){for(var n=i.getTweensOf(t),r=n.length,o=[],s=0;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(o[s++]=n[r]);return o},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},d._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("timeline",["animation"],function(){}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=window.GreenSockGlobals||window,o=r.com.greensock,s=2*Math.PI,a=Math.PI/2,l=o._class,u=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},h=t.register||function(){},d=function(t,e,i,n,r){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return h(o,t),o},c=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},f=d("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,s,a,l=e.taper||"none",u=[],h=0,d=0|(e.points||20),p=d,f=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/d*p,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:i<.5?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:n<0&&(n=0)),u[h++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),a=new c(1,1,null),p=d;--p>-1;)s=u[p],a=new c(s.x,s.y,a);this._prev=new c(0,0,0!==a.t?a:a.next)},!0),m=i.prototype=new t,m.constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,d("Bounce",u("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/s*(Math.asin(1/this._p1)||0)},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},d("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*s/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*s/this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*s/this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*s/this._p2)*.5+1},.45)),d("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",u("SineOut",function(t){return Math.sin(t*a)}),u("SineIn",function(t){return-Math.cos(t*a)+1}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(r.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("easings",["animation"],function(){}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var t=/(\d|\.)+/g,e={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},i=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},n=function(n){if(""===n||null==n||"none"===n)return e.transparent;if(e[n])return e[n];if("number"==typeof n)return[n>>16,n>>8&255,255&n];if("#"===n.charAt(0))return 4===n.length&&(n="#"+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)+n.charAt(3)+n.charAt(3)),n=parseInt(n.substr(1),16),[n>>16,n>>8&255,255&n];if("hsl"===n.substr(0,3)){n=n.match(t);var r=Number(n[0])%360/360,o=Number(n[1])/100,s=Number(n[2])/100,a=s<=.5?s*(o+1):s+o-s*o,l=2*s-a;return n.length>3&&(n[3]=Number(n[3])),n[0]=i(r+1/3,l,a),n[1]=i(r,l,a),n[2]=i(r-1/3,l,a),n}return n.match(t)||e.transparent};window._gsDefine.plugin({propName:"colorProps",priority:-1,API:2,init:function(t,e,i){this._target=t;var r,o,s,a;for(r in e)s=n(e[r]),this._firstPT=a={_next:this._firstPT,p:r,f:"function"==typeof t[r],n:r,r:!1},o=n(a.f?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():t[r]),a.s=Number(o[0]),a.c=Number(s[0])-a.s,a.gs=Number(o[1]),a.gc=Number(s[1])-a.gs,a.bs=Number(o[2]),a.bc=Number(s[2])-a.bs,(a.rgba=o.length>3||s.length>3)&&(a.as=o.length<4?1:Number(o[3]),a.ac=(s.length<4?1:Number(s[3]))-a.as),a._next&&(a._next._prev=a);return!0},set:function(t){for(var e,i=this._firstPT;i;)e=(i.rgba?"rgba(":"rgb(")+(i.s+t*i.c>>0)+", "+(i.gs+t*i.gc>>0)+", "+(i.bs+t*i.bc>>0)+(i.rgba?", "+(i.as+t*i.ac):"")+")",i.f?this._target[i.p](e):this._target[i.p]=e,i=i._next}})}),window._gsDefine&&window._gsQueue.pop()(),define("color_props",["animation"],function(){});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("animations",["require","exports","utils","adapters","animation","timeline","easings","color_props"],function(t,e,i,n){"use strict";function r(t,e,i){for(var n=t._firstPT;n;){if(e)void 0!==n.c_orig&&(n.c=n.c_orig);else if(void 0!==n.t.datatype&&"x"!==n.p&&"y"!==n.p){var r=n.t.uniqueId+"_"+n.p;void 0===i[r]&&(i[r]=1,n.c_orig=n.c,n.c=n.t[n.p]()-n.s)}n=n._next}}function o(t,e){for(var i={},n=t._last;n;)r(n,e,i),n=n._prev}function s(t){if(t){if(t instanceof p){var e=t;return e.easeIn&&e.easeOut?Quad.easeInOut:e.easeIn?Quad.easeIn:e.easeOut?Quad.easeOut:Linear.easeNone}return Linear.easeNone}return Linear.easeNone}function a(t,e){if(e>0){if("number"==typeof t)return h;if(d(t))return u}return l}function l(t,e,i,n,r,o){var s,a,l,u=!1,h=t[i];h instanceof Function?(s=function(e){h.call(t,e)},a=function(){return h.call(t)}):(s=function(e){t[i]=e},a=function(){return t[i]});var d=function(){u||void 0!==n||(n=a())},c=function(){u||(s(r),u=!0,l=a())},p=function(){u&&(void 0!==n&&n!==l&&s(n),u=!1)};return o.onStart=d,o.onComplete=c,o.onReverseComplete=p,new TweenLite({},0,o)}function u(t,e,n,r,o,s){var a={};return a[n]=i.css.toRgba(o),s.colorProps=a,TweenLite.to(t,e/1e3,s)}function h(t,e,i,n,r,o){if(o[i]=r,void 0!==n){var s={};return s[i]=n,TweenLite.fromTo(t,e/1e3,s,o)}return TweenLite.to(t,e/1e3,o)}function d(t){return null!=i.css.toRgba(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(){}return t}();e.Easing=c;var p=function(t){function e(e,i){var n=t.call(this)||this;return n.easeIn=e,n.easeOut=i,n}return __extends(e,t),e}(c);e.QuadraticEase=p;var f=function(t){function e(e){return t.call(this,"Invalid animation state",e)||this}return __extends(e,t),e}(i.Exception);e.InvalidAnimationState=f;var g=function(){function t(){var t=this;this._isCompleted=!1,this._isReversed=!1,this._isPlaying=!1,this._isReversing=!1,this.onStartedHandlers=[],this.onPlayingHandlers=[],this.onCompletedHandlers=[],this.onReverseStartedHandlers=[],this.onReversingHandlers=[],this.onReversedHandlers=[],this.animations=[],this.animation=new TimelineLite({paused:!1,autoRemoveChildren:!1}),this.animation.eventCallback("onComplete",function(){return t.completed()}),this.animation.eventCallback("onReverseComplete",function(){return t.reversed()})}return t.prototype.add=function(t){for(var e=Array.isArray(t)?t:[t],i=0;i<e.length;i++){var n=e[i].animation,r=n.delay();n.delay(0),this.animation.add(n,r,"normal")}return this.animations=this.animations.concat(e),this},t.prototype.isReversing=function(){return this._isReversing&&!this._isReversed},t.prototype.isReversed=function(){return this._isReversed},t.prototype.isPaused=function(){return!this._isPlaying&&!this._isCompleted},t.prototype.start=function(){return 1e3*this.animation.delay()},t.prototype.duration=function(){return 1e3*this.animation.duration()},t.prototype.end=function(){return 1e3*this.animation.totalTime()},t.prototype.pause=function(){if(this._isPlaying&&!this._isCompleted)return this._isPlaying=!1,this.animation.pause(),this},t.prototype.play=function(t){return this._isCompleted||(this._isPlaying||(this._isPlaying=!0,this._isReversed=!1,this._isReversing=!1,(0===this.animation.duration()&&this.animation.time()===this.animation.totalTime()||this.animation.duration()>0&&0===this.animation.progress())&&(o(this.animation,!0),this.notifyOnStarted()),this.configureSpeed(t),this.animation.play(),this.notifyOnPlaying()),0!==t&&0!==this.animation.duration()||this.complete()),this},t.prototype.reverse=function(t){if(!this._isReversed){if(!this._isReversing){this._isReversing=!0,this._isPlaying=!1;var e=this._isCompleted;this._isCompleted=!1,e&&(o(this.animation,!1),this.notifyOnReverseStarted()),this.configureSpeed(t),this.animation.reverse(),this.notifyOnReversing()}0!==t&&0!==this.duration()&&0!==this.animation.time()||this.complete()}return this},t.prototype.complete=function(){return this._isReversed||this._isCompleted?this:(this._isReversing?this._isReversed||(this._isReversed=!0,
this._isCompleted=!1,this._isPlaying=!1,this._isReversing=!1,this.normalSpeed(),this.animation.render(-2e-5,!1,!0),this.notifyOnReversed()):(this._isPlaying||this.play(),this._isCompleted||(this._isCompleted=!0,this._isReversed=!1,this._isPlaying=!1,this._isReversing=!1,this.normalSpeed(),this.animation.render(this.animation.totalDuration()+1e-4,!1,!0),this.notifyOnCompleted())),this)},t.prototype.dispose=function(){this.animation.kill()},t.prototype.onStarted=function(t){return this.onStartedHandlers.push(t),t(),this},t.prototype.onPlaying=function(t){return this.onPlayingHandlers.push(t),(this._isPlaying||this._isCompleted)&&t(),this},t.prototype.onCompleted=function(t){return this.onCompletedHandlers.push(t),this._isCompleted&&t(),this},t.prototype.onReversed=function(t){return this.onReversedHandlers.push(t),this._isReversed&&t(),this},t.prototype.onReverseStarted=function(t){return this.onReverseStartedHandlers.push(t),(this._isReversing||this._isReversed)&&t(),this},t.prototype.onReversing=function(t){return this.onReversingHandlers.push(t),(this._isReversing||this._isReversed)&&t(),this},t.prototype.configureSpeed=function(t){if(void 0!==t&&t>0&&this.duration()>0){var e=this.duration()/t;this.animation.timeScale(e)}else this.normalSpeed()},t.prototype.normalSpeed=function(){1!==this.animation.timeScale()&&this.animation.timeScale(1)},t.prototype.completed=function(){this._isCompleted||(this._isCompleted=!0,this._isReversed=!1,this._isPlaying=!1,this._isReversing=!1,this.notifyOnCompleted())},t.prototype.reversed=function(){this._isReversed||(this._isReversed=!0,this._isCompleted=!1,this._isPlaying=!1,this._isReversing=!1,this.notifyOnReversed())},t.prototype.notifyOnStarted=function(){this.onStartedHandlers.forEach(function(t){return t()})},t.prototype.notifyOnPlaying=function(){this.onPlayingHandlers.forEach(function(t){return t()})},t.prototype.notifyOnCompleted=function(){this.onCompletedHandlers.forEach(function(t){return t()})},t.prototype.notifyOnReversing=function(){for(var t=this.onReversingHandlers.length-1;t>=0;t--)this.onReversingHandlers[t]()},t.prototype.notifyOnReverseStarted=function(){for(var t=this.onReverseStartedHandlers.length-1;t>=0;t--)this.onReverseStartedHandlers[t]()},t.prototype.notifyOnReversed=function(){for(var t=this.onReversedHandlers.length-1;t>=0;t--)this.onReversedHandlers[t]()},t}(),m=function(){function t(t){this.animation=t,this._start=1e3*t.delay(),this._onCompleted=null,this._onReversed=null,this._completed=0===this.start()&&0===this.duration(),this._reversed=!1}return t.prototype.isReversed=function(){return this.animation.reversed()},t.prototype.isPaused=function(){return this.animation.paused()},t.prototype.pause=function(){return this.animation.pause(),this},t.prototype.start=function(){return this._start},t.prototype.duration=function(){return 1e3*this.animation.duration()},t.prototype.end=function(){return 1e3*this.animation.totalTime()},t.prototype.reverse=function(t){return this.configureSpeed(t),this.animation.reverse(),0===t&&this.complete(),this},t.prototype.play=function(t){return this.configureSpeed(t),this.animation.play(),this},t.prototype.complete=function(){return this.normalSpeed(),this.animation.reversed()?this.animation.seek(0):this.animation.seek(this.animation.totalDuration),this},t.prototype.dispose=function(){this.animation.kill()},t.prototype.onCompleted=function(t){return this.registerEvents(),(this._onCompleted||(this._onCompleted=[])).push(t),this._completed&&t(),this},t.prototype.onReversed=function(t){return this.registerEvents(),(this._onReversed||(this._onReversed=[])).push(t),this._reversed&&t(),this},t.prototype.configureSpeed=function(t){if(void 0!==t&&t>0&&this.duration()>0){var e=this.duration()/t;this.animation.timeScale(e)}else this.normalSpeed()},t.prototype.normalSpeed=function(){1!==this.animation.timeScale()&&this.animation.timeScale(1)},t.prototype.completed=function(){this._completed||(this._completed=!0,this._reversed=!1,0==this.duration()&&0===this.start()&&this.animation.timeline&&this.animation.timeline.reversed()?this.reversed():this._onCompleted&&this._onCompleted.forEach(function(t){return t()}))},t.prototype.reversed=function(){if(!this._reversed&&(this._reversed=!0,this._completed=!1,this._onReversed))for(var t=this._onReversed.length-1;t>=0;t--)this._onReversed[t]()},t.prototype.registerEvents=function(){this._registered||(this._registered=!0,this.registerCallback("onComplete",this.completed),this.registerCallback("onReverseComplete",this.reversed))},t.prototype.registerCallback=function(t,e){var i=this.animation.eventCallback(t);this.animation.eventCallback(t,function(){i&&i.apply(this.animation,arguments),e.call(this)},null,this)},t}(),v=function(){function t(){TweenLite.defaultOverwrite="none"}return t.prototype.createAnimationBlock=function(){return new g},t.prototype.invokeAnimation=function(t,e,i){var n={};e&&(n.delay=e/1e3),n.immediateRender=!e;var r=function(){this._timeline.reversed(),i(t,!1)},o=function(){i(t,!0)};return n.onComplete=r,n.onReverseComplete=o,new m(new TweenLite({},0,n))},t.prototype.createAnimation=function(t){return new m(t)},t.prototype.setAnimation=function(t,e,i,r,o,l,u){if(t instanceof n.Wrapper&&(t.hasOwnProperty(o)||(t=t.adapter())),i>0&&"string"==typeof l&&!isNaN(Number(l))){var h=parseFloat(l);isNaN(h)||(l=h)}if(i>0&&"string"==typeof u&&!isNaN(Number(u))){var d=parseFloat(u);isNaN(d)||(u=d)}var c={};e&&(c.delay=e/1e3),c.immediateRender=!e,c.ease=0===i?Linear.easeNone:s(r);var p=a(l,i),f=p(t,i,o,u,l,c);return new m(f)},t}();e.getEasing=s,e.Builder=new v});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("transitions",["require","exports","utils"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this,"No transition for name","Not transition for name '"+e+"'",null)||this;return i.name=e,i}return __extends(e,t),e}(i.Exception);e.NoTransitionFoundError=n;var r=function(){function t(){this.transitions=new i.collections.Map}return t.prototype.add=function(t,e){this.transitions.put(t,e)},t.prototype.get=function(t){if(this.transitions.has(t)){var e=this.transitions.get(t);return new e}throw new n(t)},t}();e.TransitionCatalog=r,e.DefaultCatalog=new r});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("views",["require","exports","utils","layout","animations","data","adapters","transitions"],function(require,exports,utils,layout,animations,data,adapters,transitions){"use strict";function getEventArgs(t,e,i){var n=t.content().target.parentNode;if(!n)return{};var r=getMouseEvent(i);if(r){var o=e?e.target:null,s={x:null,y:null};if(o){var a=o.getBoundingClientRect();s.x=r.clientX-a.left,s.y=r.clientY-a.top}var l=n.getBoundingClientRect();return{x:r.clientX-l.left,y:r.clientY-l.top,triggerX:s.x,triggerY:s.y}}var u=getKeyboardEvent(i);if(u)return{keyCode:u.keyCode,charCode:u.charCode,key:u.key};var h=getTouchEvent(i);if(h&&h.touches.length>0){var o=e?e.target:null,s={x:null,y:null},d=h.touches[0].clientX,c=h.touches[0].clientY;if(o){var a=o.getBoundingClientRect();s.x=d-a.left,s.y=c-a.top}var l=n.getBoundingClientRect();return{x:d-l.left,y:c-l.top,triggerX:s.x,triggerY:s.y}}return{}}function isInternalEvent(t){return isCustomEvent(t)&&t.detail.internal}function isCustomEvent(t){return void 0!==t.detail}function getMouseEvent(t){if(isMouseEvent(t))return t;if(isHammerEvent(t)){var e=t.gesture.startEvent?t.gesture.startEvent.srcEvent:null;if(isMouseEvent(e))return e;var i=t.gesture.srcEvent;if(isMouseEvent(i))return i}return null}function getTouchEvent(t){if(isTouchEvent(t))return t;if(isHammerEvent(t)){var e=t.gesture.startEvent?t.gesture.startEvent.srcEvent:null;if(isTouchEvent(e))return e;var i=t.gesture.srcEvent;if(isTouchEvent(i))return i}return null}function getKeyboardEvent(t){if(isKeyboardEvent(t))return t;if(isHammerEvent(t)){var e=t.gesture.startEvent?t.gesture.startEvent.srcEvent:null;if(isKeyboardEvent(e))return e;var i=t.gesture.srcEvent;if(isKeyboardEvent(i))return i}return null}function isHammerEvent(t){return void 0!==t.gesture}function isTouchEvent(t){return t&&void 0!==t.touches}function isMouseEvent(t){return t&&void 0!==t.clientX&&void 0!==t.clientY}function isKeyboardEvent(t){return t&&void 0!==t.keyCode||void 0!==t.key&&void 0!==t.code}function isHandled(t){if(null!=t&&t===LastHandledEvent)return!0;if(t){if(t.target&&"LABEL"==t.target.nodeName&&"click"==t.type)return!0;if(t.originalEvent&&LastHandledEvent===t.originalEvent)return!0}return!1}function markAsHandled(t){return!isHandled(t)&&(t&&!isInternalEvent(t)&&(LastHandledEvent=t.originalEvent?t.originalEvent:t),!0)}function getShortStateId(t){return GuidRegexp.test(t)?t.substr(0,6):t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewStartState="start",exports.ViewSceneAppliedEvent="view_scene_applied",exports.ViewSizeChangedEvent="view_size_changed",exports.ViewboxSizeChangedEvent="viewbox_size_changed",exports.PathSeparator="/";var StateDoesNotExist=function(t){function e(e){return t.call(this,"State does not exist","State '"+e+"' does not exist")||this}return __extends(e,t),e}(utils.Exception);exports.StateDoesNotExist=StateDoesNotExist;var StateContext=function(){function t(t,e,i){this._owner=t,this._currentState=e,this._transitions=i}return t.prototype.owner=function(){return this._owner},t.prototype.transitions=function(){return this._transitions},t.prototype.currentState=function(){return this._currentState},t}();exports.StateContext=StateContext;var AttachContext=function(){function t(t){this._view=t}return t.prototype.device=function(){var t=this._view;return t instanceof Screen?t.device:null},t.prototype.host=function(){return this._view.host()},t.prototype.popups=function(){return this._view.content().popupManager()},t.prototype.baseUrl=function(t){return this._view.host().baseUrl(t)},t.prototype.extensionsResourcesBaseUrlJS=function(){return this._view.host().extensionsResourcesBaseUrlJS()},t.prototype.extensionsResourcesBaseUrl=function(){return this._view.host().extensionsResourcesBaseUrl()},t}();exports.AttachContext=AttachContext;var View=function(t){function e(e){var i=t.call(this)||this;return i._type=null,i._currentState=null,i._content=null,i._enableOpeningAnimations=!0,i._enableTransitionsAtEndOfTimeline=!0,i._states=[],i._runningInteraction=utils.events.create(),i._stateManager=new StateManager(i),i._transitions=new Transitions(i,null),i._maxAnnotationLayersBounds=null,i._maxContentSize={width:0,height:0},i._resources=[],i.id(e),i}return __extends(e,t),Object.defineProperty(e.prototype,"stateManager",{get:function(){return this._stateManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this._transitions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastAppliedState",{get:function(){return this.stateManager.lastAppliedState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSwitchedToState",{get:function(){return this.stateManager.lastSwitchedToState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAnnotationLayersBounds",{get:function(){return utils.geom.rect(this._maxAnnotationLayersBounds)},set:function(t){this._maxAnnotationLayersBounds=utils.geom.rect(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxContentSize",{get:function(){return this._maxContentSize},set:function(t){this._maxContentSize=t},enumerable:!0,configurable:!0}),e.prototype.run=function(t){return this.attach(),this.transitions.switchTo(t||exports.ViewStartState).invoke(adapters.newInternalEvent("run-view")),this},e.prototype.viewportSize=function(){var t=this.content();return t?t.viewportSize():null},e.prototype.namescope=function(){return this.content()},e.prototype.requireResource=function(t){var e=this._resources;e.indexOf(t)===-1&&e.push(t)},e.prototype.resources=function(){return this._resources},e.prototype.enableTranstionsAtEndOfTimeline=function(t){return void 0===t?this._enableTransitionsAtEndOfTimeline:void(this._enableTransitionsAtEndOfTimeline=!!t)},e.prototype.enableOpeningAnimations=function(t){return void 0===t?this._enableOpeningAnimations:void(this._enableOpeningAnimations=!!t)},e.prototype.content=function(t){return void 0===t?this._content:(this._content=t,this._content._setParent(this),this)},e.prototype.host=function(t){return void 0===t?this._host:(this._host=t,this)},e.prototype.isPaused=function(){return this.stateManager.isPaused()},e.prototype.pause=function(){return this.stateManager.pause(),this},e.prototype.play=function(){return this.stateManager.resume(),this},e.prototype.completePendingAnimations=function(t){return this.stateManager.completePendingAnimations(t),this},e.prototype.visit=function(t,e,i){var n=t(e,i,this);if(void 0!==n)return n;var r=this.content();return r?r.visit(t,this,"content"):void 0},e.prototype.currentState=function(t){return void 0===t?this._currentState:void(this._currentState=t)},e.prototype.hasState=function(t){return null!=t&&null!=this[t]},e.prototype.getState=function(t){var e=this[t]||this[getShortStateId(t)];return e instanceof Function&&(e=this[t]=this.createState(t,e)),e},e.prototype.getStates=function(){var t=[],e={},i=this.getState(exports.ViewStartState);i&&(e[i.id]=!0,t.push(i));for(var n=0;n<this._states.length;n++){var r=this.getState(this._states[n]);e[r.id]||(e[r.id]=!0,t.push(r))}return t},e.prototype.addState=function(){var t,e;if(1===arguments.length)t=arguments[0]instanceof State?arguments[0]:new State(arguments[0]),e=t.id;else if(arguments[1]instanceof Function)t=this.createState(arguments[0],arguments[1],arguments[2]),e=t.id;else{if(!(arguments[1]instanceof State))throw new utils.ArgumentException("Invalid state type");e=arguments[0],t=arguments[1]}this[e]=t;var i=getShortStateId(e);return e!==i&&(this[i]=t),this._states.push(e),this},e.prototype.addNext=function(t,e,i){var n=this._states[this._states.length-1];return this.addState({id:t,operations:e,basedOn:n,group:n,duration:i})},e.prototype.openState=function(t){if(!this.content().isAttached)throw new utils.InvalidOperationException("View is not attached");var e=new Context(this,this,null);return this.stateManager.switchTo(e,t||exports.ViewStartState,0),this},e.prototype.runningInteraction=function(){return this._runningInteraction},e.prototype.stateReached=function(){return this._stateManager.stateReached()},e.prototype.switchingToState=function(){return this._stateManager.switchingToState()},e.prototype.getTransitionViewport=function(){var t=this.content();return"getTransitionViewport"in t?t.getTransitionViewport():t.target},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),i=0;i<this._states.length;i++){var n=this._states[i];e.addState(n,this[this._states[i]])}return e.content(this._content?this._content.clone():null),e},e.prototype._resetStateManager=function(){this._stateManager.reset()},e.prototype._notifySceneApplied=function(t){var e=this.content();e&&this.enableTranstionsAtEndOfTimeline()&&$(e.target).trigger(exports.ViewSceneAppliedEvent,t.state.id)},e.prototype._notifyApplyingScene=function(t){},e.prototype.createState=function(t,e,i){return new State({id:t,group:e.group,basedOn:e.basedOn,operations:e,duration:i})},e}(adapters.Adapter);exports.View=View;var Orientation;!function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(Orientation=exports.Orientation||(exports.Orientation={}));var Device=function(){function t(){}return t.prototype.fitToCanvas=function(){return"Browser"===this.id||"none"===this.id},t.prototype.supportsOrientation=function(){return"Browser"!==this.id&&"none"!==this.id},t.prototype.usesTouch=function(){return"Browser"!==this.id&&"none"!==this.id},t}();exports.Device=Device;var Screen=function(t){function e(e){var i=t.call(this,e||"screen")||this;return i.datatype(data.Catalog.get("Page")),i._sizeChanged=utils.events.create(),i._viewboxSizeChanged=utils.events.create(),i._screenAttachContext=null,i._handleScreenInteractions=i.handleScreenInteractions.bind(i),i}return __extends(e,t),Object.defineProperty(e.prototype,"device",{get:function(){return this._device},set:function(t){this._device=t},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){return null===this._screenAttachContext&&(e?this._screenAttachContext=e:this._screenAttachContext=new AttachContext(this)),t.prototype.attach.call(this,this._screenAttachContext),this},e.prototype.dispose=function(){$(this.content().target).detach(),this.detach()},e.prototype.run=function(t){return this.attach(),this.notifySizeChanged(),this.transitions.switchTo(t||exports.ViewStartState).invoke(adapters.newInternalEvent("run-screen")),this},e.prototype.reattach=function(){this.attach(),this.notifySizeChanged(),this.stateManager.lastAppliedState&&(this.stateManager.switchingToState().trigger(this.stateManager.lastAppliedState),this.stateManager.stateReached().trigger(this.stateManager.lastAppliedState))},e.prototype.executeInteractions=function(t,e){void 0===e&&(e=!0);for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n];if(o.triggerId&&o.indigoEventType){var s=this.find(o.triggerId);if(s){var a=s.triggerEvent(o.indigoEventType,o.eventType,o.eventArgs,o.conditionArgs);if(i.push(a?o:null),e&&!a)return i;this.completePendingAnimations(!1)}}}return i},e.prototype.sizeChanged=function(){return this._sizeChanged},e.prototype.viewboxSizeChanged=function(){return this._viewboxSizeChanged},e.prototype.onDetach=function(){var t=this.content();return t&&(t.detach(),this.unbindScreenInteractions(t)),!1},e.prototype.onAttach=function(t){var e=this,i=this.content();return i&&(i.isAttached||(i.attach(t),i.bind(exports.ViewSizeChangedEvent,new adapters.EventAdapter(function(t){t.target===i.target&&e.notifySizeChanged()},null)),i.bind(exports.ViewboxSizeChangedEvent,new adapters.EventAdapter(function(t){t.target===i.target&&e.notifySizeChanged()},null))),this.bindScreenInteractions(i)),!1},e.prototype.notifySizeChanged=function(){this._sizeChanged.trigger(this)},e.prototype.bindScreenInteractions=function(t){t.getTarget$().on("swipeleft swiperight swipeup swipedown tap doubletap hold contextmenu",null,this,this._handleScreenInteractions)},e.prototype.unbindScreenInteractions=function(t){t.getTarget$().off("swipeleft swiperight swipeup swipedown tap doubletap hold contextmenu",null,this._handleScreenInteractions)},e.prototype.handleScreenInteractions=function(t){var e=Date.now();setTimeout(function(){var i=t.data;if(i.content().target.parentNode&&!isHandled(t)){var n=t.target,r=n instanceof Node?adapters.getTargetAdapter(adapters.getClosestAdapterTarget(n)):null,o=getMouseEvent(t);o&&utils.dom.inScrollRange(o)||i.runningInteraction().trigger({triggerId:r?r.qualifiedId():null,triggerType:null,indigoEventType:null,commandType:null,commandArgs:null,condition:null,eventType:t.type,eventArgs:getEventArgs(i,r,t),ts:e,cancel:!1})}},1)},e}(View);exports.Screen=Screen;var ScreenPart=function(t){function e(e){var i=t.call(this,e||"screen")||this;return i.datatype(data.Catalog.get("ScreenPart")),i}return __extends(e,t),e}(Screen);exports.ScreenPart=ScreenPart;var SharedControl=function(t){function e(e){var i=t.call(this,e)||this;return i.datatype(data.Catalog.get("SharedControl")),i._template=null,i._templateApplied=!1,i._state=null,i}return __extends(e,t),e.prototype.template=function(t){return void 0===t?this._template:(this._template!==t&&(this._template=t,this.applyTemplate()),this)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.template(this._template),e[exports.ViewStartState]=this[exports.ViewStartState],e},e.prototype.onAttach=function(t){this.applyTemplate()},e.prototype.applyTemplate=function(){this._resetStateManager();var t=this.attachContext,e=this.stateContext;if(e&&!this._state&&this._template&&this.isAttached){this._state=e.currentState().state,t&&this.host(t.host()),this.content(this._template.clone());var i=this[exports.ViewStartState];i&&i.runOperations(new Context(e.owner(),this.content(),null),e.currentState())}},e}(View);exports.SharedControl=SharedControl;var Transitions=function(){function Transitions(t,e){this._view=t,this._appliedState=e,this._mustRunInteraction=this.mustRunInteraction.bind(this)}return Transitions.prototype.switchTo=function(t,e){var i=this,n=this.createContext(),r=new adapters.EventAdapter(function(o){if(markAsHandled(o)){var s=e?e.applyTargetAnimations:null,a=e?e.applyRevertAnimations:null,l=e&&e.toggleEvent,u=l?e.eventAdapter||r:null,h=i.getAllHandlers(u,l).slice(0),d=i._view.stateManager.switchTo(n,t,e?e.duration:null,null,s,a);if(u){var c=a===!1?0:e.toggleDuration,p=i.getAllHandlers(u,l),f=i.findNewHandlersIndex(h,p);i.registerToggle(n,d,l,f,c,u,!0)}return!0}},this._mustRunInteraction);return r},Transitions.prototype.openUrl=function(url){return new adapters.EventAdapter(function(ev){if(markAsHandled(ev)){if(utils.strings.startsWith(url,"javascript:")){var code=url.substr("javascript:".length);return eval(code),!0}var w=window;return void 0!==w.app&&void 0!==w.app.openUrl?w.app.openUrl(url):window.open(url,"_blank"),!0}},this._mustRunInteraction)},Transitions.prototype.navigate=function(t,e){return new NavigateEventAdapter(this._view,t,e,this._mustRunInteraction)},Transitions.prototype.revert=function(t,e){var i=this,n=this.createContext();return new adapters.EventAdapter(function(r){if(markAsHandled(r))return i._view.stateManager.revert(n,t,e),!0},this._mustRunInteraction)},Transitions.prototype.back=function(t){var e=this,i=this.createContext();return new adapters.EventAdapter(function(n){if(markAsHandled(n))return e._view.stateManager.back(i,t),!0},this._mustRunInteraction)},Transitions.prototype.registerToggle=function(t,e,i,n,r,o,s){function a(){return c||l.property(u).indexOf(o)!==-1}var l=o.parent;if(l){var u=o.parentProperty,h=this.revertAndSwitchTo(e,t.parent?t.parent.id:"",!1,r),d=new exports.ToggleEventAdapter,c="mouseOver"===u||u===i;c&&d.id(o.id()),d.sceneId(e.parent.id),d.datatype(data.Catalog.get("CommandToggle")),d.mustHandleEvent(this._mustRunInteraction),d.handler(function(t){return!isHandled(t)&&a()&&h.invoke(t),!0}),e.onPlaying(function(){var t=l.property(i);t.indexOf(d)===-1&&t.splice(n,0,d),c&&utils.array.remove(l.property(u),o)}),e.onReversing(function(){utils.array.remove(l.property(i),d)!==-1&&l.property(u).indexOf(o)===-1&&l.property(u).push(o)})}},Transitions.prototype.revertAndSwitchTo=function(t,e,i,n){var r=this,o=this.createContext();return new adapters.EventAdapter(function(s){if(i){if(!markAsHandled(s))return}else s.stopPropagation();var a=r._view.stateManager.revert(o,t,n);return!a||null!==t.parent&&t.parent.id===e||a.onReversed(function(){var t=r._view.stateManager.switchTo(o,e);t&&t.complete()}),!0},this._mustRunInteraction)},Transitions.prototype.mustRunInteraction=function(t,e,i,n){if(isHandled(i))return!1;var r=e?e.datatype():null,o=r?r.name:null,s=t.parentProperty,a=null;if("ConditionalCommand"===o&&(s=e.parentProperty,a=e.property("condition"),e=e.parent,r=e?e.datatype():null,o=r?r.name:null),!i||isInternalEvent(i)||!e)return!0;var l=e.findAncestor(function(t){return t.hasProperty("templateReference")}),u=e.qualifiedId(),h=i.type,d=t.datatype(),c=d?d.name:null,p=getEventArgs(this._view,e,i),f=Date.now(),g={triggerId:u,triggerType:o,eventType:h,eventArgs:p,indigoEventType:s,screenpart:l?l.property("templateReference"):null,commandType:c,commandArgs:t.toJS(),condition:a?a.toJS():null,conditionArgs:n,ts:f,cancel:!1};return this._view.runningInteraction().trigger(g),g.cancel&&markAsHandled(i),!g.cancel},Transitions.prototype.createContext=function(){return new Context(this._view,this._view,this._appliedState||this._view.currentState())},Transitions.prototype.getAllHandlers=function(t,e){return(t&&t.parent?t.parent.property(e):[])||[]},Transitions.prototype.findNewHandlersIndex=function(t,e){for(var i=0;i<t.length;i++)if(!e[i]||e[i]!==t[i])return i;return t.length},Transitions}();exports.Transitions=Transitions,exports.ToggleEventAdapter=adapters.create(adapters.EventAdapter,{sceneId:adapters.property(),handler:function(t){this._handler=t},mustHandleEvent:function(t){this._mustHandleEvent=t}});var NavigateEventAdapter=function(t){function e(i,n,r,o){var s=t.call(this,e.handleNavigation,o)||this;return s.view=i,s.screen=n,s.state=r,s}return __extends(e,t),e.prototype.withTransition=function(t,e){return 0===e?this:("string"==typeof t&&(t=transitions.DefaultCatalog.get(t)),void 0!==e&&t.duration(e),this.transition=t,this)},e}(adapters.EventAdapter);NavigateEventAdapter.handleNavigation=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(markAsHandled(t))return this.view.completePendingAnimations(!1),this.view.host().navigate(this.screen,this.state,this.transition),!0},exports.NavigateEventAdapter=NavigateEventAdapter;var LastHandledEvent,State=function(){function t(t){this._id=t.id,this._title=t.title,this._group=t.group||null,this._basedOn=t.basedOn||null,this._operations=t.operations,this._duration=void 0===t.duration?null:t.duration}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"basedOn",{get:function(){return this._basedOn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShared",{get:function(){return!this._group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRootState",{get:function(){return!this.basedOn},enumerable:!0,configurable:!0}),t.prototype.runOperations=function(t,e){t.appliedState(e),this._operations.call(t.view,t),t.run()},t}();exports.State=State;var AppliedState=function(){function t(t,e,i){var n=this;this._parent=e||null,this._previous=i||null,this._state=t,this.operations=new Array,this.children=new Array,e?(this._isCompleted=!1,e.children.push(this),this.animations=animations.Builder.createAnimationBlock(),this.animations.onStarted(function(){return n.started()}),this.animations.onPlaying(function(){return n.playing()}),this.animations.onCompleted(function(){return n.completed()}),this.animations.onReverseStarted(function(){return n.reverseStarted()}),this.animations.onReversing(function(){return n.reversing()}),this.animations.onReversed(function(){return n.reversed()})):this._isCompleted=!0}return Object.defineProperty(t.prototype,"id",{get:function(){return this._state.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._state.group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRootState",{get:function(){return this._state.isRootState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExclusive",{get:function(){return this._state.group&&this._state.group.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversing",{get:function(){return this.animations&&this.animations.isReversing()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var t=this.animations;return t?t.start()+t.duration():0},enumerable:!0,configurable:!0}),t.prototype.isBasedOn=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.isPaused=function(){return this.animations&&this.animations.isPaused()},t.prototype.pause=function(){this.animations&&this.animations.pause()},t.prototype.toString=function(){return this._state.toString()},t.prototype.getChildrenInstance=function(t){return utils.array.find(this.children,function(e){return e.state===t})},t.prototype.complete=function(){this.animations&&(this.animations.complete(),this.children.forEach(function(t){return t.complete()}))},t.prototype.play=function(t){this.animations&&this.animations.play(t)},t.prototype.revert=function(t){this.animations&&this.animations.reverse(t)},t.prototype.addAppliedOperation=function(t){this.operations.push(t),this.animations.add(t.animations())},t.prototype.onStarted=function(t){var e=this;this.animations.onStarted(function(){return t(e)})},t.prototype.onPlaying=function(t){var e=this;this.animations.onPlaying(function(){return t(e)})},t.prototype.onCompleted=function(t){var e=this;this.animations.onCompleted(function(){return t(e)})},t.prototype.onReversed=function(t){var e=this;this.animations.onReversed(function(){return t(e)})},t.prototype.onReverseStarted=function(t){var e=this;this.animations.onReverseStarted(function(){return t(e)})},t.prototype.onReversing=function(t){var e=this;this.animations.onReversing(function(){return t(e)})},t.prototype.started=function(){utils.debug.assert(null!==this._parent),this._isCompleted=!1},t.prototype.playing=function(){utils.debug.assert(null!==this._parent)},t.prototype.completed=function(){utils.debug.assert(null!==this._parent),this._isCompleted=!0},t.prototype.reverseStarted=function(){utils.debug.assert(null!==this._parent),utils.debug.assert(null!==this._isCompleted),this._isCompleted=!1},t.prototype.reversing=function(){utils.debug.assert(null!==this._parent)},t.prototype.reversed=function(){utils.debug.assert(null!==this._parent),this._isCompleted=!1;var t=utils.array.remove(this._parent.children,this);utils.debug.assert(t!=-1),this.animations.dispose()},t}();exports.AppliedState=AppliedState;var HistoryManager=function(){function t(t){var e=this;this._stateManager=t,this._history={},this._stateManager.stateReached().subscribe(function(t){return e.onStateReached(t)})}return t.prototype.getCurrentBranchState=function(t){var e=this.getSharedParent(t.parent),i=this._history[e.id];return i&&i.length>0&&(!e.isRootState||i.length>1)?i[i.length-1]:null},t.prototype.back=function(t,e,i){var n=this.getSharedParent(t.parent),r=this._history[n.id],o=this._stateManager.view.host();if(r&&r.length>0){if(!n.isRootState||r.length>1||e&&o&&o.hasBackHistory()){var s=i||r.pop();if(s.isReversing)return l=new Context(t.view,t.namescope,s.parent),this._stateManager.switchTo(l,s.id,null,!1),!0;var a,l,u=r.length>0?r[r.length-1]:null,h=null!=u&&null!=u.parent&&u.id==s.parent.id,d=null!=u&&null!=u.parent&&u.parent.id==s.id;h?(l=new Context(t.view,t.namescope,s),a=this._stateManager.switchTo(l,u.id,null,!1)):d?(l=new Context(t.view,t.namescope,s),a=this._stateManager.switchTo(l,u.id,null,!1)):null!==u?(l=new Context(t.view,t.namescope,s),a=this._stateManager.switchTo(l,u.id,0,!1)):(l=new Context(t.view,t.namescope,s.parent),a=this._stateManager.revert(l,s)),r.length>0&&(r[r.length-1]=a)}if(n.isRootState){if(!e)return o&&o.back();a.onReversed(function(t){return o&&o.back()})}return!0}},t.prototype.push=function(t){var e=this.getSharedParent(t),i=this._history[e.id];
return i||(i=this._history[e.id]=[]),i.length>0&&i[i.length-1].id==t.id?void(i[i.length-1]=t):void i.push(t)},t.prototype.onStateReached=function(t){this.push(t)},t.prototype.getSharedParent=function(t){return null!=t.parent&&t.isExclusive?this.getSharedParent(t.parent):t},t}();exports.HistoryManager=HistoryManager;var StateManager=function(){function t(t){this._view=t,this._stateReached=utils.events.create(),this._switchingToState=utils.events.create(),this.reset()}return Object.defineProperty(t.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastAppliedState",{get:function(){return this._lastAppliedState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastSwitchedToState",{get:function(){return this._lastSwitchedToState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateBeingApplied",{get:function(){return this._stateBeingApplied},enumerable:!0,configurable:!0}),t.prototype.isPaused=function(){return this._stateBeingApplied&&this._stateBeingApplied.isPaused()},t.prototype.pause=function(){this._stateBeingApplied&&this._stateBeingApplied.pause()},t.prototype.resume=function(){this._stateBeingApplied&&this._stateBeingApplied.play()},t.prototype.completePendingAnimations=function(t){var e=this;return this.runningStateChange(function(){e._stateBeingApplied&&(t!==!1?e._stateBeingApplied.complete():e.disableTransitionCompleted(function(){return e._stateBeingApplied.complete()}))})},t.prototype.revert=function(t,e,i){var n=this;return this.runningStateChange(function(){n._currentTargetState=e.parent?e.parent.state:null,n._triggerTransitionCompleted=null!==n._currentTargetState;var t=n.performRevert(e,!1,i);return null!==t.previous&&(t.isExclusive||n._lastSwitchedToState&&(n._lastSwitchedToState===t||n._lastSwitchedToState.isBasedOn(t)))&&n.notifySwitchingToState(t.previous),t})},t.prototype.switchTo=function(t,e,i,n,r,o){var s=this;return this.runningStateChange(function(){var a=s.resolveState(e);if(null!=a){s._triggerTransitionCompleted=n!==!1;var l=s._stateBeingApplied||s._lastSwitchedToState;s._currentTargetState=a;var u=s.performSwitchTo(t,a,i,l,r,o);return u&&s.notifySwitchingToState(u),u}throw new StateDoesNotExist(e)})},t.prototype.back=function(t,e){var i=this;return this.runningStateChange(function(){if(null!==i._stateBeingApplied){var n=i._historyManager.getCurrentBranchState(t);if(!n&&i._stateBeingApplied.isExclusive||n&&n===i._stateBeingApplied.parent){var r=i.performRevert(i._stateBeingApplied);return null!==r.previous&&i.notifySwitchingToState(r.previous),!0}}return i._historyManager.back(t,e,i._stateBeingApplied)})},t.prototype.stateReached=function(){return this._stateReached},t.prototype.switchingToState=function(){return this._switchingToState},t.prototype.reset=function(){this._rootState=new AppliedState(new State({id:"",operations:function(){}}),null,null),this._appliedStateGroups=new utils.collections.Map,this._currentTargetState=null,this._stateBeingApplied=null,this._lastAppliedState=null,this._lastSwitchedToState=null,this._historyManager=new HistoryManager(this),this._triggerTransitionCompleted=!0,this._ranStateChangeCount=0},t.prototype.notifySwitchingToState=function(t){this._lastSwitchedToState=t,this._switchingToState&&this._switchingToState.trigger(t)},t.prototype.notifyStateReached=function(t){this._stateReached&&this._stateReached.trigger(t)},t.prototype.disableTransitionCompleted=function(t){var e=this._triggerTransitionCompleted;this._triggerTransitionCompleted=!1;try{return t()}finally{this._triggerTransitionCompleted=e}},t.prototype.runningStateChange=function(t){this._runningStateChange=!0,this._ranStateChangeCount++;try{return t()}finally{this._runningStateChange=!1}},t.prototype.apply=function(t,e,i,n,r){var o,s=this,a=t.parent||this._rootState,l=!0,u=!1;if(a.state===e?(o=a,a=a.parent,t=new Context(t.view,t.namescope,a)):o=a.getChildrenInstance(e),o)if(o.isCompleted||r===!0){var h=this._currentTargetState;this.disableTransitionCompleted(function(){return s.performRevert(o,!1,0)}),this._currentTargetState=h,l=!0,u=r!==!0}else l=!1;return l&&(a&&!a.isCompleted&&a.state!==e&&(a.play(),a.complete(),this._historyManager.push(a)),null!==e.group&&this._appliedStateGroups.has(e.group)&&this.performRevert(this._appliedStateGroups.get(e.group),!1,0),o=new AppliedState(e,a,n),o.onCompleted(function(t){return s.onStateCompleted(t)}),null!==e.group&&(this._appliedStateGroups.put(e.group,o),o.onReversed(function(t){return s.onStateReversed(t)})),e.runOperations(t,o)),this._stateBeingApplied=o,o.play(u||!this._view.enableOpeningAnimations()?0:i),utils.debug.assert(e.isRootState||null!=o.parent),o},t.prototype.performSwitchTo=function(t,e,i,n,r,o){var s=this,a=t.parent||this._rootState,l=this.getSwitchToPath(a,e),u=l.backward,h=l.forward,d=a.state===e,c=1===u.length&&0===h.length,p=a.duration>0&&(o===!0||o!==!1&&c),f=r===!1?0:i;if(p){var g=this.performRevert(a,!1,p?null:0),m=g.parent,v=!1,_=this._ranStateChangeCount;return g.onReversed(function(){var n=v;if(v=!0,!n&&_===s._ranStateChangeCount){var o=new Context(t.view,t.namescope,m);d&&null===r&&(r=!1),(h.length>0||r&&e.duration>0&&0!==f)&&layout.onNext(function(){return s.switchTo(o,e,i,!0,r,!1)})}}),m}if(a.state===e)return this.disableTransitionCompleted(function(){return s.apply(t,e,f,t.parent,r)});if(r===!0&&0===h.length){var y=u[0].parent;u.push(y),h.push(e)}for(var b=u.length>0?u[u.length-1].parent:a,g=void 0,w=0;w<u.length;w++)g=this.performRevert(u[w]),g.complete();var x=b?new Context(t.view,t.namescope,b):t,C=null;if(h.length>0){for(var T=0;T<h.length-1;T++)C=this.apply(x,h[T],null,C||n,!1),C.complete(),x=new Context(t.view,t.namescope,C);C=this.apply(x,h[h.length-1],f,C||n,r)}return C||u[u.length-1].parent},t.prototype.performRevert=function(t,e,i){for(var n=t.children.slice(),r=0;r<n.length;r++)this.performRevert(n[r],!1,0);return e||t.revert(i),this._stateBeingApplied=null,t},t.prototype.getSwitchToPath=function(t,e){for(var i=this.getPathTo(e),n=this.getPathToInstance(t),r=0;r<i.length;r++){if(r===n.length)return{backward:[],forward:i.slice(r)};if(i[r]!=n[r].state)return{backward:n.slice(r).reverse(),forward:i.slice(r)}}return{backward:n.slice(i.length).reverse(),forward:[]}},t.prototype.getPathTo=function(t){for(var e=[];null!=t;)e.push(t),t=this.resolveState(t.basedOn);return e.reverse()},t.prototype.getPathToInstance=function(t){for(var e=[];t!=this._rootState;)e.push(t),t=this.resolveState(t.parent);return e.reverse()},t.prototype.resolveState=function(t){if("string"==typeof t){var e=t;t=this._view.getState(e)}return t},t.prototype.onStateCompleted=function(t){this.checkTargetStateReached(t)},t.prototype.onStateReversed=function(t){utils.debug.assert(this._appliedStateGroups.has(t.group)),this._appliedStateGroups.remove(t.group),null!==t.parent&&this.checkTargetStateReached(t.parent)},t.prototype.checkTargetStateReached=function(t){this._currentTargetState==t.state&&(this._currentTargetState=null,this._stateBeingApplied=null,this._lastAppliedState=t,this.notifyStateReached(t),this._triggerTransitionCompleted&&this._view._notifySceneApplied(t))},t}();exports.StateManager=StateManager;var Operation=function(){function t(){this.start=0,this.duration=0,this.easing=null,this.effect=null}return Object.defineProperty(t.prototype,"end",{get:function(){return this.start+this.duration},enumerable:!0,configurable:!0}),t.prototype.execute=function(t){throw new utils.AbstractMethodException},t}();exports.Operation=Operation;var AppliedBlock=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedOperations=t}return t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._appliedOperations=this._appliedOperations.concat(t),this},t.prototype.animations=function(){for(var t=[],e=0;e<this._appliedOperations.length;e++)for(var i=this._appliedOperations[e].animations(),n=0;n<i.length;n++)t.push(i[n]);return t},t}();exports.AppliedBlock=AppliedBlock;var Context=function(){function t(t,e,i){this.view=t,this.namescope=e,this.parent=i,this.queuedOperations=[]}return t.prototype.invoke=function(t,e){this.on(this.view).invoke(e).delay(t)},t.prototype.remove=function(t){return this.on(t).remove()},t.prototype.on=function(t){return new OnTargetContext(this,t)},t.prototype.appliedState=function(t){return void 0===t?this._appliedState:(this._appliedState=t,void(this.interactions=new Transitions(this.view,t)))},t.prototype.run=function(){for(var t=0;t<this.queuedOperations.length;t++)this.apply(this.queuedOperations[t]);this.queuedOperations=[]},t.prototype.queue=function(t){return this.queuedOperations.push(t),this},t.prototype.unqueue=function(t){return utils.array.remove(this.queuedOperations,t),this},t.prototype.apply=function(t){var e=t.execute(this);return null!==e&&this._appliedState.addAppliedOperation(e),this},t.prototype.onReverted=function(t){this._appliedState.onReversed(t)},t.prototype.onCompleted=function(t){this._appliedState.onCompleted(t)},t.prototype.onReversing=function(t){return this._appliedState.onReversing(t)},t.prototype.onReverseStarted=function(t){return this._appliedState.onReverseStarted(t)},t.prototype.onReversed=function(t){return this._appliedState.onReversed(t)},t.prototype.onStarted=function(t){this._appliedState.onStarted(t)},t.prototype.find=function(t){return this.namescope.find(t)},t.prototype.stateContext=function(){return new StateContext(this.view,this._appliedState,this.interactions)},t}();exports.Context=Context;var OnTargetContext=function(){function t(t,e){this.context=t,this.target=e}return t.prototype.queue=function(t){var e=new OnOperationContext(this.context,this.target,t);return this.context.queue(t),e},t.prototype.add=function(t,e,i){return null},t.prototype.remove=function(t,e){return null},t.prototype.set=function(t,e){return null},t.prototype.move=function(t,e,i){return null},t.prototype.resize=function(t,e){return null},t.prototype.invoke=function(t){return null},t}();exports.OnTargetContext=OnTargetContext;var OnOperationContext=function(t){function e(e,i,n){var r=t.call(this,e,i)||this;return r.operation=n,r}return __extends(e,t),e.prototype.delay=function(t){return this.operation.start=t,this},e.prototype.duration=function(t){return this.operation.duration=t,this},e.prototype.easing=function(t){return this.operation.easing=t,this},e.prototype.effect=function(t){return this.operation.effect=t,this},e.prototype.run=function(){this.context.unqueue(this.operation),this.context.apply(this.operation)},e}(OnTargetContext);exports.OnOperationContext=OnOperationContext;var GuidRegexp=/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/;exports.getShortStateId=getShortStateId});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("storage",["require","exports","jquery","utils"],function(t,e,i,n){"use strict";function r(t){var e=o(t);if(null!==e)return n.defer.donePromise(e);if(s(t))return a(t);try{return i.ajax({url:t,dataType:"text",crossDomain:!0}).then(null,function(t){return t&&403==t.status?n.defer.rejectPromise(new n.Exception("StorageException","Not authorized",null,u.NotAuthorized)):n.defer.rejectPromise(new n.Exception("StorageException","Not found",null,u.NotFound))})}catch(t){return n.defer.rejectPromise(new n.Exception("StorageException","Not found",null,u.NotFound))}}function o(t){var e=document.querySelector('script[data-uri="'+t.toLowerCase()+'"]');return null!==e?e.innerHTML:null}function s(t){return n.strings.startsWith(t,l)}function a(t){var e=i.Deferred();if(s(t)){var n=t.indexOf("/");if(n!=-1){var r=t.substr(l.length,n-l.length),o=decodeURIComponent(t.substr(n+1));o.length>0&&"/"==o[0]&&(o=o.substr(1)),chrome.fileSystem.restoreEntry(r,function(t){t?t.getFile(o,{create:!1},function(t){t.file(function(t){var i=new FileReader;i.onerror=function(t){e.reject(t)},i.onload=function(t){e.resolve(t.target.result)},i.readAsText(t)})},function(t){e.reject(t)}):e.reject(new Error("Can't read directory, entry not found."))})}else e.reject(new Error("Invalid chrome entry path."))}else e.reject(new Error("Invalid chrome entry path"));return e.promise()}Object.defineProperty(e,"__esModule",{value:!0});var l="chrome:",u=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(n.ErrorCode);u.OK=new u(0),u.NotAuthorized=new u(1),u.NotFound=new u(2),e.ErrorCode=u,e.load=r}),define("json!themes/essentials-themable-props.json",function(){return{AnnotationsLayer:{opacity:1},Container:{opacity:1},ScreenPartInstance:{opacity:1},Group:{opacity:1},Layer:{opacity:1},SharedPart:{opacity:1},Template:{opacity:1},Viewbox:{opacity:1},ChartMock:{opacity:1},CoverFlowMock:{opacity:1},ExtensibleControl:{opacity:1},GaugeMock:{opacity:1},GridCell:{opacity:1},GridCellData:{opacity:1},GridColumn:{opacity:1},GridHeaderCell:{opacity:1},GridHeaderRow:{opacity:1},GridRow:{opacity:1},ListItemContent:{opacity:1},MapMock:{opacity:1},MenuItem:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},PasswordBox:{border:"#FFB9B9B9",background:"#FFFFFFFF",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},ProgressBar:{foreground:"#FF858585",background:"#FFDADADA",isIndeterminate:!1,opacity:1},Slider:{background:"#00FFFFFF",trackBackground:"#FFD7D7D7",thumbBackground:"#FF858585",opacity:1},TextBox:{border:"#FFB9B9B9",background:"#FFFFFFFF",align:"Left",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},VideoPlayer:{opacity:1},WebCamMock:{opacity:1},AlertBox:{opacity:1},Box:{opacity:1},BreadCrumb:{opacity:1},Button:{background:"#FFF9F9F9",borderColor:"#FFB9B9B9",cornerRadius:"0",borderThickness:"1",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},ButtonBar:{opacity:1},ButtonBarItem:{opacity:1},Calendar:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},Callout:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Bold",opacity:1},CheckBox:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},ComboBox:{opacity:1},ContainerBox:{opacity:1},ContextMenu:{opacity:1},DateChooser:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},DismissibleOverlay:{opacity:1},DropDownCommand:{opacity:1},EditableText:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},Expander:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},Grid:{opacity:1},HotSpot:{color:"#FF666666",background:"#FFFFFFFF",opacity:1},Icon:{isSelected:!1,color:"#FF666666",catalogId:"Placeholder",scale:"1,1",rotationAngle:0,opacity:1},Image:{opacity:1},Item:{opacity:1},Label:{align:"Left",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},LabelDropDown:{opacity:1},Link:{foreground:"#FF0066CC",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},List:{opacity:1},ListBox:{opacity:1},ListItem:{opacity:1},Menu:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},ModalOverlay:{opacity:1},ModalWindow:{opacity:1},MultilineButton:{titleForeground:"#FF282828",titleFontSize:15,titleFontFamily:"Open Sans Embed",titleFontStyle:"None",hintForeground:"#FF282828",hintFontSize:11,hintFontFamily:"Open Sans Embed",hintFontStyle:"None",background:"#FFF9F9F9",borderColor:"#FFB9B9B9",cornerRadius:"0",borderThickness:"1",opacity:1},Note:{foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},NumericEditor:{opacity:1},Option:{opacity:1},OptionGroup:{opacity:1},Overlay:{opacity:1},SearchBox:{border:"#FFB9B9B9",background:"#FFFFFFFF",align:"Left",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},TabItem:{opacity:1},Tabs:{opacity:1},TextArea:{border:"#FFB9B9B9",background:"#FFFFFFFF",align:"Left",foreground:"#FF282828",fontSize:13,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},Title:{align:"Left",foreground:"#FF282828",fontSize:34,fontFamily:"Open Sans Embed",fontStyle:"Normal",opacity:1},Tree:{opacity:1},TreeItem:{opacity:1},Arrow:{color:"#FF666666",background:"#FF666666",opacity:1},Ellipse:{thickness:1,color:"#FF666666",background:"#FFFFFFFF",opacity:1},Line:{color:"#FF666666",background:"#FFFFFFFF",opacity:1},Polyline:{color:"#FF666666",background:"#FFFFFFFF",opacity:1},Rectangle:{thickness:"1",cornerRadius:"0",color:"#FF666666",background:"#FFFFFFFF",opacity:1},Triangle:{color:"#FF666666",background:"#FFFFFFFF",opacity:1},BootstrapBox:{opacity:1},BootstrapContainer:{opacity:1},Column:{opacity:1},Row:{opacity:1}}});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("themes",["require","exports","views","data","adapters","utils","json!themes/essentials-themable-props.json"],function(t,e,i,n,r,o){"use strict";function s(t){for(var e={},i=Object.keys(t),r=0,o=i;r<o.length;r++){var s=o[r],a=n.Catalog.get(s);e[a.fullname()]=t[s]}return e}function a(t,e){return t+"."+e}function l(t,e){switch(t){case"borderThickness":case"thickness":case"padding":return o.Thickness.parse(e);case"cornerRadius":return o.Radius.parse(e);default:return e}}Object.defineProperty(e,"__esModule",{value:!0});var u=s(t("json!themes/essentials-themable-props.json")),h=function(t){function e(e){var i=t.call(this,e||"stylesheet")||this;return i.datatype(n.Catalog.get("Stylesheet")),i._styleClassCache=null,i}return __extends(e,t),e.prototype.resolveClass=function(t,e){var n=this,o=t.fullname();return this._styleClassCache||(this._styleClassCache={},this.transitions.switchTo(i.ViewStartState,{duration:0}).invoke(r.newInternalEvent("eval-template")),this.visit(function(t,e,i){if(t){var r=t.getProperty("name");if(r){var o=r.getter.call(t);o&&(n._styleClassCache[a(t.datatype().fullname(),o)]=new d(t))}}})),this._styleClassCache[a(o,e)]},e}(i.Screen);e.Stylesheet=h;var d=function(){function t(t){this._adapter=t,this._properties=null}return t.prototype.applyClass=function(t){var e=this.getProperties();for(var i in e){var n=e[i];n&&n.setter.call(t,n.value)}},t.prototype.getProperties=function(){var t=this;if(null===this._properties){var e=u[this._adapter.datatype().fullname()];this._properties=r.getProperties(this._adapter).filter(function(t){return t.name in e}).reduce(function(i,n){var r=e[n.name],o=n.property.isDefault.call(t._adapter)?l(n.name,r):n.property.getter.call(t._adapter);return i[n.name]={value:o,setter:n.property.setter},i},{})}return this._properties},t}()}),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function i(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function r(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function o(e,i){function n(){var t=o;r(t)&&t.a.parentNode&&i(t.g)}var o=e;t(e.b,n),t(e.c,n),r(e)}function s(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}function a(){if(null===c)if(l()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!t&&603>parseInt(t[1],10)}else c=!1;return c}function l(){return null===f&&(f=!!document.fonts),f}function u(){if(null===p){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}p=""!==t.style.font}return p}function h(t,e){return[t.style,t.weight,u()?t.stretch:"","100px",e].join(" ")}var d=null,c=null,p=null,f=null;s.prototype.load=function(t,r){var s=this,u=t||"BESbswy",c=0,p=r||3e3,f=(new Date).getTime();return new Promise(function(t,r){if(l()&&!a()){var g=new Promise(function(t,e){function i(){(new Date).getTime()-f>=p?e():document.fonts.load(h(s,'"'+s.family+'"'),u).then(function(e){1<=e.length?t():setTimeout(i,25)},function(){e()})}i()}),m=new Promise(function(t,e){c=setTimeout(e,p)});Promise.race([m,g]).then(function(){clearTimeout(c),t(s)},function(){r(s)})}else e(function(){function e(){var e;(e=-1!=v&&-1!=_||-1!=v&&-1!=y||-1!=_&&-1!=y)&&((e=v!=_&&v!=y&&_!=y)||(null===d&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=d&&(v==b&&_==b&&y==b||v==w&&_==w&&y==w||v==x&&_==x&&y==x)),e=!e),e&&(C.parentNode&&C.parentNode.removeChild(C),clearTimeout(c),t(s))}function a(){if((new Date).getTime()-f>=p)C.parentNode&&C.parentNode.removeChild(C),r(s);else{var t=document.hidden;!0!==t&&void 0!==t||(v=l.a.offsetWidth,_=g.a.offsetWidth,y=m.a.offsetWidth,e()),c=setTimeout(a,50)}}var l=new i(u),g=new i(u),m=new i(u),v=-1,_=-1,y=-1,b=-1,w=-1,x=-1,C=document.createElement("div");C.dir="ltr",n(l,h(s,"sans-serif")),n(g,h(s,"serif")),n(m,h(s,"monospace")),C.appendChild(l.a),C.appendChild(g.a),C.appendChild(m.a),document.body.appendChild(C),b=l.a.offsetWidth,w=g.a.offsetWidth,x=m.a.offsetWidth,a(),o(l,function(t){v=t,e()}),n(l,h(s,'"'+s.family+'",sans-serif')),o(g,function(t){_=t,e()}),n(g,h(s,'"'+s.family+'",serif')),o(m,function(t){y=t,e()}),n(m,h(s,'"'+s.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}(),define("fontfaceobserver",function(){}),define("google-fonts",["require","exports","config","fontfaceobserver"],function(t,e,i){"use strict";function n(t){return"string"==typeof t&&l.test(t)}function r(t){if(!n(t))throw new Error("Not a google font");var e=l.exec(t),i=e[1],r=e[2],o=e[3],s="i"===o;return{name:i,weight:parseInt(r,10),italic:s}}function o(t){return i.IsExport?"./../fonts/"+t.name+".css":i.IsOffline?"http://indigo.local/googlefonts/"+t.name+".css":i.LocalServerFonts?"/fonts/css?family="+t.name+":"+t.weight+(t.italic?"i":""):"https://fonts.googleapis.com/css?family="+t.name+":"+t.weight+(t.italic?"i":"")}function s(t){var e=o(t);if(!u[e]){$(document.head).append('<link rel="stylesheet" type="text/css" href="'+e+'">');var n=$('<span style="visibility: hidden;position: absolute;top:-9999px;">sample</span>')[0];n.style.fontFamily=t.name,n.style.fontWeight=""+t.weight,n.style.fontStyle=t.italic?"italic":"",$(document.body).append(n),u[e]=i.UseFontLoader?new FontFaceObserver(t.name).load():Promise.resolve()}return u[e]}function a(){return Promise.all(Object.keys(u).map(function(t){return u[t]}))}Object.defineProperty(e,"__esModule",{value:!0});var l=/google:([^;]*);([0-9]{3})(i)?/,u={};e.isGoogleFont=n,e.parseGoogleFont=r,e.getGoogleFontUri=o,e.loadGoogleFont=s,e.waitForFonts=a}),define("reader_converters",["require","exports","utils","google-fonts"],function(t,e,i,n){"use strict";function r(t){["Viewbox.HorizontalOffset","Viewbox.VerticalOffset","Viewbox.ContentWidth","Viewbox.ContentHeight","BootstrapContainer.SpanXs","BootstrapContainer.SpanSm","BootstrapContainer.SpanMd","BootstrapContainer.SpanLg","BootstrapContainer.OffsetXs","BootstrapContainer.OffsetSm","BootstrapContainer.OffsetMd","BootstrapContainer.OffsetLg","BootstrapContainer.VisibilityXs","BootstrapContainer.VisibilitySm","BootstrapContainer.VisibilityMd","BootstrapContainer.VisibilityLg","BootstrapContainer.Margin","BootstrapContainer.HorizontalAlignment","BootstrapContainer.VerticalAlignment","Panel.Absolute","Panel.Layout"].map(function(e){return t.add(e,a)}),t.add("Tabs.BorderThickness",u),["BorderThickness","Thickness","Padding"].map(function(e){return t.add(e,h)}),t.add("Panel.Bounds",l),t.add("CornerRadius",d),t.add("AutoRevertEvent",s),t.add("FontFamily",o),t.add("TitleFontFamily",o),t.add("HintFontFamily",o)}function o(t,e,i){return i&&n.isGoogleFont(i)&&n.loadGoogleFont(n.parseGoogleFont(i)),{property:p(e),value:i}}function s(t,e,i){return{property:p(e),value:p(i)}}function a(t,e,i){return{property:c(e),value:i}}function l(t,e,i){var n,r=f.exec(i);return n=r?{x:parseInt(r[1]),y:parseInt(r[2]),width:"*"===r[4]?0:parseInt(r[3]),autoWidth:"*"===r[4],height:"*"===r[8]?0:parseInt(r[7]),autoHeight:"*"===r[8]}:null,{property:"panel_bounds",value:n}}function u(t,e,i){return{property:p(e),value:i}}function h(t,e,n){return{property:p(e),value:i.Thickness.parse(n)}}function d(t,e,n){return{property:p(e),value:i.Radius.parse(n)}}function c(t){var e=t.indexOf(".");return e!=-1&&e!=t.length-1?i.strings.camelize(t.substr(0,e))+"_"+i.strings.camelize(t.substr(e+1)):i.strings.camelize(t)}function p(t){var e=t.indexOf(".");return e!=-1&&e!=t.length-1&&(t=t.substr(e+1)),i.strings.camelize(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.registerConverters=r;var f=/(-?\d+),(-?\d+),(\d+)(\*?)(?:{(\d+),(\d+)})?,(\d+)(\*?)(?:{(\d+),(\d+)})?/,g=function(){function t(){this.converters=new i.collections.Map}return t.prototype.add=function(t,e){this.converters.put(t,e)},t.prototype.get=function(t){var e=this.tryGet(t);if(null!==e)return e;var i=t.indexOf(".");if(i!=-1&&i<t.length-1){var n=t.substr(i+1);return this.get(n)}return this.defaultConverter},t.prototype.tryGet=function(t){return this.converters.has(t)?this.converters.get(t):null},t}();e.ConverterCatalog=g,e.getPropertyName=p});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("effects",["require","exports","animations"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onInit=function(t,e,i){},t.prototype.onStart=function(t){},t.prototype.onReverseStart=function(t){},t}();e.Effect=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getAnimation=function(t,e,n,r,o){return i.Builder.createAnimation(this.getTween(t,e,n,r,o))},e.prototype.getReverseAnimation=function(t,e,n,r,o){return i.Builder.createAnimation(this.getReverseTween(t,e,n,r,o))},e.prototype.getTween=function(t,e,n,r,o){var s=t.target,a=n/1e3,l=e/1e3;switch(this.direction){case"Up":return TweenLite.fromTo(s,a,{rotationX:-180,transformPerspective:800,backfaceVisibility:"hidden"},{rotationX:0,delay:l,ease:i.getEasing(r)});case"Down":return TweenLite.fromTo(s,a,{rotationX:180,transformPerspective:800,backfaceVisibility:"hidden"},{rotationX:0,delay:l,ease:i.getEasing(r)});case"Right":return TweenLite.fromTo(s,a,{rotationY:-180,transformPerspective:800,backfaceVisibility:"hidden"},{rotationY:0,delay:l,ease:i.getEasing(r)});case"Left":default:return TweenLite.fromTo(s,a,{rotationY:180,transformPerspective:800,backfaceVisibility:"hidden"},{rotationY:0,delay:l,ease:i.getEasing(r)})}},e.prototype.getReverseTween=function(t,e,n,r,o){var s=t.target,a=n/1e3,l=e/1e3;switch(this.direction){case"Up":return TweenLite.fromTo(s,a,{rotationX:0,transformPerspective:800,backfaceVisibility:"hidden"},{rotationX:180,delay:l,ease:i.getEasing(r)});case"Down":return TweenLite.fromTo(s,a,{rotationX:0,transformPerspective:800,backfaceVisibility:"hidden"},{rotationX:-180,delay:l,ease:i.getEasing(r)});case"Right":return TweenLite.fromTo(s,a,{rotationY:0,transformPerspective:800,backfaceVisibility:"hidden"},{rotationY:180,delay:l,ease:i.getEasing(r)});case"Left":default:return TweenLite.fromTo(s,a,{rotationY:0,transformPerspective:800,backfaceVisibility:"hidden"},{rotationY:-180,delay:l,ease:i.getEasing(r)})}},e}(n);e.Flip=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getReverseTransformTween=function(t,e,i,n,r){var o=this.getTransformTween(t,0,i,n,r);return null!=o?TweenLite.fromTo(o,i/1e3,{progress:1},{progress:0,delay:e/1e3}):null},e.prototype.getAnimation=function(t,e,n,r,o){var s=i.Builder.setAnimation(t,e,n,r,"opacity",this.originalOpacity,0),a=this.getTransformTween(t,e,n,r,o);if(null!=a){var l=i.Builder.createAnimation(a);return i.Builder.createAnimationBlock().add([s,l])}return s},e.prototype.getReverseAnimation=function(t,e,n,r,o){var s=i.Builder.setAnimation(t,e,n,r,"opacity",0,this.originalOpacity),a=this.getReverseTransformTween(t,e,n,r,o);if(null!=a){var l=i.Builder.createAnimation(a);return i.Builder.createAnimationBlock().add([s,l])}return s},e.prototype.onInit=function(t,e,i){this.originalOpacity=t.opacity(),isNaN(this.originalOpacity)&&(this.originalOpacity=1);var n=0==e&&0==i;0!=this.originalOpacity||n||(this.originalOpacity=1),t.opacity(0)},e.prototype.onStart=function(t){},e.prototype.onReverseStart=function(t){null!==this.originalOpacity&&t.opacity(this.originalOpacity)},e}(n),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTransformTween=function(t,e,i,n,r){return null},e}(o);e.Fade=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTransformTween=function(t,e,n,r,o){var s=t.target,a=n/1e3,l=e/1e3;switch(this.direction){case"Down":return TweenLite.fromTo(s,a,{transform:"translateY(-100%)"},{transform:"translateY(0%)",delay:l,ease:i.getEasing(r)});case"Up":return TweenLite.fromTo(s,a,{transform:"translateY(100%)"},{transform:"translateY(0%)",delay:l,ease:i.getEasing(r)});case"Right":return TweenLite.fromTo(s,a,{transform:"translateX(-100%)"},{transform:"translateX(0%)",delay:l,ease:i.getEasing(r)});case"Left":default:return TweenLite.fromTo(s,a,{transform:"translateX(100%)"},{transform:"translateX(0%)",delay:l,ease:i.getEasing(r)})}},e.prototype.getReverseTransformTween=function(t,e,n,r,o){var s=t.target,a=n/1e3,l=e/1e3;switch(this.direction){case"Down":return TweenLite.to(s,a,{transform:"translateY(100%)",delay:l,ease:i.getEasing(r)});case"Up":return TweenLite.to(s,a,{
transform:"translateY(-100%)",delay:l,ease:i.getEasing(r)});case"Right":return TweenLite.to(s,a,{transform:"translateX(100%)",delay:l,ease:i.getEasing(r)});case"Left":default:return TweenLite.to(s,a,{transform:"translateX(-100%)",delay:l,ease:i.getEasing(r)})}},e}(o);e.Slide=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTransformTween=function(t,e,n,r,o){var s=t.target,a=new TimelineLite;return a.stop(),a.to(s,0,{scale:.1}),a.to(s,.6*n/1e3,{scale:1.1}),a.to(s,.2*n/1e3,{scale:.9}),a.to(s,.2*n/1e3,{scale:1}),TweenLite.to(a,n/1e3,{progress:1,delay:e/1e3,ease:i.getEasing(r)})},e}(o);e.Pop=l});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("operations",["require","exports","utils","data","adapters","views","animations","effects"],function(t,e,i,n,r,o,s,a){"use strict";function l(t,e){var i=t[e];return"function"==typeof i?i.call(t):i}function u(t){t.resize=function(t,e){return this.queue(new C(this.target,{width:t,height:e}))},t.move=function(t,e,i){return this.queue(new w(this.target,t,e,i))},t.set=function(t,e){return this.queue(new y(this.target,t,e))},t.add=function(t,e,i){return this.queue(new g(this.target,t,e,i))},t.remove=function(t,e){return this.queue(new v(this.target,t,e))},t.invoke=function(t){return this.queue(new T(this.target,t))}}function h(t,e,n){var o=null;return n.parent instanceof r.Wrapper?(o=n,n=n.parent):n instanceof r.Wrapper&&(o=n.adapter()),e!=-1&&e<t.length&&t[e]===n?i.array.removeAt(t,e):i.array.remove(t,n),o||n}function d(t,e,n,o){return n!=-1&&n<e.length?i.array.insertAt(e,n,o):e.push(o),o instanceof r.Wrapper?o.adapter():o}function c(t,e,i,n){if(!n||void 0===n.stateContext)return d(t,e,i,n);n.stateContext=t.stateContext();try{return d(t,e,i,n)}finally{n.stateContext=null}}function p(t){var e=t.parentProperty;return e?t.parent.property(e):null}Object.defineProperty(e,"__esModule",{value:!0});var f="panel_bounds",g=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.target=e,o.property=i,o.value=n,o.before=r,o}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);if(null!=e){var i=e.property(this.property);return void 0===i&&(e.property(this.property,[]),i=e.property(this.property)),i.beforeAddConverter&&(this.value=i.beforeAddConverter(this.value)),new m(this,t,i,this.value,this.before)}return null},e}(o.Operation);e.Add=g;var m=function(){function t(t,e,r,o,l,u,h,d){var c=this;if(this.context=e,this.operation=t,this.collection=r,this.element=o,this.before=l,this.inserted=!1,u=void 0!==u?u:t.start,h=void 0!==h?h:t.duration,!d&&n.isDataObject(this.element)&&this.element.opacity){var p=null==t.effect?new a.Fade:t.effect;p.onInit(this.element,u,h),this.animation=p.getAnimation(this.element,u,h,t.easing,e),this.index=this.getInsertIndex(),e.onStarted(function(){c.insertElement(),p.onStart(c.element)}),e.onReversed(function(){p.onReverseStart(c.element),c.removeElement()})}else i.debug.assert(0===h),this.animation=s.Builder.setAnimation({dummy:0},u,h,t.easing,"dummy",1),this.index=this.getInsertIndex(),this.animation.onCompleted(function(){c.insertElement()}),this.animation.onReversed(function(){c.removeElement()})}return t.prototype.animations=function(){return this.animation?[this.animation]:[]},t.prototype.removeElement=function(){this.inserted&&(this.element=h(this.collection,this.index,this.element),this.inserted=!1)},t.prototype.insertElement=function(){this.inserted||(this.element=c(this.context,this.collection,this.index,this.element),this.inserted=!0)},t.prototype.getInsertIndex=function(){var t=-1;if(this.before){var e=this.before.split("."),n=e[e.length-1];t=i.array.findIndex(this.collection,function(t){return t.id()===n})}return t===-1&&(t=this.collection.length),t},t}(),v=function(t){function e(e,i,n){var r=t.call(this)||this;return r.target=e,r.property=i||null,r.item=void 0===n?null:n,r}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);if(null!=e){if(null===this.property)return new _(this,t,null,e);var i=e.property(this.property);return new _(this,t,i,this.item)}return null},e}(o.Operation);e.Remove=v;var _=function(){function t(t,e,i,r){var o=this;this.context=e,this.operation=t,this.element=r,this.collection=i,this.oldCollection=null,this.removed=!1;var l=t.start,u=t.duration;if(u>0&&n.isDataObject(this.element)&&this.element.opacity){var h=null==t.effect?new a.Fade:t.effect;this.animation=h.getReverseAnimation(this.element,l,u,t.easing,e)}else this.animation=s.Builder.setAnimation({dummy:1},l,u,t.easing,"dummy",0);this.animation.onCompleted(function(){return o.removeElement()}),u>0?e.onReverseStarted(function(){return o.reinsertElement()}):this.animation.onReversed(function(){return o.reinsertElement()})}return t.prototype.animations=function(){return this.animation?[this.animation]:[]},t.prototype.removeElement=function(){if(!this.removed){this.oldCollection=this.collection||p(this.element);var t=null;this.element instanceof r.Wrapper&&(t=this.element.adapter()),this.index=i.array.remove(this.oldCollection,this.element),this.index===-1?this.oldCollection=null:t&&(this.element=t),this.removed=!0}},t.prototype.reinsertElement=function(){this.removed&&(this.oldCollection&&(this.element=c(this.context,this.oldCollection,this.index,this.element),this.oldCollection=null),this.removed=!1)},t}(),y=function(t){function e(e,i,n){var r=t.call(this)||this;return r.target=e,r.property=i,r.value=n,r}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);if(null!=e){var i=e.getProperty(this.property);if(null!==i){var n=e.property(this.property),s=r.getConverter(i),a=s?s(this.value):this.value;if(null!=a){var u=void 0!==a.autoWidth,h=void 0!==a.x,d=void 0!==a.width;if(h||d||u){var c=new o.AppliedBlock;return u?c.add(new b(this,t,n,"autoWidth",n.autoWidth(),a.autoWidth,this.start,0),new b(this,t,n,"autoHeight",n.autoHeight(),a.autoHeight,this.start,0)):(h&&c.add(new b(this,t,n,"x",n.x(),l(a,"x")),new b(this,t,n,"y",n.y(),l(a,"y"))),d&&c.add(new b(this,t,n,"width",n.width(),l(a,"width")),new b(this,t,n,"height",n.height(),l(a,"height")))),c}}return new b(this,t,e,this.property,n,a)}}return null},e}(o.Operation);e.Set=y;var b=function(){function t(t,e,i,n,r,o,a,l){var u=this;if(this.operation=t,this.element=i,this.property=n,this.oldValue=r,this.newValue=o,this.isSet=!1,a=void 0!==a?a:t.start,l=void 0!==l?l:t.duration,"effect"==this.property){var h=this.newValue;h.onInit(this.element),h.onStart(this.element),this.animation=h.getAnimation(this.element,a,l,t.easing,e),e.onStarted(function(){}),e.onReversed(function(){h.onReverseStart(u.element)})}else this.animation=s.Builder.setAnimation(i,a,l,t.easing,n,o,a?void 0:r),this.animation.onCompleted(function(){return u.setValue()}),a||this.animation.onReversed(function(){u.valueAfterSet!==r&&u.resetValue()})}return t.prototype.animations=function(){return this.animation?[this.animation]:[]},t.prototype.setValue=function(){this.isSet||(this.element.property(this.property,this.newValue),this.valueAfterSet=this.element.property(this.property),this.isSet=!0)},t.prototype.resetValue=function(){this.isSet&&this.element.property(this.property,this.oldValue),this.isSet=!1},t}(),w=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.target=e,o.to=i,o.at=n||null,void 0===r?(o.top=!1,o.before=null):"boolean"==typeof r?(o.top=r,o.before=null):(o.top=!1,o.before=r),o.moved=!1,o.animation=null,o}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);if(null!=e){var i,n=null;if(this.at){if(i=t.find(this.at),null==i)return null;if(e.isAncestor(i))return null;n=i.hasProperty("children")?i.property("children"):i.property("items")}if(0===this.duration)return new x(this,t,e,i,n,this.before,this.top,this.to);if(i){var s=this.getRootContainer(e),a=this.to,l=r.getTransform(i,s),u=null!=l?l.transform(this.to):this.to,h=s.property("children"),d=new o.AppliedBlock;d.add(new x(this,t,e,s,h,null,!0,null,!0,this.start));var c=e.property(f),p={x:c.x(),y:c.y()};return d.add(new b(this,t,c,"x",p.x,u.x)),d.add(new b(this,t,c,"y",p.y,u.y)),d.add(new x(this,t,e,i,n,this.before,this.top,a,!1,this.end)),d}var c=e.property(f),p={x:c.x(),y:c.y()},a=this.to||p,d=new o.AppliedBlock;return(null!==this.before||this.top)&&d.add(new x(this,t,e,null,null,this.before,this.top,null,!0,this.start)),d.add(new b(this,t,c,"x",p.x,a.x),new b(this,t,c,"y",p.y,a.y)),d}return null},e.prototype.getRootContainer=function(t){for(var e=null,i=t;null!=i&&!(i instanceof o.View);)i.children&&(e=i),i=i.parent;return e},e}(o.Operation);e.Move=w;var x=function(){function t(t,e,i,n,r,o,a,l,u,h){var d=this;this.context=e,this.start=void 0===h?t.start:h,this.oldIndex=-1,this.newIndex=-1,this.oldPosition=null,this.oldCollection=null,this.operation=t,this.element=i,this.targetContainer=n,this.targetCollection=r,this.before=o,this.to=l,this.toSamePosition=u,this.toTop=a,this.moved=!1,this.animation=s.Builder.setAnimation({dummy:1},this.start,0,null,"dummy",0),this.animation.onCompleted(function(){return d.endMove()}),this.animation.onReversed(function(){return d.revertMove()})}return t.prototype.endMove=function(){if(!this.moved&&null===this.oldCollection&&null===this.oldPosition){this.moved=!0,this.oldCollection=p(this.element),this.oldIndex=this.oldCollection.indexOf(this.element),this.newContainer=this.targetContainer||this.element.parent,this.newCollection=this.targetCollection||this.oldCollection;var t,e;if(this.to||this.toSamePosition)if(this.toSamePosition){if(this.element.parent!==this.newContainer){e=this.element.property(f),this.oldPosition={x:e.x(),y:e.y()};var i=r.getTransform(this.element.parent,this.newContainer);t=null!=i?i.transform(this.oldPosition.x,this.oldPosition.y):null}}else e=this.element.property(f),e&&(this.oldPosition={x:e.x(),y:e.y()},t=this.to);this.newIndex=this.getInsertIndex(this.oldIndex),this.oldCollection===this.newCollection&&this.oldIndex===this.newIndex||(this.element=h(this.oldCollection,this.oldIndex,this.element),this.element=c(this.context,this.newCollection,this.newIndex,this.element)),e&&t&&e.x(t.x).y(t.y)}},t.prototype.revertMove=function(){if(this.moved&&(this.oldCollection||this.oldPosition)){if(this.moved=!1,this.oldCollection===this.newCollection&&this.oldIndex===this.newIndex||(this.element=h(this.newCollection,this.newIndex,this.element),this.element=c(this.context,this.oldCollection,this.oldIndex,this.element)),this.oldPosition){var t=this.element.property(f);t&&t.x(this.oldPosition.x).y(this.oldPosition.y)}this.oldCollection=null,this.oldPosition=null}},t.prototype.animations=function(){return this.animation?[this.animation]:[]},t.prototype.getInsertIndex=function(t){var e=null;if(this.before){var n=this.before.split("."),r=n[n.length-1];e=i.array.findIndex(this.newCollection,function(t){return t.id()===r}),e==-1&&(e=this.newCollection.length)}else{if(!this.toTop&&null===this.targetCollection)return t;e=this.newCollection.length}return this.oldCollection===this.newCollection&&t<e&&e--,e},t}();e.AppliedMove=x;var C=function(t){function e(e,i){var n=t.call(this)||this;return n.target=e,n.to=i,n}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);if(null!=e){var i=e.property(f);return new o.AppliedBlock(new b(this,t,i,"width",i.property("width"),this.to.width),new b(this,t,i,"height",i.property("height"),this.to.height))}return null},e}(o.Operation);e.Resize=C;var T=function(t){function e(e,i){var n=t.call(this)||this;return n.func=i,n.target=e,n}return __extends(e,t),e.prototype.execute=function(t){var e=t.find(this.target);return new S(e,this.start+this.duration,this.func)},e}(o.Operation);e.Invoke=T;var S=function(){function t(t,e,i){this.func=i,this.animation=s.Builder.invokeAnimation(t,e,i)}return t.prototype.animations=function(){return this.animation?[this.animation]:[]},t}(),k=function(t){function e(i){var n=t.call(this,{id:i.id,title:i.title,group:i.group,basedOn:i.basedOn,operations:e.buildStateFunction(i.operations,i.duration),duration:i.duration})||this;return n.operations=i.operations,n.created=i.created,n}return __extends(e,t),e.prototype.toString=function(){return this.title+"["+this.id+"]"},e.buildStateFunction=function(t,e){return function(i){for(var n=0,r=0;r<t.length;r++){var o,s=t[r];if(s instanceof g){var a=s,l=a.value;l&&void 0!==l.clone&&(l=l.clone()),o=i.on(a.target).add(a.property,l,a.before)}else if(s instanceof v){var u=s;o=u.property?i.on(u.target).remove(u.property,u.item):i.on(u.target).remove()}else if(s instanceof y){var h=s,l=h.value;l&&void 0!==l.clone&&(l=l.clone()),o=i.on(h.target).set(h.property,l)}else if(s instanceof w){var d=s;o=d.before?i.on(d.target).move(d.to,d.at,d.before):i.on(d.target).move(d.to,d.at,d.top)}else if(s instanceof C){var c=s;o=i.on(c.target).resize(c.to.width,c.to.height)}o&&(o.delay(s.start),o.duration(s.duration),o.easing(s.easing),o.effect(s.effect),n=Math.max(s.start+s.duration,n))}n<e&&i.invoke(e,function(){})}},e}(o.State);e.InterpretedState=k,e.register=u,u(o.OnTargetContext.prototype)});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("adapters_reader",["require","exports","data","views","themes","utils","reader_converters","adapters","templates","operations","layout","animations","effects"],function(t,e,i,n,r,o,s,a,l,u,h,d,c){"use strict";function p(t){return t&&"object"==typeof t&&"function"==typeof t.then}function f(t){return"QuadraticEase,EaseIn"===t?new d.QuadraticEase(!0,!1):"QuadraticEase,EaseOut"===t?new d.QuadraticEase(!1,!0):"None"===t?null:new d.QuadraticEase(!0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var g={"http://prototypes.infragistics.com/ios/":"ios","http://prototypes.infragistics.com/ios7/":"ios7","http://prototypes.infragistics.com/":"","":""},m=function(t){function e(e){return t.call(this,"Error loading screen","Invalid screen: "+e)||this}return __extends(e,t),e}(o.Exception);e.InvalidScreenError=m;var v=function(t){function e(e){return t.call(this,"Error loading screen","No adapter for type: "+e)||this}return __extends(e,t),e}(o.Exception);e.NoAdapterForTypeError=v;var _,y=["sourcePath"];!function(t){function e(t,e){var i=t.documentElement.getAttribute("Id")||"",n=_(t);if(null===n)throw new m("Unable to determine the view type");var r,o=new et[n](i),s=w(o,e),a=nt(t.documentElement,n+".Content"),l=x(s,a.firstElementChild);return r=p(l)?l.then(function(e){return d(t,o,n,s,e)}):d(t,o,n,s,l),s.applyTrampoline(),r}function d(t,e,i,n,r){e.content(r);var s=nt(t.documentElement,i+".Scenes");if(!s)throw new m("No "+i+".Scenes element");var a=nt(t.documentElement,i+".Device");a&&(e.device=D(a.firstElementChild));var l=M(e,n,s);return p(l)?l.then(function(){return e}):o.defer.donePromise(e)}function _(t){for(var e in et){var i=nt(t.documentElement,e+".Content");if(null!=i)return e}return null}function w(t,e){return new b(t,e,Q)}function x(t,e){if(t.element=e,!t.mustYield&&t.depth<13){t.depth++;var i=C(t);return t.depth--,i}return t.trampoline(C)}function C(t){var e=J(t,t.element),i=P(t,t.element,e);return p(i)?i.then(function(){return e}):e}function T(t,e,i){for(var n=a.getProperties(e),r=Object.getOwnPropertyNames(i),o=0,s=0;s<n.length&&o<r.length;s++){var l=n[s],u=i[l.name];void 0!==u&&(o++,l.property.setter.call(e,u),tt(l.name,u,t.view))}t.customReader&&t.customReader.readElement(e)}function S(t,e,i){return e.then(function(e){i[t]=e})}function k(t,e,i,n){var r=I(t,e.firstElementChild,i,n);return p(r)?r.then(function(){T(t,i,n)}):(T(t,i,n),null)}function P(t,e,i){var n=rt(e,"Id");n&&i.id(n);var r=rt(e,"StyleClass");if(r&&i.hasProperty("stylesheet")&&i.hasProperty("styleClass")){var s=t.resolveStylesheet();return p(s)?s.then(function(n){i.property("stylesheet",n),i.property("styleClass",r);var o=E(t,e,i);return h.deferredToNext().then(function(){return t.applyTrampoline()}),o},function(n){var r=E(t,e,i),s=p(r)?r:o.defer.donePromise(r);return h.deferredToNext().then(function(){return t.applyTrampoline()}),s}).then(function(e){return h.deferredToNext().then(function(){return t.applyTrampoline()}),e}):s?(i.property("stylesheet",s),i.property("styleClass",r),E(t,e,i)):E(t,e,i)}return E(t,e,i)}function E(t,e,i){for(var n={},r=null,o=e.attributes,s=o.length,a=0;a<s;a++){var l=o[a],u=l.name;if("Id"!==u&&"StyleClass"!==u){var h=t.convert(u,l.value),d=h.value,c=h.property;p(d)?r=r?r.then(function(){return S(c,d,n)}):S(c,d,n):n[c]=d}}return null!==r?r.then(function(){return k(t,e,i,n)}):k(t,e,i,n)}function I(t,e,i,n){for(;null!==e;){var r;if(it.indexOf(e.localName)!=-1)r=$(i,t,e);else{var o=t.convert(e.localName,e);p(o.value)?r=o.value.then(function(t){n[o.property]=t}):n[o.property]=o.value}if(p(r))return r.then(function(){return I(t,e.nextElementSibling,i,n)});e=e.nextElementSibling}return null}function D(t){var e=new n.Device;e.id=rt(t,"Id");var i=rt(t,"Orientation");return"Landscape"===i?e.orientation=n.Orientation.Landscape:"Portrait"===i?e.orientation=n.Orientation.Portrait:e.orientation=null,e}function A(t,e){return Math.max(t,e.start+e.duration)}function $(t,e,i){if("Scene.KeyFrames"===i.firstElementChild.localName){var n={ops:[],endTime:0},r=R(t,e,i,n);if(p(r))return r.then(function(){O(t,e,i,n.ops,n.endTime)});O(t,e,i,n.ops,n.endTime)}else if(it.indexOf(i.localName)!=-1){var o=[],s=F(t,e,i,o);if(p(s))return s.then(function(){var n=o.reduce(A,0);O(t,e,i,o,n)});var a=o.reduce(A,0);O(t,e,i,o,a)}return null}function O(t,e,i,r,s){var a=i.getAttribute("Id"),l=i.getAttribute("Title"),h=rt(i,"StateGroup"),d=rt(i,"BasedOn")||i.getAttribute("ParentScene"),c=rt(i,"Created"),p=c?o.strings.dateFromIndigo(c):new Date,f=new u.InterpretedState({id:a,title:l,group:h,basedOn:d,operations:r,duration:s,created:p});return d?t.addState(a,f):(t.addState(n.ViewStartState,f),a&&n.ViewStartState!=a&&t.addState(a,f)),f}function M(t,e,i){return L(t,e,ot(i,"Scene"))}function L(t,e,i){for(;i;){var n=$(t,e,i);if(p(n))return n.then(function(){return L(t,e,st(i,"Scene"))});i=st(i,"Scene")}}function R(t,e,i,n){return N(t,e,ot(i.firstElementChild,"KeyFrame"),n)}function N(t,e,i,n){for(;i;){var r=F(t,e,i,n.ops);if(p(r))return r.then(function(){return n.endTime+=parseInt(rt(i,"Duration","0")),N(t,e,st(i,"KeyFrame"),n)});n.endTime+=parseInt(rt(i,"Duration","0")),i=st(i,"KeyFrame")}}function F(t,e,i,n){if("KeyFrame"===i.localName){var r=i.firstElementChild;return r?B(t,e,r.firstElementChild,n):null}return B(t,e,i.firstElementChild,n)}function B(t,e,i,n){for(;i;){var r=H(t,e,i);if(p(r))return r.then(function(r){return null!==r&&n.push(r),B(t,e,i.nextElementSibling,n)});null!==r&&n.push(r),i=i.nextElementSibling}return null}function H(t,e,i){var n;return n="Add"===i.localName?z(t,e,i):"Set"===i.localName&&"True"!==i.getAttribute("IsUnset")?W(t,e,i):"Remove"===i.localName?q(e,i):"Resize"===i.localName?G(i):"Move"===i.localName?X(i):null,p(n)?n.then(function(t){return K(i,t)}):K(i,n)}function V(t,e){if(null!=e){var i=e.split(","),n=i[0];if("Slide"===n){var r=new c.Slide;return r.direction=i[1],i.length>2&&(r.duration=i[2]),r}if("Flip"==n){var o=new c.Flip;return o.direction=i[1],i.length>2&&(o.duration=i[2]),o}if("Pop"==n){var s=new c.Pop;return i.length>1&&(s.duration=i[1]),s}if("Fade"==n){var a=new c.Fade;return i.length>1&&(a.duration=i[1]),a}}else{for(var l,u=0;u<t.childNodes.length;u++){var h=t.childNodes[u];h.localName===h.parentNode.localName+".Effect"&&(l=h)}if(null!=l){var d=l.firstElementChild;if("Slide"===d.localName){var r=new c.Slide;return r.direction=d.getAttribute("Direction"),r}if("Flip"==d.localName){var o=new c.Flip;return o.direction=d.getAttribute("Direction"),o}if("Pop"==d.localName){var s=new c.Pop;return s}}}return null}function j(t,e,i,n,r,s,a){if(a.isAnnotation===!0){var l=a.panel_bounds();t.maxAnnotationLayersBounds=o.geom.rectUnion(t.maxAnnotationLayersBounds,{x:l.x(),y:l.y(),width:l.width(),height:l.height()})}var h=new u.Add(i,n,a,r);return h.effect=V(s,s.getAttribute("Effect")),h}function z(t,e,i){var n=i.getAttribute("Target"),r=rt(i,"Before"),o=s.getPropertyName(i.getAttribute("Property")),a=rt(i,"Item");if(null===a){var l=x(e,i.firstElementChild.firstElementChild);return p(l)?l.then(function(s){return j(t,e,n,o,r,i,s)}):j(t,e,n,o,r,i,l)}return new u.Add(n,o,a,r)}function W(t,e,i){var n=i.getAttribute("Target"),r=i.getAttribute("Property"),o=rt(i,"Value");null===o&&i.childElementCount>0&&i.firstElementChild.childElementCount>0?o=i.firstElementChild:"Control.Effect"==r&&(o=V(i,o)),"Content.Width"===r?t.maxContentSize.width=Math.max(t.maxContentSize.width,parseInt(o)):"Content.Height"===r&&(t.maxContentSize.height=Math.max(t.maxContentSize.height,parseInt(o)));var s=e.convert(r,o);return null!=s.value&&void 0!==s.value.then?s.value.then(function(t){return new u.Set(n,s.property,t)}):(tt(s.property,s.value,e.view),new u.Set(n,s.property,s.value))}function U(t,e,i,n){var r=new u.Remove(e,i,n);return r.effect=V(t,t.getAttribute("Effect")),r}function q(t,e){var i=e.getAttribute("Target"),n=e.getAttribute("Property");if(n){var n=s.getPropertyName(e.getAttribute("Property")),r=rt(e,"Item");if(null===r){var o=x(t,e.firstElementChild.firstElementChild);return p(o)?o.then(function(t){return U(e,i,n,t)}):U(e,i,n,o)}return U(e,i,n,r)}return U(e,i)}function G(t){var e=t.getAttribute("Target"),i=rt(t,"To"),n=null!=i?i.split(",",2):["0","0"];return new u.Resize(e,{width:parseInt(n[0]),height:parseInt(n[1])})}function X(t){var e,i=t.getAttribute("Target"),n=t.getAttribute("To"),r=null!=n?n.split(",",2):null,o=rt(t,"At"),s=rt(t,"Before");if(s)e=new u.Move(i,null!=r?{x:parseInt(r[0]),y:parseInt(r[1])}:null,o,s);else{var a="True"===rt(t,"Top");e=new u.Move(i,null!=r?{x:parseInt(r[0]),y:parseInt(r[1])}:null,o,a)}return e}function K(t,e){if(null===e)return null;e.easing=f(rt(t,"Easing"));var i=rt(t,"Duration");i&&(e.duration=parseFloat(i));var n=rt(t,"StartTimeMilliseconds");return n&&(e.start=parseFloat(n)),e}function Y(t,e,i){if(e){var n=x(t,e);return p(n)?n.then(function(n){return i.push(n),Y(t,e.nextElementSibling,i)}):(i.push(n),Y(t,e.nextElementSibling,i))}return null}function Q(t,e,i){var n=i;if(i instanceof Element){var r=i;if(0===r.childElementCount)n=r.nodeValue;else if(1===r.childElementCount)n=x(t,r.firstElementChild);else{var a=new Array;n=Y(t,r.firstElementChild,a),n=p(n)?n.then(function(){return a}):a}}else"string"==typeof i&&o.strings.startsWith(i,"{}")&&i.length>2&&"{"===i[2]&&(n=i.substr(2));return{property:s.getPropertyName(e),value:n}}function J(t,e){var n=Z(e),r=t.getAdapterConstructor(n,e.localName);if(!r)throw new v(n+e.localName);var o,s=i.Catalog.get(n+e.localName);if(!a.hasTemplate(r))if(l.DefaultCatalog.has(s.fullname())){var u=l.DefaultCatalog.get(s.fullname());o=function(){return u.apply()}}else o=function(){return document.createElement("div")};var h=new r(o);return h.datatype(s),h}function Z(t){return g[t.namespaceURI||""]}function tt(t,e,i){e&&y.indexOf(t)!=-1&&i.requireResource(o.path.asLowerCaseUri(e))}var et={Page:n.Screen,ScreenPart:n.ScreenPart,Stylesheet:r.Stylesheet},it=["SharedPart.Customizations","ScreenPartInstance.Customizations"],nt=o.dom.getChildElementByLocalName,rt=o.dom.attribute,ot=o.dom.firstChild,st=o.dom.nextSibling;t.read=e}(_=e.XamlReader||(e.XamlReader={}));var b=function(){function t(t,e,i){this.view=t,this.customReader=e.customReader||null,this.depth=0,this._adapters=e.catalog||a.DefaultCatalog,this._converters=new s.ConverterCatalog,this._converters.defaultConverter=i,this._yieldIntervalMs=e.yieldEvery,this._lastYield=this._yieldIntervalMs>0?Date.now():0,this._pendingTrampoline=null,this._stylesheetResolver=e.resolveStylesheet,s.registerConverters(this._converters)}return Object.defineProperty(t.prototype,"mustYield",{get:function(){return this._yieldIntervalMs>0&&Date.now()-this._lastYield>this._yieldIntervalMs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultConverter",{get:function(){return this._converters.defaultConverter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.element.nodeName},enumerable:!0,configurable:!0}),t.prototype.resolveStylesheet=function(t){if(this._stylesheetResolver){var e=null,i=this._stylesheetResolver(t);return i.then(function(t){return e=t}),e?e:i}return null},t.prototype.getAdapterConstructor=function(t,e){return this._adapters.getAdapterConstructor(t,e)},t.prototype.convert=function(t,e){var i=this._converters.get(t);return i(this,t,e)},t.prototype.trampoline=function(t){return this._pendingTrampoline=jQuery.Deferred(),this._pendingTrampoline.promise().then(t)},t.prototype.applyTrampoline=function(){for(var t=this;null!==this._pendingTrampoline;){var e=this._pendingTrampoline;this._pendingTrampoline=null;var i;if(this.mustYield)return this._lastYield=i,h.onNext(function(){e.resolve(t),t.applyTrampoline()});e.resolve(this)}},t}()}),define("icons/none",[],function(){return{Placeholder:"M 22.4063 5.0938 C 22.6045 5.0938 22.9102 5.2046 23.0557 5.355 L 25.6563 8.8723 C 26 9.216 26.0938 10 25.6621 10 L 25 10 L 25 21.4057 C 25 24.7754 23.8867 25.9291 22.7393 26 L 17.3525 26 C 14.8047 26 12 11.7659 12 12.0859 L 12 13.0151 L 12 21.3617 C 12 24.8407 10.8271 26 8.4424 26 L 4.5449 26 C 2.1572 26 1 24.901 1 21.3617 L 1 9.3187 C 1 8.1593 2.1943 7 3.3877 7 L 6 7 L 6 20.9141 C 6 22.4366 6.4636 24.5834 6.4874 24.5283 C 6.8017 23.8015 7 22.7716 7 21.3617 L 7 12.0859 C 7 8.6069 8.6074 6.9844 9.1563 7 L 14.4043 7 C 16.8105 7 18.0723 16.5842 20 21.9757 L 20 10 L 19.209 10 C 18.8076 10 18.667 9.3216 18.9736 9.0284 L 21.6045 5.3531 C 21.7607 5.2036 22.208 5.0928 22.4063 5.0938 ZM 4.3486 0.4906 C 6.1973 0.4906 7.5049 1.694 7.5049 3.1781 C 7.5049 4.6633 6.5811 5.8667 3.5605 5.8667 C 1.2012 5.8667 1 7.0615 1 7.0615 L 1 3.1781 C 1 1.694 2.499 0.4906 4.3486 0.4906 Z",Unknown:" M4.875,2 C3.29,2 2,3.29 2,4.875 L2,21.125 C2,22.71 3.29,24 4.875,24 L21.125,24 C22.71,24 24,22.71 24,21.125 L24,4.875 C24,3.29 22.71,2 21.125,2 L4.875,2 z M4.875,5.156E-06 L21.125,5.156E-06 C23.818,0 26,2.182 26,4.875 L26,21.125 C26,23.818 23.818,26 21.125,26 L4.875,26 C2.182,26 0,23.818 -5.305E-06,21.125 L-5.305E-06,4.875 C0,2.182 2.182,0 4.875,5.156E-06 z"}});var __assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};define("icons",["require","exports","icons/none"],function(t,e){"use strict";function i(t){return a[t]}function n(e){return l[e]||(l[e]=new Promise(function(i,n){t([o(e).slice(0,-".js?".length)],function(t){if(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var o=r[e];a[o]=t[o]}i(t)}else n(t)})})),l[e]}function r(t){return"string"!=typeof t?null:0===t.indexOf("fa-")?"fontawesome":0===t.indexOf("la-")?"lineawesome":0===t.indexOf("iOS 7")?"ios":0===t.indexOf("linea-")?"linea":"visualpharm"}function o(t){return u[t]}Object.defineProperty(e,"__esModule",{value:!0});var s=t("icons/none"),a=__assign({},s),l={},u={fontawesome:"icons/fontawesome.js?",lineawesome:"icons/lineawesome.js?",ios:"icons/ios.js?",linea:"icons/linea.js?",visualpharm:"icons/visualpharm.js?"};e.getIcon=i,e.loadIconCatalog=n,e.getIconPack=r}),define("projects",["require","exports","utils","storage","google-fonts","loader","config","jquery"],function(t,e,i,n,r,o,s){"use strict";function a(t,e){var n=i.path.combine(t,e);return s.AuthorizationQueryString?n+"?"+s.AuthorizationQueryString:n}function l(t){return t===e.ProjectExtension||t===e.AlternativeProjectExtension}function u(t){return t&&l(i.path.getExtension(t))}function h(t,n){return i.env.isOnFileSystem()?Promise.resolve():e.ImageExtensions.indexOf(i.path.getExtension(n).toLowerCase())!==-1?i.dom.preloadImage(a(t,n)):e.DocumentExtensions.indexOf(i.path.getExtension(n).toLowerCase())!==-1?o.IndigoDocumentLoader.preLoadXml(t,n):new Promise(function(e,i){var r=a(t,n);$.ajax(r,{success:function(){e()},error:function(t,i){e()}})})}function d(t){var e=[];if(t)for(var i=0,n=t.split(",");i<n.length;i++){var o=n[i];r.isGoogleFont(o)&&e.push(r.parseGoogleFont(o))}return e}function c(t){var e=[];if(t)for(var n=t.getElementsByTagName("SharedResource"),r=0;r<n.length;r++){var o=n[r];e.push({path:i.path.asLowerCaseUri(o.getAttribute("Reference")),type:o.getAttribute("Type")})}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectExtension=".share",e.AlternativeProjectExtension=".proj",e.ProjectFileName="project"+e.ProjectExtension,e.AlternativeProjectFileName="project"+e.AlternativeProjectExtension,e.ImageExtensions=[".png",".jpg",".jpeg",".gif"],e.DocumentExtensions=[".screen",".screenpart",".stylesheet"],e.getProjectResourcePath=a,e.isProjectExtension=l,e.hasProjectExtension=u;var p=function(){function t(t,e,i,n,r,o,s){this._name=t,this._startScreen=e,this._options=i,this._extensionProperties={},this._defaultStylesheetPath=r,this._resources=o,this._fonts=s;for(var a in n)this._extensionProperties[a]=n[a]}return t.fromUrl=function(i){var r;return r=u(i)?i:a(i,e.ProjectFileName),n.load(r).then(function(e){return t.fromText(e)},function(r){return u(i)?r:n.load(a(i,e.AlternativeProjectFileName)).then(function(e){return t.fromText(e)})})},t.fromText=function(e){var n=new DOMParser,r=n.parseFromString(e,"text/xml"),o=r.documentElement;if("Project"===o.nodeName){var s=o.getAttribute("Name"),a=o.getAttribute("StartScreens"),l=o.getAttribute("DefaultStylesheet");return new t(s,a,{},{},l,[],[])}var u=o.getAttribute("Name"),a=o.getAttribute("StartScreen");a&&"/"===a[0]&&(a=a.substr(1));for(var l=o.getAttribute("DefaultStylesheet"),h=d(o.getAttribute("GoogleFonts")),p=c(o.getElementsByTagName("SharedProject.Resources")[0]),f={},g=0;g<o.childNodes.length;g++){var m=o.childNodes[g];m.nodeType===Node.ELEMENT_NODE&&"SharedProject.Resources"!==m.nodeName&&(f[m.nodeName.split(".")[1].toLowerCase()]=i.dom.firstChild(m))}var v={showAnnotations:!1,highlightInteractions:!1,enableCodeGen:!1};if(void 0!==f.options){var _=f.options,y=_.getAttribute("EnableCodeGen");y&&(v.enableCodeGen="True"===y);var b=_.getAttribute("ShowAnnotations");b&&(v.showAnnotations="True"===b);var w=_.getAttribute("HighlightInteractions");w&&(v.highlightInteractions="True"===w)}return new t(u,a,v,f,l,p,h)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startScreen",{get:function(){return this._startScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStylesheetPath",{get:function(){return this._defaultStylesheetPath},enumerable:!0,configurable:!0}),t.prototype.property=function(t){return this._extensionProperties[t]},t.prototype.preloadResources=function(t){return Promise.all([this.defaultStylesheetPath?o.IndigoDocumentLoader.preLoadXml(t,this.defaultStylesheetPath):Promise.resolve()].concat(this._resources.map(function(e){var i=e.path;return h(t,i)}),this._fonts.map(function(t){return r.loadGoogleFont(t)}))).then(function(){return null},function(t){})},t}();e.Project=p});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("loader",["require","exports","utils","errors","storage","adapters_reader","config","google-fonts","icons","projects","jquery"],function(t,e,i,n,r,o,s,a,l,u){
"use strict";function h(t,e){if(!s.CatchRenderExceptions)return t();try{return t()}catch(t){var i=jQuery.Deferred();return i.reject(t.code?t:new c(t+"",e)),i.promise()}}function d(t,e){var i=null,n=[];for(t.lastIndex=0;i=t.exec(e);){for(var r=[],o=0;o<i.length;o++)r.push(i[o]);n.push(r)}return n}Object.defineProperty(e,"__esModule",{value:!0});var c=function(t){function e(e,i){return t.call(this,"RenderException",e,null,i)||this}return __extends(e,t),e}(i.Exception);e.RenderException=c;var p;!function(t){function e(){k={},P={}}function p(t,e,i){return g(t,e,i,[])}function f(t,e){return i.defer.fromJQuery(v(t,e)).then(function(){})}function g(t,e,o,s){return o=o||{shouldYield:!1,customReader:null},v(t,e).then(function(t){return m(t,o)},function(t){return t.code===r.ErrorCode.NotFound?new c("Screen cannot be found",n.ErrorCode.ScreenCannotBeFound):t}).then(function(e){for(var n=e.hasProperty("resources")?e.property("resources"):[],r=0;r<n.length;r++){var o=n[r],s=P[o];s||(P[o]=i.defer.asJQuery(i.dom.preloadImage(u.getProjectResourcePath(t,o))))}return i.defer.donePromise(e)})}function m(t,e){return h(function(){var i=e.shouldYield?e.yieldEveryMs||100:0;return o.XamlReader.read(t,{yieldEvery:i,customReader:e.customReader,resolveStylesheet:e.stylesheetResolver})},n.ErrorCode.RenderFailed)}function v(t,e){try{var n=u.getProjectResourcePath(t,e);if(k[n])return i.defer.donePromise(k[n]);var o=E[n];return o||(o=r.load(n).then(function(e){var r=S(e);return s.EnableScreenXMLCaching&&(k[n]=r),_(t,r).then(function(){return i.defer.donePromise(r)},function(){return i.defer.donePromise(r)})}),o.always(function(){E[n]=null}),E[n]=o),o}catch(t){return i.defer.rejectPromise(t)}}function _(t,e){function n(t){}var r=b(e),o=w(e),s=y(e);return i.defer.asJQuery(Promise.all([].concat(r.map(function(e){return i.defer.fromJQuery(v(t,e)).catch(n)})).concat(o.map(function(t){return a.loadGoogleFont(t).catch(n)})).concat(s.map(function(t){return l.loadIconCatalog(t).catch(n)}))))}function y(t){var e={};return["CatalogId"].forEach(function(i){return C(t,i,e)}),Object.keys(e)}function b(t){var e={};return["TemplateReference","Screen"].forEach(function(i){return T(t,i,e)}),Object.keys(e)}function w(t){var e={};return["FontFamily","TitleFontFamily","HintFontFamily","HeaderFontFamily","RichText"].forEach(function(i){return x(t,i,e)}),Object.keys(e).map(function(t){return e[t]})}function x(t,e,i){for(var n=function(t){!i[t]&&a.isGoogleFont(t)&&(i[t]=a.parseGoogleFont(t))},r=t.querySelectorAll("["+e+"]"),o=0;o<r.length;o++){var s=r[o].getAttribute(e);if(s)if("RichText"===e)for(var l=d(I,s),u=0,h=l;u<h.length;u++){var c=h[u];n(c[0])}else n(s)}for(var p=t.querySelectorAll('Set[Property$=".'+e+'"]'),o=0;o<p.length;o++){var f=p[o].getAttribute("Property"),g=p[o].getAttribute("Value");if(f&&g)if(f.match(D))for(var l=d(I,g),m=0,v=l;m<v.length;m++){var c=v[m];n(c[0])}else n(g)}return i}function C(t,e,i){for(var n=function(t){var e=l.getIconPack(t);i[e]=!0},r=t.querySelectorAll("["+e+"]"),o=0;o<r.length;o++){var s=r[o].getAttribute(e);s&&n(s)}for(var a=t.querySelectorAll('Set[Property$=".'+e+'"]'),o=0;o<a.length;o++){var u=a[o].getAttribute("Property"),h=a[o].getAttribute("Value");u&&h&&n(h)}return i}function T(t,e,n){for(var r=t.querySelectorAll("["+e+"]"),o=0;o<r.length;o++){var s=r[o].getAttribute(e);if(s)try{n[i.path.asLowerCaseUri(s)]=!0}catch(t){}}return n}function S(t){var e=new DOMParser;try{return e.parseFromString(t,"text/xml")}catch(t){throw new c("Error parsing indigo document XML",n.ErrorCode.InvalidScreen)}}var k={},P={},E={};t.clearCache=e,t.fromPath=p,t.preLoadXml=f;var I=/FontFamily="([^"]+?)"/g,D=/^[^.]+.RichText$/}(p=e.IndigoDocumentLoader||(e.IndigoDocumentLoader={}))}),define("normalize",["require","module"],function(t,e){function n(t,e,i){return 0===t.indexOf("data:")?t:(t=a(t),t.match(/^\/|([^\:\/]*:)/)?t:o(r(t,e),i))}function r(t,e){"./"==t.substr(0,2)&&(t=t.substr(2));var i=e.split("/"),n=t.split("/");for(i.pop();curPart=n.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function o(t,e){var n=e.split("/");for(n.pop(),e=n.join("/")+"/",i=0;e.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=e.substr(i,1);)i--;e=e.substr(i+1),t=t.substr(i+1),n=e.split("/");var r=t.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var s=/([^:])\/+/g,a=function(t){return t.replace(s,"$1/")},l=function(t,e,i){e=a(e),i=a(i);for(var r,o,t,s=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;r=s.exec(t);){o=r[3]||r[2]||r[5]||r[6]||r[4];var l=n(o,e,i),u=r[5]||r[6]?1:0;t=t.substr(0,s.lastIndex-o.length-u-1)+l+t.substr(s.lastIndex-u-1),s.lastIndex=s.lastIndex+(l.length-o.length)}return t};return l.convertURIBase=n,l}),define("css",["./normalize"],function(t){function e(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}if("undefined"==typeof window)return{load:function(t,e,i){i()}};var i=!1,n=document.getElementsByTagName("head")[0],r=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),o=!1;r&&(r[1]||r[7]?(o=parseInt(r[1])<6||parseInt(r[7])<=9,r="trident"):r[2]?(o=!0,r="webkit"):r[3]||(r[4]?(o=parseInt(r[4])<18,r="gecko"):i&&alert("Engine detection failed")));var s={};s.pluginBuilder="./css-builder";var a=[],l=[],u=[];s.addBuffer=function(t){e(a,t)==-1&&e(u,t)==-1&&(a.push(t),u.push(t))},s.setBuffer=function(e,i){var n=window.location.pathname.split("/");n.pop(),n=n.join("/")+"/";var r=require.toUrl("base_url").split("/");r.pop();var o=r.join("/")+"/";o=t.convertURIBase(o,n,"/"),"/"!=o.substr(0,1)&&(o="/"+o),"/"!=o.substr(o.length-1,1)&&(o+="/"),s.inject(t(e,o,n));for(var u=0;u<a.length;u++)(i&&".less"==a[u].substr(a[u].length-5,5)||!i&&".css"==a[u].substr(a[u].length-4,4))&&(!function(t){l[t]=l[t]||!0,setTimeout(function(){"function"==typeof l[t]&&l[t](),delete l[t]},7)}(a[u]),a.splice(u--,1))},s.attachBuffer=function(t,i){for(var n=0;n<a.length;n++)if(a[n]==t)return l[t]=i,!0;return l[t]===!0?(l[t]=i,!0):e(u,t)!=-1?(i(),!0):void 0};var h=function(t,e){setTimeout(function(){for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets[i];if(n.href==t.href)return e()}h(t,e)},10)},d=function(t,e){setTimeout(function(){try{return t.sheet.cssRules,e()}catch(t){}d(t,e)},10)};if("trident"==r&&o)var c=[],p=[],f=0,g=function(t,e){var i;p.push({url:t,cb:e}),i=c.shift(),!i&&f++<12&&(i=document.createElement("style"),n.appendChild(i)),m(i)},m=function(t){var e=p.shift();if(!e)return t.onload=_,void c.push(t);t.onload=function(){e.cb(e.ss),m(t)};var i=t.styleSheet;e.ss=i.imports[i.addImport(e.url)]};var v=function(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e},_=function(){};s.linkLoad=function(t,e){var s=setTimeout(function(){i&&alert("timeout"),e()},1e3*k-100),a=function(){clearTimeout(s),l&&(l.onload=_),setTimeout(e,7)};if(o)if("webkit"==r){var l=v(t);h(l,a),n.appendChild(l)}else if("gecko"==r){var u=document.createElement("style");u.textContent='@import "'+t+'"',d(u,a),n.appendChild(u)}else"trident"==r&&g(t,a);else{var l=v(t);l.onload=a,n.appendChild(l)}};var y=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b={},w=function(t,e,i){if(b[t])return void e(b[t]);var n,r,o;if("undefined"!=typeof XMLHttpRequest)n=new XMLHttpRequest;else if("undefined"!=typeof ActiveXObject)for(r=0;r<3;r+=1){o=y[r];try{n=new ActiveXObject(o)}catch(t){}if(n){y=[o];break}}n.open("GET",t,!requirejs.inlineRequire),n.onreadystatechange=function(r){var o,s;4===n.readyState&&(o=n.status,o>399&&o<600?(s=new Error(t+" HTTP status: "+o),s.xhr=n,i(s)):(b[t]=n.responseText,e(n.responseText)))},n.send(null)},x=document.createElement("style");x.type="text/css",n.appendChild(x),x.styleSheet?s.inject=function(t){x.styleSheet.cssText+=t}:s.inject=function(t){x.appendChild(document.createTextNode(t))};var C=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,T=window.location.pathname.split("/");T.pop(),T=T.join("/")+"/";var S=function(e,i,n){"/"!=e.substr(0,1)&&(e="/"+t.convertURIBase(e,T,"/")),w(e,function(r){r=t(r,e,T);for(var o,s=[],a=[],l=[];o=C.exec(r);){var u=o[4]||o[5]||o[7]||o[8]||o[9];s.push(u),a.push(C.lastIndex-o[0].length),l.push(o[0].length)}for(var h=0,d=0;d<s.length;d++)(function(t){S(s[t],function(e){r=r.substr(0,a[t])+e+r.substr(a[t]+l[t]);for(var n=e.length-l[t],o=t+1;o<s.length;o++)a[o]+=n;h++,h==s.length&&i(r)},n)})(d);0==s.length&&i(r)},n)};s.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)};var k,P=!1;return s.load=function(t,e,n,r,a){k=k||r.waitSeconds||7;var l=t+(a?".less":".css");s.attachBuffer(l,n)||(fileUrl=e.toUrl(l),!P&&i&&(alert(o?"hacking links":"not hacking"),P=!0),a?(fileUrl.indexOf(".less")===-1&&a&&(fileUrl+=".less"),S(fileUrl,function(t){a&&(t=a(t,function(t){s.inject(t),setTimeout(n,7)}))})):s.linkLoad(fileUrl,n))},i&&(s.inspect=function(){return x.styleSheet?x.styleSheet.cssText:x.innerHTML?x.innerHTML:void 0}),s}),define("css!../css/fake_transition",[],function(){}),define("text!player.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body>\r\n    <div data-template-name="deviceChrome" id="deviceChrome" class="device-chrome"></div>\r\n\r\n    <div data-template-name="genericChrome" id="genericChrome">\r\n        <div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n        <div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n        <div class="gradient"></div>\r\n        <div class="speaker"></div>\r\n    </div>\r\n\r\n    <div data-template-name="fake_transition_target" id="fake_transition_target" class="content">\r\n        <div class="content-viewbox">\r\n            <div class="loading_box">\r\n                <div class="loading_indicator">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n'}),define("player",["require","exports","utils","errors","layout","adapters","views","config","templates","devices","loader","css!../css/fake_transition.css","jquery","text!player.html"],function(t,e,i,n,r,o,s,a,l,u,h){"use strict";function d(t){function e(t){if(t.eventPhase===t.CAPTURING_PHASE&&t.target&&$(t.target).closest(".disabled").length>0)return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),!1}for(var i=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","focus","blur","scroll","dragstart","dragend","touch","touchstart","touchend","tap","doubletap","swipe","swipeleft","swiperight","swipedown","swipeup","hold"],n=0;n<i.length;n++)t.addEventListener(i[n],e,!0)}Object.defineProperty(e,"__esModule",{value:!0});var c="showInteractions",p="hideAnnotations",f=l.fromHtml(t("text!player.html"),{translateStrings:!0}),g=u.support.cssTransitions()&&a.UseFakeTransition;e.ErrorCode=n.ErrorCode;var m=function(){function t(t,e,n,r){var s=this;this._screen=null,this._screenUrl=t,this._currentScreenPath=null,this._container=e,this._stateReached=null,this._switchingToState=null,this._failed=null,this._sizeChanged=null,this._onRunningInteraction=function(t){return s.onRunningInteraction(t)},this._onSwitchingToState=function(t){return s.onSwitchingToState(t)},this._onStateReached=function(t){return s.onStateReached(t)},this._onSizeChanged=function(){return s.notifySizeChanged()},this._host=new _(this),this._projectPath=void 0===n?a.ProjectPath:n,this._defaultStylesheetPath=r,this._highlightInteractions=!1,this._showAnnotations=!0,this._paused=!1,this._screenXmlCache={},this._fakeTransition=new v.Manager(this._container),this._transitionsAtEndOfTimeline=!0,this._openingAnimations=!0,this.showChrome=!0,this._applyingTransition=!1,this._lastFormFactorClasses=null,this._stateHistory=[],this._pendingNavigation=null,this._pendingNavigations=[],a.EnableDeepLinking&&(i.history.isSupported()?this._pushStateManager=new b(this):this._pushStateManager=null),o.IncludeDataIndigoId=a.IncludeDataIndigoId,d(this._container),$(window).resize(function(){$(s._container).hasClass("browser")&&s.notifySizeChanged()})}return t.fromUrl=function(e,i,n,r){return new t(e,i,n,r)},Object.defineProperty(t.prototype,"pendingNavigation",{get:function(){return this._pendingNavigation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNavigating",{get:function(){return null!==this._pendingNavigation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showChrome",{get:function(){return this._showChrome},set:function(t){this._showChrome!==t&&(this._showChrome=t,this._showChrome?$(this._container).removeClass("hide-chrome").addClass("show-chrome"):$(this._container).removeClass("show-chrome").addClass("hide-chrome"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"projectPath",{get:function(){return this._projectPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStylesheetPath",{get:function(){return this._defaultStylesheetPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenPath",{get:function(){return this._screenUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentScreenPath",{get:function(){return this._currentScreenPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this._screen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastAppliedState",{get:function(){return this.screen.lastAppliedState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightInteractions",{get:function(){return this._highlightInteractions},set:function(t){t!=this._highlightInteractions&&(this._highlightInteractions=t,t?$(this._container).addClass(c):$(this._container).removeClass(c))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAnnotations",{get:function(){return this._showAnnotations},set:function(t){t!=this._showAnnotations&&(this._showAnnotations=t,t?$(this._container).removeClass(p):$(this._container).addClass(p),this._applyingTransition||this.notifySizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openingAnimations",{get:function(){return this._openingAnimations},set:function(t){this._openingAnimations=t,this._screen&&this._screen.enableOpeningAnimations(this._openingAnimations)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transtionsAtEndOfTimeline",{get:function(){return this._transitionsAtEndOfTimeline},set:function(t){this._transitionsAtEndOfTimeline=t,this._screen&&this._screen.enableTranstionsAtEndOfTimeline(this._transitionsAtEndOfTimeline)},enumerable:!0,configurable:!0}),t.prototype.run=function(t){return this._screenXmlCache={},$(this._container).empty(),this.navigateTo(this._screenUrl,t)},t.prototype.openScreen=function(t,e){return this._screenUrl=t,this._host.clearBackHistory(),this.navigateTo(t,e)},t.prototype.openState=function(t){if(null===this._screen)throw new i.InvalidOperationException("No screen has been loaded");return this._screen.openState(t),i.defer.donePromise(this._screen)},t.prototype.failed=function(){return this._failed||(this._failed=i.events.create())},t.prototype.sizeChanged=function(){return this._sizeChanged||(this._sizeChanged=i.events.create())},t.prototype.runningInteraction=function(){return this._runningInteraction||(this._runningInteraction=i.events.create())},t.prototype.stateReached=function(){return this._stateReached||(this._stateReached=i.events.create())},t.prototype.switchingToState=function(){return this._switchingToState||(this._switchingToState=i.events.create())},t.prototype.rootConfigured=function(){return this._rootConfigured||(this._rootConfigured=i.events.create())},t.prototype.navigateTo=function(t,e,r){var o=this;g&&this.screen&&r&&this.openingAnimations&&this._fakeTransition.start(this.screen,r,function(t,e,i,n){return o.applyTransition(t,e,i,n)});var l=(r||u.isMobile())&&g?u.support.acceleratedCssTransitions()?v.FakeTransitionDelayMs/3:25:0;if(this.screen&&this.screen.completePendingAnimations(!1),this._pendingNavigations.indexOf(t)!==-1)return i.defer.rejectPromise(new Error("Navigation loop"));this._pendingNavigations.push(t);var d=h.IndigoDocumentLoader.fromPath(this._projectPath,t,{shouldYield:0!==l,yieldEveryMs:l,customReader:null,stylesheetResolver:this._host.loadStylesheet.bind(this._host)}).done(function(n){var l=n;return a.SetTitleToScreenFileName&&(window.document.title=decodeURIComponent(i.path.getFileName(t,!1))),o._currentScreenPath=t,l.host(o._host),l.hasState(e)||(e=null),o.renderScreen(l,e||s.ViewStartState,r)}).fail(function(t){var e;t instanceof i.Exception?(t.code=t.code||n.ErrorCode.RenderFailed,e=t):e=new i.Exception("RenderError","Render failed",e,n.ErrorCode.RenderFailed),o.notifyFailed(e)});return this._pendingNavigation=d,d.always(function(){var e=o._pendingNavigations.lastIndexOf(t);e!==-1&&i.array.removeAt(o._pendingNavigations,e),o._pendingNavigation===d&&(o._pendingNavigation=null)})},t.prototype.openCurrentScreen=function(){return h.IndigoDocumentLoader.fromPath(this.projectPath,this.screenPath,{shouldYield:!1,customReader:null,stylesheetResolver:this._host.loadStylesheet.bind(this._host)}).then(function(t){return t})},t.prototype.renderCachedScreen=function(t,e,i,n){if(e.host()!==this._host)throw new Error("Screen was not rendered by this player.");return this._currentScreenPath=t,this.renderScreen(e,i,n)},t.prototype.pause=function(){this._paused=!0,this.screen&&this.screen.pause()},t.prototype.play=function(){this._paused=!1,this.screen&&this.screen.play()},t.prototype.goBack=function(){this._stateHistory.pop();var t=this._stateHistory.pop();this._pushStateManager?this._pushStateManager.goBack():t&&(this.currentScreenPath!==t.screenUrl?this.navigateTo(t.screenUrl,t.stateId,null):this.openState(t.stateId))},t.prototype.disableInteractions=function(){},t.prototype.enableInteractions=function(){},t.prototype.executeInteractions=function(t,e){var i=this,n=function(t,e){return i.pendingNavigation.then(function(){return i.executeInteractions(t,e)})};if(!this.screen)return $.Deferred().reject();var r=this.openingAnimations,o=this.transtionsAtEndOfTimeline;this.openingAnimations=e&&e.enableAnimations,this.transtionsAtEndOfTimeline=!e||e.enableTransitionsAtEndOfTimeline!==!1;var s=$.Deferred();s.always(function(){i.openingAnimations=r,i.transtionsAtEndOfTimeline=o});for(var a=[],l=0;l<t.length;l++){var u=t[l],h=this.screen;if(u.triggerId&&u.indigoEventType&&(a=a.concat(h.executeInteractions([u])),this.pendingNavigation))return n(t.slice(l+1),e).then(function(t){return s.resolve(a.concat(t))}),s}return s.resolve(a),s},t.prototype.dispose=function(){this._screen&&this._screen.dispose(),this._host&&this._host.dispose()},t.prototype.renderScreen=function(t,e,n){var r=this;if(t!==this._screen){var o=this._container,s=this._screen;if(this._screen=t,this._pushStateManager&&this._pushStateManager.setCurrentScreen(this._screen),s&&(t.sizeChanged().unsubscribe(this._onSizeChanged),t.runningInteraction().unsubscribe(this._onRunningInteraction),t.stateReached().unsubscribe(this._onStateReached),t.switchingToState().unsubscribe(this._onSwitchingToState)),t){t.sizeChanged().subscribe(this._onSizeChanged),t.runningInteraction().subscribe(this._onRunningInteraction),t.stateReached().subscribe(this._onStateReached),t.switchingToState().subscribe(this._onSwitchingToState),t.enableTranstionsAtEndOfTimeline(this.transtionsAtEndOfTimeline),t.enableOpeningAnimations(this.openingAnimations);var a=t.device,l=[];if(this.showAnnotations||l.push(p),this.highlightInteractions&&l.push(c),a){var u=a.id;if(u){if(u=u.toLowerCase(),"iphone6"===u){var h=t.viewportSize();!h||414!==h.width&&736!==h.width||(u="iphone6-plus")}l.push(u)}null!=a.orientation&&l.push(this.getOrientationClass(a.orientation)),a.usesTouch()&&l.push("touch-events")}this.showChrome?l.push("show-chrome"):l.push("hide-chrome"),"screen"!==t.datatype().name&&l.push(t.datatype().name.toLowerCase()),null!==this._lastFormFactorClasses&&(l=l.concat(this._lastFormFactorClasses.split(" ")));var d=l.join(" ");if(o.className!==d&&(o.className=d),this.configureChrome(a),n&&this.openingAnimations){if(s){var f;return this._fakeTransition.started()||!this._fakeTransition.supportsCancel()?f=this._fakeTransition.current().then(function(){r.appendAndConfigureScreen(o,t,e),r._fakeTransition.done()}):(this._fakeTransition.cancel(),this.appendAndConfigureScreen(o,t,e),t.pause(),f=this.applyTransition(n,s.getTransitionViewport(),t.getTransitionViewport())),f.then(function(){return s.dispose(),r.playAfterRender(!0)})}this.appendAndConfigureScreen(o,t,e)}else s&&s.dispose(),this.appendAndConfigureScreen(o,t,e);return this.playAfterRender()}o.className=""}return i.defer.donePromise()},t.prototype.configureChrome=function(t){var e=this._container.querySelector("#deviceChrome");if(e||(e=f.apply("deviceChrome"),this._container.appendChild(e)),!u.isMobile()){var n=t?t.id.toLowerCase():null;"genericphone"===n||"generictablet"===n?0===e.childNodes.length&&(i.css.addClass(e,"generic"),i.dom.appendAll(e,f.apply("genericChrome").childNodes)):(i.dom.clear(e),i.css.removeClass(e,"generic"))}},t.prototype.applyTransition=function(t,e,i,n){var r=this;this._applyingTransition=!0;var o=this.showAnnotations,s=this.highlightInteractions;return this.highlightInteractions=!1,this.showAnnotations=!1,this.disableInteractions(),t.apply(e,i,n).done(function(){r.enableInteractions(),r.highlightInteractions=s,r.showAnnotations=o}).always(function(){r._applyingTransition=!1})},t.prototype.playAfterRender=function(t){var e=this;return this.enableInteractions(),!this.screen.isPaused()||t?(this.screen.pause(),i.defer.after(100).then(function(){!e._paused&&e.screen&&e.screen.play()})):i.defer.donePromise()},t.prototype.appendAndConfigureScreen=function(t,e,i){t.appendChild(e.content().target),this._rootConfigured&&this._rootConfigured.trigger({player:this,screen:e,container:t}),u.getMobile()!==u.Mobile.IPhone||u.isStandalone()||setTimeout(function(){scrollTo(0,1)},0),i?e.run(i):e.reattach()},t.prototype.onRunningInteraction=function(t){this.notifyRunningInteraction(t)},t.prototype.onStateReached=function(t){this.notifyStateReached(t)},t.prototype.onSwitchingToState=function(t){this._stateHistory.push({screenUrl:this.currentScreenPath,stateId:t.state.id}),this.notifySwitchingToState(t)},t.prototype.notifyRunningInteraction=function(t){this._runningInteraction&&this._runningInteraction.trigger(t)},t.prototype.notifyStateReached=function(t){this._stateReached&&this._stateReached.trigger(t)},t.prototype.notifySwitchingToState=function(t){this._switchingToState&&this._switchingToState.trigger(t)},t.prototype.notifySizeChanged=function(){var t=this._screen;if(t){var e=t.device?t.device.id.toLowerCase():null,i="genericphone"===e,n="generictablet"===e,r=null,o=null,a=document.querySelector("#deviceChrome");if(a&&!u.isMobile())if(i||n){o=this.getContentBounds();var l=o.width,h=o.height;i?t.device.orientation===s.Orientation.Landscape?(l+=156,h+=36):(l+=36,h+=156):n&&(l+=140,h+=140),r={width:l,height:h},a.style.width=r.width+"px",a.style.height=r.height+"px"}else a.style.removeProperty("width"),a.style.removeProperty("height");r=r||this.getChromeBounds()||{width:0,height:0},o=o||this.getContentBounds();var d=this._container;d.style.width=Math.max(r.width,o.width)+"px",d.style.height=Math.max(r.height,o.height)+"px",this.updateSizeToFitNotes(),this._sizeChanged&&this._sizeChanged.trigger(this)}},t.prototype.getChromeBounds=function(){var t=document.querySelector("#deviceChrome");if(t){var e=t.getBoundingClientRect();return i.geom.asRect(e)}return null},t.prototype.getContentBounds=function(){var t=$(this._container).find("> .content");if(0===t.length)return null;var e,n=null;if(2===t.length){e=t[t.length-1];var r=e.getBoundingClientRect();(r.width>0||r.height>0)&&(n=r)}return null===n&&(e=t[0],n=e.getBoundingClientRect()),i.geom.asRect(n)},t.prototype.getMaxContentBounds=function(){var t=this.getContentBounds();return null!=t?(null!==this.screen&&(t.width=Math.max(t.width,this.screen.maxContentSize.width),t.height=Math.max(t.height,this.screen.maxContentSize.height)),t):null},t.prototype.updateSizeToFitNotes=function(){var t=this._container.style;if(t.removeProperty("margin-left"),t.removeProperty("margin-top"),this.showAnnotations){var e,n=this.getChromeBounds(),r=n&&n.width>0&&n.height>0?this.getContentBounds():this.getMaxContentBounds();e=r&&n?r.x-n.x:0;var o;o=r&&n?r.y-n.y:0;var s=0,a=0,l=i.geom.rectUnion,u=null;u=l(u,n),u=l(u,r);var h=this.screen.maxAnnotationLayersBounds;if(h){var d={x:r.x,y:r.y,width:h.x+h.width,height:h.y+h.height};s=Math.max(0,-h.x),a=Math.max(0,-h.y),r=l(r,d),u=l(u,r)}var t=this._container.style,c=Math.max(s>0?s-e+10:0);c>0&&t.setProperty("margin-left",c+"px");var p=Math.max(0,a>0?a-o+10:0);p>0&&t.setProperty("margin-top",p+"px"),t.width=u.width+"px",t.height=u.height+"px"}},t.prototype.notifyFailed=function(t){this._failed&&this._failed.trigger(t)},t.prototype.getOrientationClass=function(t){return t===s.Orientation.Landscape?"landscape":t===s.Orientation.Portrait?"portrait":null},t}();e.Player=m;var v,_=function(){function t(t){this._player=t,this._history=[],this._stylesheetCache={},this._popups=new r.PopupManager(document.getElementById("host_popup_layer"))}return t.prototype.clearBackHistory=function(){this._history=[]},t.prototype.back=function(){var t=this;if(this._history.length>0){var e=this._history.pop();return this._player.disableInteractions(),this._player.renderCachedScreen(e.screenPath,e.screen,null,e.transition?e.transition.revert():null).always(function(){return t._player.enableInteractions()}),!0}return!1},t.prototype.hasBackHistory=function(){return this._history.length>0},t.prototype.popups=function(){return this._popups},t.prototype.navigate=function(t,e,n){var r=this,o=this._player.screen,s=this._player.currentScreenPath,a=i.path.asLowerCaseUri(t),l={screenPath:s,screen:o,transition:n||null};return this._player.disableInteractions(),this._player.navigateTo(a,e,n).done(function(){return r.push(l)}).always(function(){return r._player.enableInteractions()})},t.prototype.baseUrl=function(t){return t?i.path.combine(this._player.projectPath,t):this._player.projectPath},t.prototype.extensionsResourcesBaseUrlJS=function(){var t=this.baseUrl();return"/"===t[0]?this.extensionsResourcesBaseUrl():"../"+this.extensionsResourcesBaseUrl()},t.prototype.extensionsResourcesBaseUrl=function(){return i.path.combine(this.baseUrl(),"assets","extensions")},t.prototype.dispose=function(){this._popups.dispose()},t.prototype.open=function(t,e){return h.IndigoDocumentLoader.fromPath(this._player.projectPath,t,$.extend({shouldYield:!1,customReader:null,stylesheetResolver:this.loadStylesheet.bind(this)},e||{}))},t.prototype.loadStylesheet=function(t){if(t||(t=this._player.defaultStylesheetPath),!t)return i.defer.rejectPromise();var e=this._stylesheetCache,n=e[t];return null===n?i.defer.rejectPromise():n?i.defer.donePromise(n):h.IndigoDocumentLoader.fromPath(this._player.projectPath,t).then(function(i){return e[t]=i,i},function(){e[t]=null})},t.prototype.push=function(t){this._history.push(t)},t}(),y="push-state-manager",b=function(){function t(t){var e=this;if(!i.history.isSupported())throw new i.InvalidOperationException("History not supported on current browser");this._player=t,this._isPopping=!1,this._firstPush=!0,this._screen=null,this._lastPushedState=null,this._onStateReached=this.onStateReached.bind(this),this._onSwitchingToState=this.onSwitchingToState.bind(this),this._history=[],i.history.onPop(y,function(t){return e.pop(t)})}return t.prototype.setCurrentScreen=function(t){this._screen&&(this._screen.stateReached().unsubscribe(this._onStateReached),this._screen.switchingToState().unsubscribe(this._onSwitchingToState)),this._screen=t,this._screen&&(this._screen.stateReached().subscribe(this._onStateReached),this._screen.switchingToState().subscribe(this._onSwitchingToState))},t.prototype.push=function(t,e){var n=this._player.currentScreenPath,r=this.getStateId(t);if(r!==this._lastPushedState||n!==this._lastPushedScreen){var o=this.buildHistoryEntry(n,r),s=this.buildQueryString(n,r);this._lastPushedState=r,this._lastPushedScreen=n,e?(this._history.pop(),this._history.push(o),i.history.replace(y,o,s)):(this._history.push(o),i.history.push(y,o,s))}},t.prototype.goBack=function(){var t=this._history.pop();if(t){this.pop(t);var e=this.buildQueryString(t.screenUrl,t.stateId);i.history.replace(y,t,e)}},t.prototype.getStateId=function(t){return t.state===this._screen.getState(s.ViewStartState)?s.ViewStartState:t.id},t.prototype.buildHistoryEntry=function(t,e){return{screenUrl:t,stateId:e}},t.prototype.buildQueryString=function(t,e){return t&&"/"==t[0]&&(t=t.substr(1)),".screen"===i.path.getExtension(t)&&(t=i.path.stripExtension(t)),{"$uri{f}":decodeURI(t),s:e!==s.ViewStartState?s.getShortStateId(e):null}},t.prototype.pop=function(t){this._isPopping=!0;try{this._lastPushedState=t.stateId,this._lastPushedScreen=t.screenUrl,this.goToEntry(t)}finally{this._isPopping=!1}},t.prototype.goToEntry=function(t){this._player.currentScreenPath!==t.screenUrl?this._player.navigateTo(t.screenUrl,t.stateId,null):this._player.openState(t.stateId)},t.prototype.onSwitchingToState=function(t){if(!this._isPopping){var e=this._lastPushedScreen||this._player.currentScreenPath,n=this.buildHistoryEntry(e,this._lastPushedState),r=this.buildQueryString(this._player.currentScreenPath,this.getStateId(t));i.history.replace(y,n,r)}},t.prototype.onStateReached=function(t){this._isPopping||this.push(t,this._firstPush),this._firstPush=!1},t}();!function(t){t.FakeTransitionDelayMs=u.isMobile()?300:600;var e=".content-viewbox",n=".loading_box",r=function(){function r(t){this._container=t,this._fakeTarget=f.apply("fake_transition_target"),this._target=this._fakeTarget.querySelector(e),this._loadingBox=this._fakeTarget.querySelector(n),this._startTime=0,this._current=null,this._transition=null}return r.prototype.start=function(e,n,r){this._source=e.getTransitionViewport(),this._transition=n;var o=e.content(),s={width:o.target.offsetWidth,height:o.target.offsetHeight};this._fakeTarget.style.width=s.width+"px",this._fakeTarget.style.height=s.height+"px",this._container.appendChild(this._fakeTarget),i.animations.setAnimation(this._fakeTarget,"animation-fake-show 1ms linear "+t.FakeTransitionDelayMs+"ms 1 normal both"),i.animations.setAnimation(this._loadingBox,"animation-fake-show 1ms linear "+(t.FakeTransitionDelayMs+n.duration())+"ms 1 normal both"),this._startTime=(new Date).getTime(),this._current=r(n,this._source,this._target,t.FakeTransitionDelayMs)},r.prototype.current=function(){return this._current},r.prototype.started=function(){return null!=this._current&&(new Date).getTime()-this._startTime>t.FakeTransitionDelayMs},r.prototype.done=function(){return this._fakeTarget.parentNode===this._container&&(this._source=null,this._transition=null,this._startTime=0,this._current=null,this._container.removeChild(this._fakeTarget),i.animations.clearAnimation(this._fakeTarget),i.animations.clearAnimation(this._loadingBox),!0)},r.prototype.supportsCancel=function(){return null===this._transition||this._transition.supportsCancel()},r.prototype.cancel=function(){return!!this._transition&&(this._transition.cancel(this._source,this._target),this.done(),!0)},r}();t.Manager=r}(v||(v={}))}),window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function r(t,e){return n(C.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var n in t){var r=t[n];if(!s(r,"-")&&y[r]!==i)return"pfx"!=e||r}return!1}function l(t,e,n){for(var r in t){var s=e[t[r]];if(s!==i)return n===!1?t[r]:o(s,"function")?s.bind(n||e):s;
}return!1}function u(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+S.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+k.join(n+" ")+n).split(" "),l(r,e,i))}function h(){f.input=function(i){for(var n=0,r=i.length;n<r;n++)D[i[n]]=!!(i[n]in b);return D.list&&(D.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),D}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var n,r,o,s=0,a=t.length;s<a;s++)b.setAttribute("type",r=t[s]),n="text"!==b.type,n&&(b.value=w,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&b.style.WebkitAppearance!==i?(m.appendChild(b),o=e.defaultView,n=o.getComputedStyle&&"textfield"!==o.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,m.removeChild(b)):/^(search|tel)$/.test(r)||(n=/^(url|email)$/.test(r)?b.checkValidity&&b.checkValidity()===!1:b.value!=w)),I[t[s]]=!!n;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,c,p="2.6.2",f={},g=!0,m=e.documentElement,v="modernizr",_=e.createElement(v),y=_.style,b=e.createElement("input"),w=":)",x={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),T="Webkit Moz O ms",S=T.split(" "),k=T.toLowerCase().split(" "),P={svg:"http://www.w3.org/2000/svg"},E={},I={},D={},A=[],$=A.slice,O=function(t,i,n,r){var o,s,a,l,u=e.createElement("div"),h=e.body,d=h||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=r?r[n]:v+(n+1),u.appendChild(a);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),u.id=v,(h?u:d).innerHTML+=o,d.appendChild(u),h||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),s=i(u,t),h?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),m.style.overflow=l),!!s},M=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return O("@media "+e+" { #"+v+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},L=function(){function t(t,r){r=r||e.createElement(n[t]||"div"),t="on"+t;var s=t in r;return s||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),s=o(r[t],"function"),o(r[t],"undefined")||(r[t]=i),r.removeAttribute(t))),r=null,s}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),R={}.hasOwnProperty;c=o(R,"undefined")||o(R.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return R.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=$.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,i.concat($.call(arguments)));return Object(s)===s?s:o}return e.apply(t,i.concat($.call(arguments)))};return n}),E.flexbox=function(){return u("flexWrap")},E.flexboxlegacy=function(){return u("boxDirection")},E.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},E.canvastext=function(){return!(!f.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},E.webgl=function(){return!!t.WebGLRenderingContext},E.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:O(["@media (",C.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!t.postMessage},E.websqldatabase=function(){return!!t.openDatabase},E.indexedDB=function(){return!!u("indexedDB",t)},E.hashchange=function(){return L("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},E.history=function(){return!(!t.history||!history.pushState)},E.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},E.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},E.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),s(y.backgroundColor,"rgba")},E.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),s(y.backgroundColor,"rgba")||s(y.backgroundColor,"hsla")},E.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},E.backgroundsize=function(){return u("backgroundSize")},E.borderimage=function(){return u("borderImage")},E.borderradius=function(){return u("borderRadius")},E.boxshadow=function(){return u("boxShadow")},E.textshadow=function(){return""===e.createElement("div").style.textShadow},E.opacity=function(){return r("opacity:.55"),/^0.55$/.test(y.opacity)},E.cssanimations=function(){return u("animationName")},E.csscolumns=function(){return u("columnCount")},E.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((t+"-webkit- ".split(" ").join(e+t)+C.join(i+t)).slice(0,-t.length)),s(y.backgroundImage,"gradient")},E.cssreflections=function(){return u("boxReflect")},E.csstransforms=function(){return!!u("transform")},E.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in m.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},E.csstransitions=function(){return u("transition")},E.fontface=function(){var t;return O('@font-face {font-family:"font";src:url("https://")}',function(i,n){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(s)&&0===s.indexOf(n.split(" ")[0])}),t},E.generatedcontent=function(){var t;return O(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},E.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return i},E.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return i},E.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},E.webworkers=function(){return!!t.Worker},E.applicationcache=function(){return!!t.applicationCache},E.svg=function(){return!!e.createElementNS&&!!e.createElementNS(P.svg,"svg").createSVGRect},E.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==P.svg},E.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(P.svg,"animate")))},E.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(P.svg,"clipPath")))};for(var N in E)c(E,N)&&(d=N.toLowerCase(),f[d]=E[N](),A.push((f[d]?"":"no-")+d));return f.input||h(),f.addTest=function(t,e){if("object"==typeof t)for(var n in t)c(t,n)&&f.addTest(n,t[n]);else{if(t=t.toLowerCase(),f[t]!==i)return f;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(m.className+=" "+(e?"":"no-")+t),f[t]=e}return f},n(""),_=b=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=m[t[f]];return e||(e={},g++,t[f]=g,m[g]=e),e}function o(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=r(i));var o;return o=n.cache[t]?n.cache[t].cloneNode():p.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),o.canHaveChildren&&!c.test(t)?n.frag.appendChild(o):o}function s(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||r(t);for(var o=i.frag.cloneNode(),s=0,a=n(),l=a.length;s<l;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?o(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=r(t);return!v.shivCSS||u||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),h||a(t,n),t}var u,h,d=t.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){u=!0,h=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:h,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};t.html5=v,l(e)}(this,e),f._version=p,f._prefixes=C,f._domPrefixes=k,f._cssomPrefixes=S,f.mq=M,f.hasEvent=L,f.testProp=function(t){return a([t])},f.testAllProps=u,f.testStyles=O,f.prefixed=function(t,e,i){return e?u(t,e,i):u(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+A.join(" "):""),f}(this,this.document),define("modernizr",function(){}),define("json!core/font-alias.json",function(){return{Arial:"Arial, 'Helvetica Neue', Helvetica, sans-serif","Arial Black":"'Arial Black', 'Arial Bold', Gadget, sans-serif","Arial Unicode MS":"'Arial Unicode MS', Arial, sans-serif",Calibri:"Calibri, Candara, Segoe, 'Segoe UI', Optima, Arial, sans-serif",Cambria:"Cambria, Georgia, serif","Cambria Math":"Cambria, serif",Candara:"Candara, Calibri, Segoe, 'Segoe UI', Optima, Arial, sans-serif",Consolas:"Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif",Constantia:"Constantia, 'Lucida Bright', Lucidabright, 'Lucida Serif', Lucida, 'DejaVu Serif', 'Bitstream Vera Serif', 'Liberation Serif', Georgia, serif",Corbel:"Corbel, 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', 'DejaVu Sans', 'Bitstream Vera Sans', 'Liberation Sans', Verdana, 'Verdana Ref', sans-serif","Courier New":"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace",Georgia:"Georgia, Times, 'Times New Roman', serif","Lucida Grande":"'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Geneva, sans-serif","Open Sans":"'Open Sans Embed', Arial, sans-serif",Roboto:"'Roboto Embed', Arial, sans-serif","Roboto Condensed":"'Roboto Condensed Embed', Arial, sans-serif","Source Sans Pro":"'Source Sans Pro Embed', Arial, sans-serif",Symbol:"Symbol",Tahoma:"Tahoma, Verdana, Segoe, sans-serif","Times New Roman":"TimesNewRoman, 'Times New Roman', Times, Baskerville, Georgia, serif","Trebuchet MS":"'Trebuchet MS', 'Helvetica Neue', Helvetica, Arial, sans-serif",Verdana:"Verdana, Geneva, sans-serif","Noto Sans JP":"'Noto Sans Japanese Embed', sans-serif"}}),define("core/controls",["require","exports","adapters","utils","views","devices","layout","google-fonts","jquery","hammer","json!core/font-alias.json"],function(t,e,i,n,r,o,s,a){"use strict";function l(t){if(a.isGoogleFont(t)){var e=a.parseGoogleFont(t);a.loadGoogleFont(e),t=e.name}else t=m[t]||t;if(L&&M[t]!==!0){var i=t+", none";$('<span style="display: none; font-family: '+i+';">_</span>').appendTo(document.body),M[t]=!0}return t}function u(t,e){t!==e&&this.onBoundsChanged()}function h(t){return void 0===t&&(t="fontStyle"),v().convert({afterGet:function(t){return void 0===t&&this.isAttached?this.getTarget$().css("font-family"):t},beforeSet:function(e){var i=l(e);if(this.target)if(a.isGoogleFont(e)){var r=a.parseGoogleFont(e),o=this.property(t),s=o.indexOf("Underline")!=-1;this.getTarget$().css("font-family",i).css("font-weight",r.weight).css("font-style",r.italic?"italic":"normal").css("text-decoration",s?"underline":"none"),n.css.removeClass(this.getTarget(),"underlined"),n.css.removeClass(this.getTarget(),"bold"),n.css.removeClass(this.getTarget(),"normal"),n.css.removeClass(this.getTarget(),"italic")}else{this.getTarget$().css("font-family",i).css("font-weight",null).css("font-style",null).css("text-decoration",null);var o=this.property(t);n.css.toggleClass(this.target,"underlined",o.indexOf("Underline")!=-1),n.css.toggleClass(this.target,"bold",o.indexOf("Bold")!=-1),n.css.toggleClass(this.target,"italic",o.indexOf("Italic")!=-1),n.css.toggleClass(this.target,"normal",o.indexOf("Normal")!=-1)}return e}})}function d(t){return void 0===t&&(t="fontFamily"),v().convert({afterGet:function(t){if(void 0===t){var e=[];if(this.target){var i=$(this.target);i.hasClass("underlined")&&e.push("Underline"),i.hasClass("bold")&&e.push("Bold"),i.hasClass("italic")&&e.push("Italic"),i.hasClass("normal")&&e.push("Normal")}return e.join(",")}return t},beforeSet:function(e){if(this.target){var i=this.property(t);if(a.isGoogleFont(i)){var r=e.indexOf("Underline")!=-1;this.getTarget$().css("text-decoration",r?"underline":"none")}else n.css.toggleClass(this.target,"underlined",e.indexOf("Underline")!=-1),n.css.toggleClass(this.target,"bold",e.indexOf("Bold")!=-1),n.css.toggleClass(this.target,"italic",e.indexOf("Italic")!=-1),n.css.toggleClass(this.target,"normal",e.indexOf("Normal")!=-1)}return e}})}function c(t,e){return t||e?t?e?"None":"VStretch":"HStretch":"Stretch"}function p(t){return isNaN(t)?null:t}function f(t,e,i){var n=null!=i?i.invalidate:null;n&&i.invalidate()}function g(t){return t.visit(f)}Object.defineProperty(e,"__esModule",{value:!0});var m=t("json!core/font-alias.json"),v=i.property,_=i.collection,y=i.component,b=i.attribute,w=i.event,x=i.children,C=i.child,T=i.mixin,S=i.css,k=i.style,P=i.toggleClass,E=i.addClass,I=i.custom,D=i.not_implemented,A=i.ignore,O=i.not,M={},L=o.getBrowser()===o.Browser.IE;e.fontAlias=l,e.ViewElement=i.create(i.Adapter,{name:b("data-name"),invalidateParent:function(){var t=this.parent;if(t){var e=t.invalidate;e&&e.call(t)}}}),e.Page=i.create(e.ViewElement,{content:C()});var R="> .layer",N=R+" > .content-viewbox",F=N+" > .content-layer";e.Viewbox=i.create(e.ViewElement,{scroll:v({defaultValue:"Both"}).and(E("${_viewportSelector}").convert(function(t){return"user-scroll-"+t.toLowerCase()})),offset:T(e.ViewElement,{x:I({getter:function(){return this.scrollWindow()?this.getScrollWindow().x:this.getTarget(this.parent._viewportSelector()).scrollLeft},setter:function(t){this.scrollWindow()?this.scrollWindowTo(t,this.y()):this.getTarget(this.parent._viewportSelector()).scrollLeft=t}}).ifAttached().asInt(),y:I({getter:function(){return this.scrollWindow()?this.getScrollWindow().y:this.getTarget(this.parent._viewportSelector()).scrollTop},setter:function(t){this.scrollWindow()?this.scrollWindowTo(this.x(),t):this.getTarget(this.parent._viewportSelector()).scrollTop=t}}).ifAttached().asInt(),scrollWindow:function(t){if(o.isMobile())return!0;var e=t||this.attachContext,i=e?e.device():null;return i&&i.fitToCanvas()},onAttach:function(t){if(this.scrollWindow(t))this.scrollWindowTo(0,0);else{var e=this.getTarget(this.parent._viewportSelector());e&&(e.scrollTop=0,e.scrollLeft=0)}},getScrollWindow:function(){var t=document.getElementById("content_layer");return t?{x:t.scrollLeft,y:t.scrollTop}:{x:window.pageXOffset,y:window.pageYOffset}},scrollWindowTo:function(t,e){var i=document.getElementById("content_layer");i?(i.scrollLeft=t,i.scrollTop=e):window.scrollTo(t,e)}}).asPoint(),size:T(e.ViewElement,{width:v({defaultValue:-1}).onChange(function(){this.updateViewportSize()}),height:v({defaultValue:-1}).onChange(function(){this.updateViewportSize()}),updateViewportSize:function(){this.parent&&this.parent.updateViewportSize()}}).asSize(),_viewportSelector:function(){return o.isMobile()?"$#content_layer":"> .layer > .content-viewbox"},viewportElement:function(){return this.getTarget(this._viewportSelector())},actualSize:function(){var t,e,i=this.size();if(this.parent)var t=i.width()===-1?this.parent.width():i.width(),e=i.height()===-1?this.parent.height():i.height();else t=i.width(),e=i.height();return{width:t,height:e}},updateViewportSize:function(){this.parent&&this.parent.updateViewportSize(this.actualSize())}}),e.Content=i.create(e.ViewElement,{initialize:function(){this._fitViewportToCanvas=!1,this._lastFormFactorClass=null,this._popupManager=new s.PopupManager},viewbox:T(e.Viewbox),height:S(F,"height").asPx().onChange(function(t,e){this.onSizeChanged(null,e)}).ifAttached(),width:S(F,"width").asPx().onChange(function(t,e){this.onSizeChanged(e,null)}).ifAttached(),background:S(N,"background-color").asRgba().ifAttached(),layers:x(),sceneApplied:w(r.ViewSceneAppliedEvent),sizeChanged:w(r.ViewSizeChangedEvent),layoutGrid:A,guidesInfo:A,viewportSize:function(){var t=this.viewbox();return t?t.actualSize():{width:this.width(),height:this.height()}},popupManager:function(){return this._popupManager},isInteractiveEvent:function(t){return!1},onAttach:function(t){var e=this.parent;if(e instanceof r.Screen){var i=this.viewbox();$("html").removeClass("req-landscape").removeClass("req-portrait");var n=e.device;n&&n.supportsOrientation()&&$("html").addClass("req-"+(n.orientation===r.Orientation.Portrait?"portrait":"landscape")),n&&n.usesTouch()&&(this.target.ondragstart=function(){return!1}),this._fitViewportToCanvas=!n||n.fitToCanvas()||i.size().width()==-1||i.size().height()==-1||o.isMobile();var s=this.target.querySelector(".viewbox-popup-layer");this._popupManager.setLayer(s);var a=this.getViewport();$(a).on("scroll",function(){s.style.top=a.scrollTop+"px",s.style.left=a.scrollLeft+"px"})}},onSizeChanged:function(t,e){$(this.target).trigger(r.ViewSizeChangedEvent),this._fitViewportToCanvas?this.updateViewportSize({width:null===t?this.width():t,height:null===e?this.height():e}):this.updateViewportSize(this.viewbox().actualSize()),this.invalidateParent()},updateViewportSize:function(t){var e=this.layers()[0].panel_bounds(),i={width:e.width(),height:e.height()};i.width===t.width&&i.height===t.height||($(this.target).trigger(r.ViewboxSizeChangedEvent),e.width(t.width),e.height(t.height));var n,o;if(this._fitViewportToCanvas){var s=$("body");n=s.width()<t.width,o=s.height()<t.height}else n=t.width!==this.width(),o=t.height!==this.height();var a=$(this.getViewport());a.toggleClass("scrollable-x",n),a.toggleClass("scrollable-y",o)},getViewport:function(){return this.viewbox().viewportElement()},getTransitionViewport:function(){return this.getTarget("> .layer > .content-viewbox")}}),e.Bounds=i.create(i.Mixin,{x:v({defaultValue:0}).and(k("left").convert(function(t){return this.ignoreLeft(t)?"":t}).asPx()).onChange(u),y:v({defaultValue:0}).and(k("top").convert(function(t){return this.ignoreTop(t)?"":t}).asPx()).onChange(u),height:v({defaultValue:0}).and(k("height").convert(function(t){return this.ignoreHeight(t)?"":t}).asPx()).onChange(u),width:v({defaultValue:0}).and(k("width").convert(function(t){return this.ignoreWidth(t)?"":t}).asPx()).onChange(u),autoWidth:v({defaultValue:!0}).and(P("autowidth")).onChange(function(t,e){t!==e&&(this.onBoundsChanged(),this.reloadProperty(this.width))}),autoHeight:v({defaultValue:!0}).and(P("autoheight")).onChange(function(t,e){t!==e&&(this.onBoundsChanged(),this.reloadProperty(this.height))}),layout:v({defaultValue:"None"}).onChange(function(t,e){t!==e&&this.isAttached&&this.reloadProperty(this.x,this.y,this.width,this.height)}),initialize:function(){this._usingAbsolute=!1},onAttach:function(){this.target.style.position=this.useAbsolute()?"absolute":null,this.reloadProperty(this.width,this.height)},ignoreTop:function(t){return this.stretchVertical()||!this.useAbsolute()},ignoreLeft:function(t){return this.stretchHorizontal()||!this.useAbsolute()},ignoreWidth:function(t){return(this.stretchHorizontal()||this.autoWidth())&&!this.fitToContents()},ignoreHeight:function(t){return(this.stretchVertical()||this.autoHeight())&&!this.fitToContents()},stretchVertical:function(){return this.stretches("VStretch")},stretchHorizontal:function(){return this.stretches("HStretch")},stretches:function(t){var e=this.layout();return e===t||"Stretch"===e},onBoundsChanged:function(){var t=this.mixinTarget;t&&t.onBoundsChanged&&t.onBoundsChanged()},fitToContents:function(){return!1},visualX:function(){return this.x()},visualY:function(){return this.y()},useAbsolute:function(){if(this.isAbsolute===!1)return!1;var t=this.mixinTarget;if(t){if(t.isAbsolute===!1)return!1;var e=t.parent;return!e||e.isAbsolute!==!1}return!0}}),e.Control=i.create(e.ViewElement,{stylesheet:v(),styleClass:v().onChange(function(t,e){t!==e&&this.updateStyleClass(e)}),tooltip:b("title"),effect:b("effect"),isEnabled:O(P("disabled")).asBool(),opacity:S("opacity").toFloat(),click:w("tap"),rightClick:w("contextmenu",{preventDefault:!0}),doubleClick:w("doubletap"),mouseOver:w("mouseenter",{ignoreOnMobile:!0}),mouseOut:w("mouseleave",{ignoreOnMobile:!0}),swipeRight:w("swiperight"),swipeLeft:w("swipeleft"),swipeDown:w("swipedown"),swipeUp:w("swipeup"),pressAndHold:w("hold"),isVisible:O(P("hidden")).asBool(),panel_bounds:T(e.Bounds).onChange(function(){this.onBoundsChanged()}),panel_layout:v({defaultValue:"None"}).and(b("data-stretch")).onChange(function(t,e){if(t!==e){var i=this.panel_bounds();i&&i.layout(e)}}),bootstrapContainer_horizontalAlignment:v(),bootstrapContainer_verticalAlignment:v(),bootstrapContainer_spanXs:v(),bootstrapContainer_spanSm:v(),bootstrapContainer_spanMd:v(),bootstrapContainer_spanLg:v(),bootstrapContainer_offsetXs:v(),bootstrapContainer_offsetSm:v(),bootstrapContainer_offsetMd:v(),bootstrapContainer_offsetLg:v(),bootstrapContainer_visibilityXs:v(),bootstrapContainer_visibilitySm:v(),bootstrapContainer_visibilityMd:v(),bootstrapContainer_visibilityLg:v(),bootstrapContainer_margin:v(),locked:A,onBoundsChanged:function(){this.invalidateParent()},onSetCloneValue:function(t,i,n){var r=n.property,o=r.definition;if(o===e.Control.stylesheet){var s=r.getter.call(t);return void 0!==s&&r.setter.call(i,s),!1}return!0},updateStyleClass:function(t){var e=this.stylesheet();if(e){var i=e.resolveClass(this.datatype(),t);i&&i.applyClass(this)}}});var B={shouldYield:!1,customReader:{readElement:function(t){var e=t;e.isAnnotation&&e.isVisible(!1)}}};e.ScreenPartInstance=i.create(e.Control,'<div class="autowidth autoheight"></div>',{content:C(),templateReference:v(),initialize:function(){e.Control.prototype.initialize.apply(this,arguments),this._screenPart=null,this._applyingInitialState=!1},namescope:function(){return this.content()},state:v().onChange(function(t,e){this.isAttached&&this.applyState(e)}),invalidate:function(){this.invalidateParent()},clone:function(){var t=e.Control.prototype.clone.call(this);return t.customizations=this.customizations,t},addState:function(t,e){this.customizations=e},onAttach:function(t){var i=this,o=this.templateReference();if(null===this.findAncestor(function(t){return t instanceof e.ScreenPartInstance&&t.templateReference()===o&&t._applyingInitialState===!0})){var s=this.stateContext;if(s){var a=s.currentState(),l=a.state;if(!this._state||this._state===l){var u=s.owner();this._state=l,t.host().open(n.path.asLowerCaseUri(o),B).done(function(e){i._screenPart=e,e.host(t.host()),e.runningInteraction().subscribe(function(t){return u.runningInteraction().trigger(t)}),i._rendering=!0,i.content(e.content()),i._applyingInitialState=!0;try{i.applyState(i.state())}finally{i._applyingInitialState=!1}var n=i.customizations;n&&n.runOperations(new r.Context(u,i.content(),null),a);var o=i.panel_bounds();(!o||o.autoWidth()||o.autoHeight())&&i.invalidateParent()})}}}},hideNotes:function(t){t.isAnnotation===!0&&t.isVisible(!1)},applyState:function(t){var e=this._screenPart;e&&e.transitions.switchTo(t||r.ViewStartState).invoke(i.newInternalEvent("run-screenpart"))}}),e.fontFamily=h,e.fontStyle=d,e.Text=i.create(e.Control,{foreground:S("color").asRgba(),fontSize:S("font-size").asPx(),fontFamily:h(),fontStyle:d()}),e.TextEvents=i.create(e.Control,{blurOnEnter:!0,textChanged:w("textchanged"),keyDown:w("keypress"),gotFocus:w("focus"),lostFocus:w("blur"),textEmpty:w("textempty"),onAttach:function(){this._oldValue=this.text()},initialize:function(){var t=this;$(this.target).on("keyup",function(e){var i=t._oldValue,n=$(t.getInput()),r=n.val();i!==r&&(n.trigger("textchanged",r),""==r&&n.trigger("textempty")),t.blurOnEnter&&13===e.keyCode&&n.blur(),t._oldValue=r})},getInput:function(){return this.target}}),e.Panel=i.create(e.Control,{children:x().onAddOrRemove(function(){this.isAttached&&this.invalidate()}),initialize:function(){this._invalid=!1,this._markedAsInvalid=!1},onAttach:function(){this.invalidate()},updateBounds:function(){if(this.isAttached&&this.fitToContents()){var t,e,i,n,r=this.children();if(0===r.length)t=0,e=0,i=0,n=0;else{t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY;for(var o=0;o<r.length;o++){var s=r[o],a=s.panel_bounds(),l=a.visualX(),u=a.visualY(),h=a.autoWidth()?s.target.offsetWidth:a.width()||s.target.offsetWidth,d=a.autoHeight()?s.target.offsetHeight:a.height()||s.target.offsetHeight,c=(l||0)+(h||0),p=(u||0)+(d||0);n=Math.max(n,p),i=Math.max(i,c),e=Math.min(e,u),t=Math.min(t,l)}}this.onContentMeasured(t,e,i,n)}this._invalid=!1},invalidate:function(){var t=this;this._invalid||(this._invalid=!0,s.AnimationFrameManager.queue({update:function(){return t.update()},order:i.getDepth(this)}))},update:function(){this._invalid&&this.updateBounds()},fitToContents:function(){var t=this.panel_bounds();return t&&t.fitToContents()},onContentMeasured:function(t,e,i,n){var r=this.panel_bounds();r.autoWidth()&&r.width(i),r.autoHeight()&&r.height(n)}}),e.Container=i.create(e.Panel,'<div class="autoheight autowidth"></div>',{initialize:function(){var t=this.panel_bounds();t&&this.layout("Stretch")},panel_bounds:T(e.Bounds,{isAbsolute:!1}).onChange(function(){this.onBoundsChanged()}),layout:E().convert({beforeSet:function(t){return t&&"None"!==t?t.toLowerCase():""},afterGet:function(t){return t?t.toUpperCase():"None"}}).onChange(function(t,e){this.isAttached&&this.panel_bounds().layout(e)}),clipToContainer:P("clipped")}),e.ScrollableContainer=i.create(e.Control,{viewbox_verticalOffset:v({defaultValue:0}).onChange(function(t,e){t!==e&&this.isAttached&&this.updateScroll()}).asInt(),viewbox_horizontalOffset:v({defaultValue:0}).onChange(function(t,e){t!==e&&this.isAttached&&this.updateScroll()}).asInt(),viewbox_contentWidth:v().onChange(function(t,e){if(this.isAttached){var i=this.content();i&&t!==e&&(this.updateWidth(i,e,!t&&e||t&&!e),this.updateScroll())}}).convert(p).asInt(),viewbox_contentHeight:v().onChange(function(t,e){if(this.isAttached){var i=this.content();i&&t!==e&&(this.updateHeight(i,e,!t&&e||t&&!e),this.updateScroll())}}).convert(p).asInt(),content:C().onChange(function(t,e){this.isAttached&&this.updateContainer(e)}),onAttach:function(){null==this.viewbox_contentWidth()&&null==this.viewbox_contentHeight()||this.updateContainer(this.content())},invalidate:function(){this.isAttached&&this.updateScroll()},updateWidth:function(t,e,i){i&&(t.panel_bounds().autoWidth(!e),t.layout(c(e,this.viewbox_contentHeight()))),t.panel_bounds().width(e),$(this.viewboxTarget()).toggleClass("scrollable-x",!!e)},updateHeight:function(t,e,i){i&&(t.panel_bounds().autoHeight(!e),t.layout(c(this.viewbox_contentWidth(),e))),t.panel_bounds().height(e),$(this.viewboxTarget()).toggleClass("scrollable-y",!!e)},updateScroll:function(){var t=this.viewboxTarget();t.scrollLeft=this.viewbox_horizontalOffset(),t.scrollTop=this.viewbox_verticalOffset()},updateContainer:function(t){if(t){var e=this.viewbox_contentHeight();this.updateHeight(t,e,!0);var i=this.viewbox_contentWidth();this.updateWidth(t,i,!0),0===this.viewbox_horizontalOffset()&&0===this.viewbox_verticalOffset()||this.updateScroll()}},viewboxTarget:function(){return this.target}}),e.Layer=i.create(e.Container,'<div data-template-name="Layer" class="autowidth autoheight"><div class="content-viewbox"><div class="viewbox-popup-layer"></div><div class="content-layer"></div></div><div class="content-fixed"></div></div>',{panel_bounds:T(i.create(e.Bounds,{isAbsolute:!1,height:v({defaultValue:0}).and(k("height").asPx()).and(k(".content-viewbox.height").asPx()).onChange(function(){this.onBoundsChanged()}),width:v({defaultValue:0}).and(k("width").asPx()).and(k(".content-viewbox.width").asPx()).onChange(function(){this.onBoundsChanged()})})).onChange(function(){this.onBoundsChanged()}),children:x(".content-layer")}),e.Group=i.create(e.Panel,{initialize:function(){this._offsetX=0,this._offsetY=0,this._right=0,this._bottom=0},groupName:b("data-groupname"),panel_bounds:T(i.create(e.Bounds,{x:v({defaultValue:0}).onChange(function(t,e){this.onBoundsChanged(),this.updateLeft(e)}).asInt(),y:v({defaultValue:0}).onChange(function(t,e){this.onBoundsChanged(),this.updateTop(e)}).asInt(),fitToContents:function(){return!0},offsetX:function(){var t=this.parent;return t?t._offsetX:0},offsetY:function(){var t=this.parent;return t?t._offsetY:0},visualX:function(){return this.x()+this.offsetX()},visualY:function(){return this.y()+this.offsetY()},updateTop:function(t){this.target.style.top=t+this.offsetY()+"px"},updateLeft:function(t){this.target.style.left=t+this.offsetX()+"px"}})),onContentMeasured:function(t,e,i,r){var o=this;if(this._offsetX!==t||this._offsetY!==e||this._right!==i||this._bottom!==r){this._offsetX=t,this._offsetY=e,this._right=i,this._bottom=r,s.AnimationFrameManager.queueNow({update:function(){var t="translate("+-o._offsetX+"px, "+-o._offsetY+"px)";return n.css.updateClass("#"+o.target.id+" > *","-webkit-transform: "+t+"; -ms-transform: "+t+"; transform: "+t+";"),!1}});var a=this.panel_bounds();a.width(i-t).height(r-e),a.updateTop(a.y()),a.updateLeft(a.x())}}}),e.AnnotationsLayer=i.create(e.Group,{onAttach:function(){var t=this;this.scrollNotes(),$(this.parent.getViewport()).on("scroll",function(e){t.scrollNotes(e.target)})},scrollNotes:function(t){t=t||this.parent.getViewport(),$(this.target).css("transform","translate("+-t.scrollLeft+"px, "+-t.scrollTop+"px)")}}),e.ItemsControl=i.create(e.Control,{items:D}),e.ItemBase=i.create(e.Control,{isSelected:D,panel_bounds:A,selected:w("selected"),unselected:w("unselected")}),e.ControlItemBase=i.create(e.ItemBase,{content:C()}),e.TextItemsControl=i.create(e.ItemsControl,{foreground:e.Text.foreground,fontFamily:e.Text.fontFamily,fontSize:e.Text.fontSize,fontStyle:e.Text.fontStyle}),e.Template=i.create(e.Control,{content:y(),width:v(),height:v()}),e.SharedPart=i.create(r.SharedControl,{namescope:function(){return this.content()},content:C()}),e.Border=i.create(e.ViewElement,{thickness:v().convert({
afterGet:function(t){if(void 0!==t)return t;if(this.isAttached)return new n.Thickness(parseInt($(this.target).css("border-left-width")),parseInt($(this.target).css("border-top-width")),parseInt($(this.target).css("border-right-width")),parseInt($(this.target).css("border-bottom-width")))},beforeSet:function(t){return $(this.target).css({"border-left-width":t.left,"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom}),t}}),padding:v().convert({afterGet:function(t){if(void 0!==t)return t;if(this.isAttached)return new n.Thickness(parseInt($(this.target).css("padding-left")),parseInt($(this.target).css("padding-top")),parseInt($(this.target).css("padding-right")),parseInt($(this.target).css("padding-bottom")))},beforeSet:function(t){return $(this.target).css({"padding-left":t.left,"padding-top":t.top,"padding-right":t.right,"padding-bottom":t.bottom}),t}}),cornerRadius:v().convert({afterGet:function(t){if(void 0!==t)return t;if(this.isAttached)return new n.Radius(parseInt($(this.target).css("border-top-left-radius")),parseInt($(this.target).css("border-top-right-radius")),parseInt($(this.target).css("border-bottom-right-radius")),parseInt($(this.target).css("border-bottom-left-radius")))},beforeSet:function(t){return $(this.target).css({"border-top-left-radius":t.topLeft,"border-top-right-radius":t.topRight,"border-bottom-left-radius":t.bottomLeft,"border-bottom-right-radius":t.bottomRight}),t}}),borderColor:S("border-color").asRgba()}),e.BorderedContent=i.create(e.Content,'<div class="content"/>',{borderColor:e.Border.borderColor.over(R),borderThickness:e.Border.thickness.over(R),cornerRadius:e.Border.cornerRadius.over(R),opacity:S("opacity").toFloat()}),e.CodegenMetadataMapper=i.create(e.ViewElement,{properties:_()}),e.CodegenMetadataProperty=i.create(e.ViewElement,{value:v()}),e.ExtensibleControl=i.create(e.Control,"<div />",{type:v(),metadataProperties:v(),properties:_(),onAttach:function(e){var i=this;this.type(),t([n.path.combine(e.extensionsResourcesBaseUrlJS(),this.type(),"script.js"),"css!"+n.path.combine(e.extensionsResourcesBaseUrlJS(),this.type(),"styles.css")],function(t){i.target.setAttribute("baseurl",n.path.combine(e.extensionsResourcesBaseUrl(),i.type())),t.attach(i.target,i)})},onDetach:function(e){var i=this;t([e.extensionsResourcesBaseUrlJS()+this.type()+"/script"],function(t){t.detach(i.target,i)})}}),e.invalidateControl=g,e.LayoutGrid=i.create(e.ViewElement),e.GuidesInfo=i.create(e.ViewElement),e.Guide=i.create(e.ViewElement),i.DefaultCatalog.addCatalog("",e)}),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,o,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},a={},l=s.prototype=new t("css");l.constructor=s,s.version="1.11.4",s.API=2,s.defaultTransformPerspective=0,l="px",s.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,h,d,c,p,f,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/[^\d\-\.]/g,y=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/,w=/opacity:([^;]*)/,x=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,T=/([A-Z])/g,S=/-([a-z])/gi,k=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},E=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,A=/,(?=[^\)]*(?:\(|$))/gi,$=Math.PI/180,O=180/Math.PI,M={},L=document,R=L.createElement("div"),N=L.createElement("img"),F=s._internals={_specialProps:a},B=navigator.userAgent,H=function(){var t,e=B.indexOf("Android"),i=L.createElement("div");return d=B.indexOf("Safari")!==-1&&B.indexOf("Chrome")===-1&&(e===-1||Number(B.substr(e+8,1))>3),p=d&&Number(B.substr(B.indexOf("Version/")+8,1))<6,c=B.indexOf("Firefox")!==-1,/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)&&(f=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",t=i.getElementsByTagName("a")[0],!!t&&/^0.55/.test(t.style.opacity)}(),V=function(t){return b.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},j=function(t){window.console},z="",W="",U=function(t,e){e=e||R;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(W=3===n?"ms":i[n],z="-"+W.toLowerCase()+"-",W+t):null},q=L.defaultView?L.defaultView.getComputedStyle:function(){},G=s.getStyle=function(t,e,i,n,r){var o;return H||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||q(t,null))?(t=i.getPropertyValue(e.replace(T,"-$1").toLowerCase()),o=t||i.length?t:i[e]):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):V(t)},X=function(t,e,i,n,r){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var o,s=E.test(e),a=t,l=R.style,u=i<0;return u&&(i=-i),"%"===n&&e.indexOf("border")!==-1?o=i/100*(s?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+G(t,"position")+";line-height:0;","%"!==n&&a.appendChild?l[s?"borderLeftWidth":"borderTopWidth"]=i+n:(a=t.parentNode||L.body,l[s?"width":"height"]=i+n),a.appendChild(R),o=parseFloat(R[s?"offsetWidth":"offsetHeight"]),a.removeChild(R),0!==o||r||(o=X(t,e,i,n,!0))),u?-o:o},K=function(t,e,i){if("absolute"!==G(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=G(t,"margin"+n,i);return t["offset"+n]-(X(t,e,parseFloat(r),r.replace(y,""))||0)},Y=function(t,e){var i,n,r={};if(e=e||q(t,null))if(i=e.length)for(;--i>-1;)r[e[i].replace(S,P)]=e.getPropertyValue(e[i]);else for(i in e)r[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0!==r[i]&&(r[i.replace(S,P)]=e[i]);return H||(r.opacity=V(t)),n=Ct(t,e,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,xt&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},Q=function(t,e,i,n,r){var o,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&s.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(_,"")?o:0:K(t,s),void 0!==u[s]&&(a=new dt(u,s,u[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},J={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],tt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=J[e],o=r.length;for(i=i||q(t,null);--o>-1;)n-=parseFloat(G(t,"padding"+r[o],i,!0))||0,n-=parseFloat(G(t,"border"+r[o]+"Width",i,!0))||0;return n},et=function(t,e){null!=t&&""!==t&&"auto"!==t&&"auto auto"!==t||(t="0 0");var i=t.split(" "),n=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":i[0],r=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&(n+"").indexOf("=")===-1)&&(n="50%"),e&&(e.oxp=n.indexOf("%")!==-1,e.oyp=r.indexOf("%")!==-1,e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(_,"")),e.oy=parseFloat(r.replace(_,""))),n+" "+r+(i.length>2?" "+i[2]:"")},it=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},nt=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},rt=function(t,e,i,n){var r,o,s,a,l=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),s=Number(o[0].replace(_,""))*(t.indexOf("rad")===-1?1:O)-("="===t.charAt(1)?0:e),o.length&&(n&&(n[i]=e+s),t.indexOf("short")!==-1&&(s%=r,s!==s%(r/2)&&(s=s<0?s+r:s-r)),t.indexOf("_cw")!==-1&&s<0?s=(s+9999999999*r)%r-(s/r|0)*r:t.indexOf("ccw")!==-1&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),a<l&&a>-l&&(a=0),a},ot={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},st=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},at=function(t){var e,i,n,r,o,s;return t&&""!==t?"number"==typeof t?[t>>16,t>>8&255,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ot[t]?ot[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),r=Number(t[0])%360/360,o=Number(t[1])/100,s=Number(t[2])/100,i=s<=.5?s*(o+1):s+o-s*o,e=2*s-i,t.length>3&&(t[3]=Number(t[3])),t[0]=st(r+1/3,e,i),t[1]=st(r,e,i),t[2]=st(r-1/3,e,i),t):(t=t.match(g)||ot.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):ot.black},lt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in ot)lt+="|"+l+"\\b";lt=new RegExp(lt+")","gi");var ut=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(lt)||[""])[0]:"",s=t.split(o).join("").match(v)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=t.indexOf(" ")!==-1?" ":",",h=s.length,d=h>0?s[0].replace(g,""):"";return h?r=e?function(t){var e,c,p,f;if("number"==typeof t)t+=d;else if(n&&A.test(t)){for(f=t.replace(A,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(e=(t.match(lt)||[o])[0],c=t.split(e).join("").match(v)||[],p=c.length,h>p--)for(;++p<h;)c[p]=i?c[(p-1)/2|0]:s[p];return a+c.join(u)+u+e+l+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,c;if("number"==typeof t)t+=d;else if(n&&A.test(t)){for(o=t.replace(A,"|").split("|"),c=0;c<o.length;c++)o[c]=r(o[c]);return o.join(",")}if(e=t.match(v)||[],c=e.length,h>c--)for(;++c<h;)e[c]=i?e[(c-1)/2|0]:s[c];return a+e.join(u)+l}:function(t){return t}},ht=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,u=(i+"").split(" ");for(a={},l=0;l<4;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},dt=(F._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o=this.data,s=o.proxy,a=o.firstMPT,l=1e-6;a;)e=s[a.v],a.r?e=e>0?e+.5|0:e-.5|0:e<l&&e>-l&&(e=0),a.t[a.p]=e,a=a._next;if(o.autoRotate&&(o.autoRotate.rotation=s.rotation),1===t)for(a=o.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),ct=(F._parseToProxy=function(t,e,i,n,r,o){var s,a,l,u,h,d=n,c={},p={},f=i._transform,g=M;for(i._transform=null,M=e,n=h=i.parse(t,e,n,r),M=g,o&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(a=n.p,p[a]=n.s+n.c,c[a]=n.s,o||(u=new dt(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,a=n.p+"_"+l,p[a]=n.data[l],c[a]=n[l],o||(u=new dt(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:c,end:p,firstMPT:u,pt:h}},F.CSSPropTween=function(t,e,n,r,s,a,l,u,h,d,c){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof ct||o.push(this.n),this.r=u,this.type=a||0,h&&(this.pr=h,i=!0),this.b=void 0===d?n:d,this.e=void 0===c?n+r:c,s&&(this._next=s,s._prev=this)}),pt=s.parseComplex=function(t,e,i,n,r,o,s,a,l,h){i=i||o||"",s=new ct(t,e,0,0,s,h?2:1,null,!1,a,i,n),n+="";var d,c,p,f,v,_,y,b,w,x,T,S,k=i.split(", ").join(",").split(" "),P=n.split(", ").join(",").split(" "),E=k.length,I=u!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||(k=k.join(" ").replace(A,", ").split(" "),P=P.join(" ").replace(A,", ").split(" "),E=k.length),E!==P.length&&(k=(o||"").split(" "),E=k.length),s.plugin=l,s.setRatio=h,d=0;d<E;d++)if(f=k[d],v=P[d],b=parseFloat(f),b||0===b)s.appendXtra("",b,it(v,b),v.replace(m,""),I&&v.indexOf("px")!==-1,!0);else if(r&&("#"===f.charAt(0)||ot[f]||C.test(f)))S=","===v.charAt(v.length-1)?"),":")",f=at(f),v=at(v),w=f.length+v.length>6,w&&!H&&0===v[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[d]).join("transparent")):(H||(w=!1),s.appendXtra(w?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],w?",":S,!0),w&&(f=f.length<4?1:f[3],s.appendXtra("",f,(v.length<4?1:v[3])-f,S,!1)));else if(_=f.match(g)){if(y=v.match(m),!y||y.length!==_.length)return s;for(p=0,c=0;c<_.length;c++)T=_[c],x=f.indexOf(T,p),s.appendXtra(f.substr(p,x-p),Number(T),it(y[c],T),"",I&&"px"===f.substr(x+T.length,2),0===c),p=x+T.length;s["xs"+s.l]+=f.substr(p)}else s["xs"+s.l]+=s.l?" "+f:f;if(n.indexOf("=")!==-1&&s.data){for(S=s.xs0+s.data.s,d=1;d<s.l;d++)S+=s["xs"+d]+s.data["xn"+d];s.e=S+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},ft=9;for(l=ct.prototype,l.l=l.pr=0;--ft>0;)l["xn"+ft]=0,l["xs"+ft]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&a?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new ct(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var gt=function(t,e){e=e||{},this.p=e.prefix?U(t)||t:t,a[t]=a[this.p]=this,this.format=e.formatter||ut(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},mt=F._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,r=new gt(o[n],e)},vt=function(t){if(!a[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";mt(t,{parser:function(t,i,n,r,o,s,l){var u=(window.GreenSockGlobals||window).com.greensock.plugins[e];return u?(u._cssRegister(),a[n].parse(t,i,n,r,o,s,l)):(j("Error: "+e+" js file not loaded."),o)}})}};l=gt.prototype,l.parseComplex=function(t,e,i,n,r,o){var s,a,l,u,h,d,c=this.keyword;if(this.multi&&(A.test(i)||A.test(e)?(a=e.replace(A,"|").split("|"),l=i.replace(A,"|").split("|")):c&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,c&&(h=e.indexOf(c),d=i.indexOf(c),h!==d&&(i=d===-1?l:a,i[s]+=" "+c));e=a.join(", "),i=l.join(", ")}return pt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},l.parse=function(t,e,i,n,o,s,a){return this.parseComplex(t.style,this.format(G(t,this.p,r,!1,this.dflt)),this.format(e),o,s)},s.registerSpecialProp=function(t,e,i){mt(t,{parser:function(t,n,r,o,s,a,l){var u=new ct(t,r,0,0,s,2,r,!1,i);return u.plugin=a,u.setRatio=e(t,n,o._tween,r),u},priority:i})};var _t="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),yt=U("transform"),bt=z+"transform",wt=U("transformOrigin"),xt=null!==U("perspective"),Ct=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var r,o,a,l,u,h,d,c,p,f,g,m,v,_=i?t._gsTransform||{skewY:0}:{skewY:0},y=_.scaleX<0,b=2e-5,w=1e5,x=179.99,C=x*$,T=xt?parseFloat(G(t,wt,e,!1,"0 0 0").split(" ")[2])||_.zOrigin||0:0;for(yt?r=G(t,bt,e,!0):t.currentStyle&&(r=t.currentStyle.filter.match(I),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),_.x||0,_.y||0].join(","):""),o=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],a=o.length;--a>-1;)l=Number(o[a]),o[a]=(u=l-(l|=0))?(u*w+(u<0?-.5:.5)|0)/w+l:l;if(16===o.length){var S=o[8],k=o[9],P=o[10],E=o[12],D=o[13],A=o[14];if(_.zOrigin&&(A=-_.zOrigin,E=S*A-o[12],D=k*A-o[13],A=P*A+_.zOrigin-o[14]),!i||n||null==_.rotationX){var M,L,R,N,F,B,H,V=o[0],j=o[1],z=o[2],W=o[3],U=o[4],q=o[5],X=o[6],K=o[7],Y=o[11],Q=Math.atan2(X,P),J=Q<-C||Q>C;_.rotationX=Q*O,Q&&(N=Math.cos(-Q),F=Math.sin(-Q),M=U*N+S*F,L=q*N+k*F,R=X*N+P*F,S=U*-F+S*N,k=q*-F+k*N,P=X*-F+P*N,Y=K*-F+Y*N,U=M,q=L,X=R),Q=Math.atan2(S,V),_.rotationY=Q*O,Q&&(B=Q<-C||Q>C,N=Math.cos(-Q),F=Math.sin(-Q),M=V*N-S*F,L=j*N-k*F,R=z*N-P*F,k=j*F+k*N,P=z*F+P*N,Y=W*F+Y*N,V=M,j=L,z=R),Q=Math.atan2(j,q),_.rotation=Q*O,Q&&(H=Q<-C||Q>C,N=Math.cos(-Q),F=Math.sin(-Q),V=V*N+U*F,L=j*N+q*F,q=j*-F+q*N,X=z*-F+X*N,j=L),H&&J?_.rotation=_.rotationX=0:H&&B?_.rotation=_.rotationY=0:B&&J&&(_.rotationY=_.rotationX=0),_.scaleX=(Math.sqrt(V*V+j*j)*w+.5|0)/w,_.scaleY=(Math.sqrt(q*q+k*k)*w+.5|0)/w,_.scaleZ=(Math.sqrt(X*X+P*P)*w+.5|0)/w,_.skewX=0,_.perspective=Y?1/(Y<0?-Y:Y):0,_.x=E,_.y=D,_.z=A}}else if((!xt||n||!o.length||_.x!==o[4]||_.y!==o[5]||!_.rotationX&&!_.rotationY)&&(void 0===_.x||"none"!==G(t,"display",e))){var Z=o.length>=6,tt=Z?o[0]:1,et=o[1]||0,it=o[2]||0,nt=Z?o[3]:1;_.x=o[4]||0,_.y=o[5]||0,h=Math.sqrt(tt*tt+et*et),d=Math.sqrt(nt*nt+it*it),c=tt||et?Math.atan2(et,tt)*O:_.rotation||0,p=it||nt?Math.atan2(it,nt)*O+c:_.skewX||0,f=h-Math.abs(_.scaleX||0),g=d-Math.abs(_.scaleY||0),Math.abs(p)>90&&Math.abs(p)<270&&(y?(h*=-1,p+=c<=0?180:-180,c+=c<=0?180:-180):(d*=-1,p+=p<=0?180:-180)),m=(c-_.rotation)%180,v=(p-_.skewX)%180,(void 0===_.skewX||f>b||f<-b||g>b||g<-b||m>-x&&m<x&&m*w|!1||v>-x&&v<x&&v*w|!1)&&(_.scaleX=h,_.scaleY=d,_.rotation=c,_.skewX=p),xt&&(_.rotationX=_.rotationY=_.z=0,_.perspective=parseFloat(s.defaultTransformPerspective)||0,_.scaleZ=1)}_.zOrigin=T;for(a in _)_[a]<b&&_[a]>-b&&(_[a]=0);return i&&(t._gsTransform=_),_},Tt=function(t){var e,i,n=this.data,r=-n.rotation*$,o=r+n.skewX*$,s=1e5,a=(Math.cos(r)*n.scaleX*s|0)/s,l=(Math.sin(r)*n.scaleX*s|0)/s,u=(Math.sin(o)*-n.scaleY*s|0)/s,h=(Math.cos(o)*n.scaleY*s|0)/s,d=this.t.style,c=this.t.currentStyle;if(c){i=l,l=-u,u=-i,e=c.filter,d.filter="";var p,g,m=this.t.offsetWidth,v=this.t.offsetHeight,_="absolute"!==c.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+h,x=n.x,C=n.y;if(null!=n.ox&&(p=(n.oxp?m*n.ox*.01:n.ox)-m/2,g=(n.oyp?v*n.oy*.01:n.oy)-v/2,x+=p-(p*a+g*l),C+=g-(p*u+g*h)),_?(p=m/2,g=v/2,w+=", Dx="+(p-(p*a+g*l)+x)+", Dy="+(g-(p*u+g*h)+C)+")"):w+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?d.filter=e.replace(D,w):d.filter=w+" "+e,0!==t&&1!==t||1===a&&0===l&&0===u&&1===h&&(_&&w.indexOf("Dx=0, Dy=0")===-1||b.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&d.removeAttribute("filter")),!_){var T,S,k,P=f<8?1:-1;for(p=n.ieOffsetX||0,g=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((a<0?-a:a)*m+(l<0?-l:l)*v))/2+x),n.ieOffsetY=Math.round((v-((h<0?-h:h)*v+(u<0?-u:u)*m))/2+C),ft=0;ft<4;ft++)S=Z[ft],T=c[S],i=T.indexOf("px")!==-1?parseFloat(T):X(this.t,S,parseFloat(T),T.replace(y,""))||0,k=i!==n[S]?ft<2?-n.ieOffsetX:-n.ieOffsetY:ft<2?p-n.ieOffsetX:g-n.ieOffsetY,d[S]=(n[S]=Math.round(i-k*(0===ft||2===ft?1:P)))+"px"}}},St=function(t){var e,i,n,r,o,s,a,l,u,h,d,p,f,g,m,v,_,y,b,w,x,C,T,S=this.data,k=this.t.style,P=S.rotation*$,E=S.scaleX,I=S.scaleY,D=S.scaleZ,A=S.perspective;if(c){var O=1e-4;E<O&&E>-O&&(E=D=2e-5),I<O&&I>-O&&(I=D=2e-5),!A||S.z||S.rotationX||S.rotationY||(A=0)}if(P||S.skewX)y=Math.cos(P),b=Math.sin(P),e=y,o=b,S.skewX&&(P-=S.skewX*$,y=Math.cos(P),b=Math.sin(P)),i=-b,s=y;else{if(!(S.rotationY||S.rotationX||1!==D||A))return void(k[yt]="translate3d("+S.x+"px,"+S.y+"px,"+S.z+"px)"+(1!==E||1!==I?" scale("+E+","+I+")":""));e=s=1,i=o=0}d=1,n=r=a=l=u=h=p=f=g=0,m=A?-1/A:0,v=S.zOrigin,_=1e5,P=S.rotationY*$,P&&(y=Math.cos(P),b=Math.sin(P),u=d*-b,f=m*-b,n=e*b,a=o*b,d*=y,m*=y,e*=y,o*=y),P=S.rotationX*$,P&&(y=Math.cos(P),b=Math.sin(P),w=i*y+n*b,x=s*y+a*b,C=h*y+d*b,T=g*y+m*b,n=i*-b+n*y,a=s*-b+a*y,d=h*-b+d*y,m=g*-b+m*y,i=w,s=x,h=C,g=T),1!==D&&(n*=D,a*=D,d*=D,m*=D),1!==I&&(i*=I,s*=I,h*=I,g*=I),1!==E&&(e*=E,o*=E,u*=E,f*=E),v&&(p-=v,r=n*p,l=a*p,p=d*p+v),r=(w=(r+=S.x)-(r|=0))?(w*_+(w<0?-.5:.5)|0)/_+r:r,l=(w=(l+=S.y)-(l|=0))?(w*_+(w<0?-.5:.5)|0)/_+l:l,p=(w=(p+=S.z)-(p|=0))?(w*_+(w<0?-.5:.5)|0)/_+p:p,k[yt]="matrix3d("+[(e*_|0)/_,(o*_|0)/_,(u*_|0)/_,(f*_|0)/_,(i*_|0)/_,(s*_|0)/_,(h*_|0)/_,(g*_|0)/_,(n*_|0)/_,(a*_|0)/_,(d*_|0)/_,(m*_|0)/_,r,l,p,A?1+-p/A:1].join(",")+")"},kt=function(t){var e,i,n,r,o,s=this.data,a=this.t,l=a.style;return s.rotationX||s.rotationY||s.z||s.force3D?(this.setRatio=St,void St.call(this,t)):void(s.rotation||s.skewX?(e=s.rotation*$,i=e-s.skewX*$,n=1e5,r=s.scaleX*n,o=s.scaleY*n,l[yt]="matrix("+(Math.cos(e)*r|0)/n+","+(Math.sin(e)*r|0)/n+","+(Math.sin(i)*-o|0)/n+","+(Math.cos(i)*o|0)/n+","+s.x+","+s.y+")"):l[yt]="matrix("+s.scaleX+",0,0,"+s.scaleY+","+s.x+","+s.y+")")};mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(t,e,i,n,o,s,a){if(n._transform)return o;var l,u,h,d,c,p,f,g=n._transform=Ct(t,r,!0,a.parseTransform),m=t.style,v=1e-6,_=_t.length,y=a,b={};if("string"==typeof y.transform&&yt)h=m.cssText,m[yt]=y.transform,m.display="block",l=Ct(t,null,!1),m.cssText=h;else if("object"==typeof y){if(l={scaleX:nt(null!=y.scaleX?y.scaleX:y.scale,g.scaleX),scaleY:nt(null!=y.scaleY?y.scaleY:y.scale,g.scaleY),scaleZ:nt(y.scaleZ,g.scaleZ),x:nt(y.x,g.x),y:nt(y.y,g.y),z:nt(y.z,g.z),perspective:nt(y.transformPerspective,g.perspective)},f=y.directionalRotation,null!=f)if("object"==typeof f)for(h in f)y[h]=f[h];else y.rotation=f;l.rotation=rt("rotation"in y?y.rotation:"shortRotation"in y?y.shortRotation+"_short":"rotationZ"in y?y.rotationZ:g.rotation,g.rotation,"rotation",b),xt&&(l.rotationX=rt("rotationX"in y?y.rotationX:"shortRotationX"in y?y.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",b),l.rotationY=rt("rotationY"in y?y.rotationY:"shortRotationY"in y?y.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",b)),l.skewX=null==y.skewX?g.skewX:rt(y.skewX,g.skewX),l.skewY=null==y.skewY?g.skewY:rt(y.skewY,g.skewY),(u=l.skewY-g.skewY)&&(l.skewX+=u,l.rotation+=u)}for(xt&&null!=y.force3D&&(g.force3D=y.force3D,p=!0),c=g.force3D||g.z||g.rotationX||g.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,c||null==y.scale||(l.scaleZ=1);--_>-1;)i=_t[_],d=l[i]-g[i],(d>v||d<-v||null!=M[i])&&(p=!0,o=new ct(g,i,g[i],d,o),i in b&&(o.e=b[i]),o.xs0=0,o.plugin=s,n._overwriteProps.push(o.n));return d=y.transformOrigin,(d||xt&&c&&g.zOrigin)&&(yt?(p=!0,i=wt,d=(d||G(t,i,r,!1,"50% 50%"))+"",o=new ct(m,i,0,0,o,-1,"transformOrigin"),o.b=m[i],o.plugin=s,xt?(h=g.zOrigin,d=d.split(" "),g.zOrigin=(d.length>2&&(0===h||"0px"!==d[2])?parseFloat(d[2]):h)||0,o.xs0=o.e=m[i]=d[0]+" "+(d[1]||"50%")+" 0px",o=new ct(g,"zOrigin",0,0,o,-1,o.n),o.b=h,o.xs0=o.e=g.zOrigin):o.xs0=o.e=m[i]=d):et(d+"",g)),p&&(n._transformType=c||3===this._transformType?3:2),o},prefix:!0}),mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),mt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,s,a){e=this.format(e);var l,u,h,d,c,p,f,g,m,v,_,y,b,w,x,C,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<T.length;u++)this.p.indexOf("border")&&(T[u]=U(T[u])),c=d=G(t,T[u],r,!1,"0px"),c.indexOf(" ")!==-1&&(d=c.split(" "),c=d[0],d=d[1]),p=h=l[u],f=parseFloat(c),y=c.substr((f+"").length),b="="===p.charAt(1),b?(g=parseInt(p.charAt(0)+"1",10),p=p.substr(2),g*=parseFloat(p),_=p.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(p),_=p.substr((g+"").length)),""===_&&(_=n[i]||y),_!==y&&(w=X(t,"borderLeft",f,y),x=X(t,"borderTop",f,y),"%"===_?(c=w/m*100+"%",d=x/v*100+"%"):"em"===_?(C=X(t,"borderLeft",1,"em"),c=w/C+"em",d=x/C+"em"):(c=w+"px",d=x+"px"),b&&(p=parseFloat(c)+g+_,h=parseFloat(d)+g+_)),s=pt(S,T[u],c+" "+d,p+" "+h,!1,"0px",s);return s},prefix:!0,formatter:ut("0px 0px 0px 0px",!1,!0)}),mt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,s){var a,l,u,h,d,c,p="background-position",g=r||q(t,null),m=this.format((g?f?g.getPropertyValue(p+"-x")+" "+g.getPropertyValue(p+"-y"):g.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(m.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&(c=G(t,"backgroundImage").replace(k,""),c&&"none"!==c)){for(a=m.split(" "),l=v.split(" "),N.setAttribute("src",c),u=2;--u>-1;)m=a[u],h=m.indexOf("%")!==-1,h!==(l[u].indexOf("%")!==-1)&&(d=0===u?t.offsetWidth-N.width:t.offsetHeight-N.height,a[u]=h?parseFloat(m)/100*d+"px":parseFloat(m)/d*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,v,o,s)},formatter:et}),mt("backgroundSize",{defaultValue:"0 0",formatter:et}),mt("perspective",{defaultValue:"0px",prefix:!0}),mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),mt("transformStyle",{prefix:!0}),mt("backfaceVisibility",{prefix:!0}),mt("userSelect",{prefix:!0}),mt("margin",{parser:ht("marginTop,marginRight,marginBottom,marginLeft")}),mt("padding",{parser:ht("paddingTop,paddingRight,paddingBottom,paddingLeft")}),mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,s){var a,l,u;return f<9?(l=t.currentStyle,u=f<8?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(G(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,o,s)}}),mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),mt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),mt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,s){return this.parseComplex(t.style,this.format(G(t,"borderTopWidth",r,!1,"0px")+" "+G(t,"borderTopStyle",r,!1,"solid")+" "+G(t,"borderTopColor",r,!1,"#000")),this.format(e),o,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(lt)||["#000"])[0]}}),mt("borderWidth",{parser:ht("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),mt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new ct(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Pt=function(t){var e,i=this.t,n=i.filter||G(this.data,"filter"),r=this.s+this.c*t|0;100===r&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!G(this.data,"filter")):(i.filter=n.replace(x,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),n.indexOf("opacity")===-1?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(b,"opacity="+r))};mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,s){var a=parseFloat(G(t,"opacity",r,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===G(t,"visibility",r)&&0!==e&&(a=0),H?o=new ct(l,"opacity",a,e-a,o):(o=new ct(l,"opacity",100*a,100*(e-a),o),o.xn1=u?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=s,o.setRatio=Pt),u&&(o=new ct(l,"visibility",0,0,o,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var Et=function(t,e){e&&(t.removeProperty?t.removeProperty(e.replace(T,"-$1").toLowerCase()):t.removeAttribute(e))},It=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.className=0===t?this.b:this.e;for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Et(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};mt("className",{parser:function(t,e,n,o,s,a,l){var u,h,d,c,p,f=t.className,g=t.style.cssText;if(s=o._classNamePT=new ct(t,n,0,0,s,2),s.setRatio=It,s.pr=-11,i=!0,s.b=f,h=Y(t,r),d=t._gsClassPT){for(c={},p=d.data;p;)c[p.p]=1,p=p._next;d.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),o._tween._duration&&(t.className=s.e,u=Q(t,h,Y(t),l,c),t.className=f,s.data=u.firstMPT,t.style.cssText=g,s=s.xfirst=o.parse(t,u.difs,s,a)),s}});var Dt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o=this.t.style,s=a.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(e=this.e.split(","),n=e.length;--n>-1;)i=e[n],a[i]&&(a[i].parse===s?r=!0:i="transformOrigin"===i?wt:a[i].p),Et(o,i);r&&(Et(o,yt),this.t._gsTransform&&delete this.t._gsTransform)}};for(mt("clearProps",{parser:function(t,e,n,r,o){return o=new ct(t,n,0,0,o,2),o.setRatio=Dt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ft=l.length;ft--;)vt(l[ft]);l=s.prototype,l._firstPT=null,l._onInitTween=function(t,e,a){if(!t.nodeType)return!1;this._target=t,this._tween=a,this._vars=e,u=e.autoRound,i=!1,n=e.suffixMap||s.suffixMap,r=q(t,""),o=this._overwriteProps;var l,c,f,g,m,v,_,y,b,x=t.style;if(h&&""===x.zIndex&&(l=G(t,"zIndex",r),"auto"!==l&&""!==l||(x.zIndex=0)),"string"==typeof e&&(g=x.cssText,l=Y(t,r),x.cssText=g+";"+e,l=Q(t,l,Y(t)).difs,!H&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,x.cssText=g),this._firstPT=c=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,yt?d&&(h=!0,""===x.zIndex&&(_=G(t,"zIndex",r),"auto"!==_&&""!==_||(x.zIndex=0)),p&&(x.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):x.zoom=1,f=c;f&&f._next;)f=f._next;y=new ct(t,"transform",0,0,null,2),this._linkCSSP(y,null,f),y.setRatio=b&&xt?St:yt?kt:Tt,y.data=this._transform||Ct(t,r,!0),o.pop()}if(i){for(;c;){for(v=c._next,f=g;f&&f.pr>c.pr;)f=f._next;(c._prev=f?f._prev:m)?c._prev._next=c:g=c,(c._next=f)?f._prev=c:m=c,c=v}this._firstPT=g}return!0},l.parse=function(t,e,i,o){var s,l,h,d,c,p,f,g,m,v,_=t.style;for(s in e)p=e[s],l=a[s],l?i=l.parse(t,p,s,this,i,o,e):(c=G(t,s,r)+"",m="string"==typeof p,"color"===s||"fill"===s||"stroke"===s||s.indexOf("Color")!==-1||m&&C.test(p)?(m||(p=at(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=pt(_,s,c,p,!0,"transparent",i,0,o)):!m||p.indexOf(" ")===-1&&p.indexOf(",")===-1?(h=parseFloat(c),f=h||0===h?c.substr((h+"").length):"",""!==c&&"auto"!==c||("width"===s||"height"===s?(h=tt(t,s,r),f="px"):"left"===s||"top"===s?(h=K(t,s,r),f="px"):(h="opacity"!==s?0:1,f="")),v=m&&"="===p.charAt(1),v?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),g=p.replace(y,"")):(d=parseFloat(p),g=m?p.substr((d+"").length)||"":""),""===g&&(g=s in n?n[s]:f),p=d||0===d?(v?d+h:d)+g:e[s],f!==g&&""!==g&&(d||0===d)&&(h||0===h)&&(h=X(t,s,h,f),"%"===g?(h/=X(t,s,100,"%")/100,e.strictUnits!==!0&&(c=h+"%")):"em"===g?h/=X(t,s,1,"em"):(d=X(t,s,d,g),g="px"),v&&(d||0===d)&&(p=d+h+g)),v&&(d+=h),!h&&0!==h||!d&&0!==d?void 0!==_[s]&&(p||p+""!="NaN"&&null!=p)?(i=new ct(_,s,d||h||0,0,i,-1,s,!1,0,c,p),i.xs0="none"!==p||"display"!==s&&s.indexOf("Style")===-1?p:c):j("invalid "+s+" tween value: "+e[s]):(i=new ct(_,s,h,d-h,i,0,s,u!==!1&&("px"===g||"zIndex"===s),0,c,p),i.xs0=g)):i=pt(_,s,c,p,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},l.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=e>0?e+.5|0:e-.5|0:e<o&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];
r.t[r.p]=i}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(t),r=r._next},l._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||Ct(this._target,r,!0)},l._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var At=function(t,e,i){var n,r,o,s;if(t.slice)for(r=t.length;--r>-1;)At(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],s=o.type,o.style&&(e.push(Y(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||At(o,e,i)};return s.cascadeTo=function(t,i,n){var r,o,s,a=e.to(t,i,n),l=[a],u=[],h=[],d=[],c=e._internals.reservedProps;for(t=a._targets||a.target,At(t,u,d),a.render(i,!0),At(t,h),a.render(0,!0),a._enabled(!0),r=d.length;--r>-1;)if(o=Q(d[r],u[r],h[r]),o.firstMPT){o=o.difs;for(s in n)c[s]&&(o[s]=n[s]);l.push(e.to(d[r],i,o))}return l},t.activate([s]),s},!0)}),window._gsDefine&&window._gsQueue.pop()(),define("css_plugin",["animation"],function(){});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();if(define("core/transitions",["require","exports","utils","devices","../transitions","jquery","animation","timeline","easings","css_plugin"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="webkitAnimationEnd animationend",s=400,a=function(){function t(){this._duration=s}return t.prototype.duration=function(t){return void 0===t?this._duration:(this._duration=t,this)},t.prototype.supportsCancel=function(){return!1},t.prototype.cancel=function(t,e){throw new i.InvalidOperationException("Cancel not supported")},t.prototype.apply=function(t,e,n){throw new i.AbstractMethodException},t.prototype.revert=function(){throw new i.AbstractMethodException},t}(),l=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o._sourceStyles=e||"",o._targetStyles=i||"",o._revert=n,o._isOut=void 0!==r&&r,o}return __extends(e,t),e.prototype.supportsCancel=function(){return!0},e.prototype.cancel=function(t,e){var i=$(t).data("transition-deferred");i&&"pending"===i.state()&&(this.onAnimationDone(t,e),i.resolve())},e.prototype.apply=function(t,e,n){var r,s=this,a=$.Deferred();this._isOut&&(r=i.dom.getParentElement(i.dom.getParentElement(t)),r.style.zIndex="1");var l=function(){"pending"===a.state()&&(s.onAnimationDone(t,e),a.resolve())};if(n=void 0===n?0:n,this._sourceStyles.length>0){$(t).one(o,l),$(t).addClass("core-animation "+this._sourceStyles);var u="animation-"+this._sourceStyles+" "+this.duration()+"ms ease-out "+n+"ms";i.animations.setAnimation(t,u)}if(this._targetStyles.length>0){$(e).one(o,l),$(e).addClass("core-animation "+this._targetStyles);var h="animation-"+this._targetStyles+" "+this.duration()+"ms ease-out "+n+"ms";i.animations.setAnimation(e,h)}return $(t).data("transition-deferred",a),a.promise()},e.prototype.revert=function(){return(new this._revert).duration(this.duration())},e.prototype.onAnimationDone=function(t,e){if($(t).off(o),$(e).off(o),this._sourceStyles.length>0&&($(t).removeClass("core-animation "+this._sourceStyles),i.animations.clearAnimation(e)),this._targetStyles.length>0&&($(e).removeClass("core-animation "+this._targetStyles),i.animations.clearAnimation(e)),this._isOut){var n=i.dom.getParentElement(i.dom.getParentElement(t));n.style.zIndex="0"}$(t).removeData("transition-deferred")},e}(a),u=function(t){function e(){return t.call(this,"core-out-left","core-in-right",h)||this}return __extends(e,t),e}(l),h=function(t){function e(){return t.call(this,"core-out-right","core-in-left",u)||this}return __extends(e,t),e}(l),d=function(t){function e(){return t.call(this,"core-out-top","core-in-bottom",c)||this}return __extends(e,t),e}(l),c=function(t){function e(){return t.call(this,"core-out-bottom","core-in-top",d)||this}return __extends(e,t),e}(l),p=function(t){function e(){return t.call(this,"","core-in-right",v)||this}return __extends(e,t),e}(l),f=function(t){function e(){return t.call(this,"","core-in-left",_)||this}return __extends(e,t),e}(l),g=function(t){function e(){return t.call(this,"","core-in-bottom",b)||this}return __extends(e,t),e}(l),m=function(t){function e(){return t.call(this,"","core-in-top",y)||this}return __extends(e,t),e}(l),v=function(t){function e(){return t.call(this,"core-out-right","",p,!0)||this}return __extends(e,t),e}(l),_=function(t){function e(){return t.call(this,"core-out-left","",f,!0)||this}return __extends(e,t),e}(l),y=function(t){function e(){return t.call(this,"core-out-top","",m,!0)||this}return __extends(e,t),e}(l),b=function(t){function e(){return t.call(this,"core-out-bottom","",g,!0)||this}return __extends(e,t),e}(l),w=function(t){function e(){return t.call(this,"core-flip-out-left","core-flip-in-left",x)||this}return __extends(e,t),e}(l),x=function(t){function e(){return t.call(this,"core-flip-out-right","core-flip-in-right",w)||this}return __extends(e,t),e}(l),C=function(t){function e(){return t.call(this,"core-flip-out-up","core-flip-in-up",T)||this}return __extends(e,t),e}(l),T=function(t){function e(){return t.call(this,"core-flip-out-down","core-flip-in-down",C)||this}return __extends(e,t),e}(l),S=function(t){function e(){return t.call(this,"core-fade-out","core-fade-in",e)||this}return __extends(e,t),e}(l),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t,e){var n=this,r=jQuery.Deferred(),o=new TimelineLite;i.css.addClass(t,"core-animation"),i.css.addClass(e,"core-animation"),this.starting(t,e),o.eventCallback("onComplete",function(){i.css.removeClass(t,"core-animation"),i.css.removeClass(e,"core-animation"),n.completed(t,e),r.resolve()});for(var s=this.tween(t,e,this.duration()/1e3),a=0;a<s.length;a++)o.add(s[a],0,"normal");return o.play(),r.promise()},e.prototype.tween=function(t,e,n){throw new i.AbstractMethodException},e.prototype.revert=function(){return(new(this.revertClass())).duration(this.duration())},e.prototype.revertClass=function(){throw new i.AbstractMethodException},e.prototype.starting=function(t,e){},e.prototype.completed=function(t,e){},e}(a),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.apply=function(t,e){var n=jQuery.Deferred(),r=new TimelineLite;i.css.addClass(t,"core-animation"),i.css.addClass(e,"core-animation");var o=i.dom.getParentElement(i.dom.getParentElement(t));o.style.zIndex="1",r.eventCallback("onComplete",function(){i.css.removeClass(t,"core-animation"),i.css.removeClass(e,"core-animation"),o.style.zIndex="0",n.resolve()});for(var s=this.tween(t,e,this.duration()/1e3),a=0;a<s.length;a++)r.add(s[a],0,"normal");return r.play(),n.promise()},e}(k),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(t,i,{left:"0%"},{left:"-100%",ease:Quad.easeInOut}),TweenLite.fromTo(e,i,{left:"100%"},{left:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return I},e}(k),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(t,i,{left:"0%"},{left:"100%",ease:Quad.easeInOut}),TweenLite.fromTo(e,i,{left:"-100%"},{left:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return E},e}(k),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(t,i,{top:"0%"},{top:"-100%",ease:Quad.easeInOut}),TweenLite.fromTo(e,i,{top:"100%"},{top:"0%",ease:Quad.easeInOut})]},e.prototype.revert=function(){return(new A).duration(this.duration())},e}(k),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(t,i,{top:"0%"},{top:"100%",ease:Quad.easeInOut}),TweenLite.fromTo(e,i,{top:"-100%"},{top:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return D},e}(k),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(e,i,{left:"100%"},{left:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return N},e}(k),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(e,i,{left:"-100%"},{left:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return F},e}(k),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(e,i,{top:"100%"},{top:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return B},e}(k),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return[TweenLite.fromTo(e,i,{top:"-100%"},{top:"0%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return H},e}(k),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return $(e).css("left","0%"),[TweenLite.fromTo(t,i,{left:"0%"},{left:"100%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return O},e}(P),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return $(e).css("left","0%"),[TweenLite.fromTo(t,i,{left:"0%"},{left:"-100%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return M},e}(P),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return $(e).css("top","0%"),[TweenLite.fromTo(t,i,{top:"0%"},{top:"100%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return L},e}(P),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return $(e).css("top","0%"),[TweenLite.fromTo(t,i,{top:"0%"},{top:"-100%",ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return R},e}(P),V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sourceOrigin="left center",e.targetOrigin="right center",e}return __extends(e,t),e.prototype.starting=function(e,i){t.prototype.completed.call(this,e,i),e.style.transformOrigin=this.sourceOrigin,i.style.transformOrigin=this.targetOrigin},e.prototype.completed=function(e,i){t.prototype.completed.call(this,e,i),e.style.transformOrigin=null,i.style.transformOrigin=null,e.style.transform=null,i.style.transform=null},e}(k),j=function(t){function e(){var e=t.call(this)||this;return e.sourceOrigin="right center",e.targetOrigin="left center",e}return __extends(e,t),e.prototype.tween=function(t,e,i){var n=i/2;return e.style.opacity="0",[TweenLite.fromTo(t,i,{rotationY:0,x:0,transformPerspective:800},{rotationY:-180,x:-t.clientWidth,transformPerspective:800,ease:Quad.easeInOut}),TweenLite.fromTo(t,0,{alpha:1},{alpha:0,delay:n}),TweenLite.fromTo(e,i,{rotationY:180,x:e.clientWidth,transformPerspective:800},{rotationY:0,x:0,transformPerspective:800,ease:Quad.easeInOut}),TweenLite.fromTo(e,0,{alpha:0},{alpha:1,delay:n})]},e.prototype.revertClass=function(){return z},e}(V),z=function(t){function e(){var e=t.call(this)||this;return e.sourceOrigin="left center",e.targetOrigin="right center",e}return __extends(e,t),e.prototype.tween=function(t,e,i){var n=i/2;return e.style.opacity="0",[TweenLite.fromTo(t,i,{rotationY:0,x:0,transformPerspective:800},{rotationY:180,x:t.clientWidth,transformPerspective:800,ease:Quad.easeInOut}),TweenLite.fromTo(t,0,{alpha:1},{alpha:0,delay:n}),TweenLite.fromTo(e,i,{rotationY:-180,x:-e.clientWidth,transformPerspective:800},{rotationY:0,x:0,transformPerspective:800,ease:Quad.easeInOut}),TweenLite.fromTo(e,0,{alpha:0},{alpha:1,delay:n})]},e.prototype.revertClass=function(){return j},e}(V),W=function(t){function e(){var e=t.call(this)||this;return e.sourceOrigin="center bottom",e.targetOrigin="center top",e}return __extends(e,t),e.prototype.tween=function(t,e,i){var n=i/2;return e.style.opacity="0",[TweenLite.fromTo(t,i,{rotationX:0,y:0,transformPerspective:800},{rotationX:180,y:-t.clientHeight,ease:Quad.easeInOut}),TweenLite.fromTo(t,0,{alpha:1},{alpha:0,delay:n}),TweenLite.fromTo(e,i,{rotationX:-180,y:e.clientHeight,transformPerspective:800},{rotationX:0,y:0,ease:Quad.easeInOut}),TweenLite.fromTo(e,0,{alpha:0},{alpha:1,delay:n})]},e.prototype.revertClass=function(){return U},e}(V),U=function(t){function e(){var e=t.call(this)||this;return e.sourceOrigin="center top",e.targetOrigin="center bottom",e}return __extends(e,t),e.prototype.tween=function(t,e,i){var n=i/2;return e.style.opacity="0",[TweenLite.fromTo(t,i,{rotationX:0,y:0,transformPerspective:800},{rotationX:-180,y:t.clientHeight,ease:Quad.easeInOut}),TweenLite.fromTo(t,0,{alpha:1},{alpha:0,delay:n}),TweenLite.fromTo(e,i,{rotationX:180,y:-e.clientHeight,transformPerspective:800},{rotationX:0,y:0,ease:Quad.easeInOut}),TweenLite.fromTo(e,0,{alpha:0},{alpha:1,delay:n})]},e.prototype.revertClass=function(){return W},e}(V),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.tween=function(t,e,i){return e.style.opacity="0",[TweenLite.fromTo(t,i,{alpha:1},{alpha:0,ease:Quad.easeInOut}),TweenLite.fromTo(e,i,{alpha:0},{alpha:1,ease:Quad.easeInOut})]},e.prototype.revertClass=function(){return e},e}(k),G=r.DefaultCatalog;n.support.cssTransitions()?(G.add("push",u),G.add("push-left",u),G.add("push-right",h),G.add("push-up",d),G.add("push-down",c),G.add("slide",p),G.add("slide-left",p),G.add("slide-right",v),G.add("slide-up",g),G.add("slide-down",b),G.add("flip",j),G.add("flip-left",j),G.add("flip-right",z),G.add("flip-up",W),G.add("flip-down",U),G.add("crossfade",S),G.add("crossfade-none",S)):(G.add("push",E),G.add("push-left",E),G.add("push-right",I),G.add("push-up",D),G.add("push-down",A),G.add("slide",O),G.add("slide-left",O),G.add("slide-right",N),G.add("slide-up",L),G.add("slide-down",B),G.add("flip",j),G.add("flip-left",j),G.add("flip-right",z),G.add("flip-up",W),G.add("flip-down",U),G.add("crossfade",q),G.add("crossfade-none",q))}),define("core/commands",["require","exports","adapters","utils","core/controls"],function(t,e,i,n,r){"use strict";function o(t){return"string"==typeof t?"Yes"===t||"No"!==t&&null:t}Object.defineProperty(e,"__esModule",{value:!0});var s=i.child,a=i.property;e.Command=i.create(i.EventAdapter,{created:a().convert(n.strings.dateFromIndigo),initialize:function(){this._state=null,this._handler=null},clone:function(){var t=i.EventAdapter.prototype.clone.call(this);return t._state=this._state,t},onAttach:function(t){var e=this.stateContext;if(null!=e&&(!this._state||this._state===e.currentState().state)){var n=this.buildCommand(e);n instanceof i.EventAdapter?(this._handler=function(){return n.invoke.apply(n,arguments)},this._mustHandleEvent=n._mustHandleEvent):this._handler=n,this._state=e.currentState().state}}}),e.CommandSwitchTo=i.create(e.Command,{sceneId:a(),autoRevertEvent:a(),autoRevertDuration:a().asInt(),animatesTarget:a({defaultValue:null}).convert(o),animatesRevert:a({defaultValue:null}).convert(o),buildCommand:function(t){return t.transitions().switchTo(this.sceneId(),{toggleEvent:this.autoRevertEvent(),toggleDuration:this.autoRevertDuration(),eventAdapter:this,applyRevertAnimations:this.animatesRevert(),applyTargetAnimations:this.animatesTarget()})}}),e.CommandNext=e.CommandSwitchTo,e.CommandOpenUrl=i.create(e.Command,{url:a(),buildCommand:function(t){return t.transitions().openUrl(this.url())}}),e.NavigateTransition=i.create(i.Adapter,{duration:a({defaultValue:0}).asInt(),direction:a().convert(function(t){return t.toLowerCase()}),type:a().convert(function(t){return t.toLowerCase()})}),e.CommandNavigate=i.create(e.Command,{screen:a(),state:a(),transition:a(),buildCommand:function(t){var e=t.transitions().navigate(this.screen(),this.state()),i=this.transition();if(i){var n=i.duration();if(n){var r=i.type();if(r&&"none"!==r){var o=i.direction();o&&"none"!==o&&(r=r+"-"+o),e.withTransition(r,n)}}}return e}}),e.CommandBack=i.create(e.Command,{animateLastStateOnScreen:a().asBool(),buildCommand:function(t){return t.transitions().back(this.animateLastStateOnScreen())}}),e.ConditionalCommand=i.create(e.Command,{condition:a(),command:s(),buildCommand:function(t){return function(t,e){if(!this.condition().matches(t,e))return!0;var i=this.command();return!i.invoke.apply(i,arguments)&&void 0}.bind(this)},precedence:function(){return 10}}),e.SceneCondition=i.create(r.ViewElement,{scene:a(),matches:function(t,e){return e===this.scene()}}),e.TextCondition=i.create(r.ViewElement,{text:a(),matches:function(t,e){return e.toUpperCase()===this.text().toUpperCase()}}),e.KeyCondition=i.create(r.ViewElement,{key:a(),matches:function(t,e){return 13==t.keyCode}}),e.AnyValue=i.create(i.Adapter,{}),i.DefaultCatalog.addCatalog("",e)}),define("core/containers",["require","exports","adapters","core/controls"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i.css;e.ContainerBox=i.create(n.ScrollableContainer,'<div class="viewport"></div>',{background:r("background-color").asRgba(),color:n.Border.borderColor,cornerRadius:n.Border.cornerRadius,padding:n.Border.padding,thickness:n.Border.thickness}),i.DefaultCatalog.addCatalog("",e)}),define("core/repeaters",["require","exports","adapters","core/controls","core/containers"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.property,s=i.children,a=i.child,l=i.mixin,u=i.css,h=i.toggleClass,d=i.ignore;e.List=i.create(n.ItemsControl,'<div><div class="list-items"></div></div>',{panel_bounds:l(i.create(n.Bounds,{useScrollbars:function(){return!1},autoWidth:n.Bounds.autoWidth.onChange(function(t,e){if(t!==e){var i=this.parent;i&&this.isAttached&&i.updateChildBounds()}}),autoHeight:n.Bounds.autoHeight.onChange(function(t,e){if(t!==e){var i=this.parent;i&&this.isAttached&&i.updateChildBounds()}})})),direction:h("horizontal").convert({beforeSet:function(t){return"Horizontal"===t},afterGet:function(t){return t?"Horizontal":"Vertical"}}),background:u("background-color").asRgba(),borderColor:n.Border.borderColor,thickness:n.Border.thickness,cornerRadius:n.Border.cornerRadius,template:o(),items:s("> .list-items").onAddOrRemove({onAdd:function(t){this.isAttached&&t.content().template(this.template().content())}}),onAttach:function(){for(var t=this.items(),e=this.template().content(),i=0;i<t.length;i++)t[i].content().template(e)},updateChildBounds:function(){if(this.isAttached)for(var t=this.items(),e=0;e<t.length;e++){var i=t[e].content();if(i){var n=i.content();n&&n.onBoundsChanged&&n.onBoundsChanged()}}}}),e.ListItem=i.create(n.ControlItemBase,"<div></div>",{isSelected:d}),e.ListItemContent=i.create(r.ContainerBox,{panel_bounds:l(i.create(n.Bounds,{isAbsolute:!1,ignoreWidth:function(t){return this.isVertical()||!(parseInt(t)>0)||this.autoWidth()},ignoreHeight:function(t){return this.isHorizontal()||!(parseInt(t)>0)||this.autoHeight()},isHorizontal:function(){var t=this.getList();return t&&"Horizontal"===t.direction()},stretchVertical:function(){return n.Bounds.prototype.stretchVertical.call(this)&&!this.autoHeight()},stretchHorizontal:function(){return n.Bounds.prototype.stretchHorizontal.call(this)&&!this.autoWidth()},isVertical:function(){return!this.isHorizontal()},itemFitToContent:function(){var t=this.getList(),e=t?t.panel_bounds():null;return this.isVertical()&&(this.autoHeight()||e&&e.autoWidth())||this.isHorizontal()&&(this.autoWidth()||e&&e.autoHeight())},getList:function(){return this.getAncestor(4)}})),onBoundsChanged:function(){var t=this.panel_bounds();t&&t.reloadProperty(t.width,t.height);var e=this.content();if(e){var i=e.panel_bounds();i.reloadProperty(i.width,i.height)}},content:a().asAdapter(i.create(n.Container,{panel_bounds:l(i.create(n.Bounds,{isAbsolute:!1,ignoreWidth:function(t){return!this.fitToContents()},ignoreHeight:function(t){return!this.fitToContents()},fitToContents:function(){var t=this.mixinParent;return t&&t.panel_bounds().itemFitToContent()}}))}))}),i.DefaultCatalog.addCatalog("",e)}),define("css!core/../../css/core/pack",[],function(){}),define("text!core/core.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body data-namespace="">    \r\n    <div data-template-name="Layer">        \r\n        <div class="content-viewbox">            \r\n            <div class="viewbox-popup-layer"></div>\r\n            <div class="content-layer"></div>            \r\n        </div>\r\n        <div class="content-fixed"></div>        \r\n    </div>    \r\n</body>\r\n</html>'}),define("core/pack",["require","exports","core/controls","core/transitions","core/commands","core/containers","core/repeaters","templates","css!../../css/core/pack.css","text!core/core.html"],function(t,e,i,n,r,o,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modules=[n,i,r,o,s],a.DefaultCatalog.addCatalog(a.fromHtml(t("text!core/core.html")))}),function(t,e){function i(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap=#"+o+"]")[0],!!s&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.10.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(s,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)}}))}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}r(e)},t.widget=function(e,i,n){var r,o,s,a,l={},u=e.split(".")[0];e=e.split(".")[1],r=u+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(i){for(var r,o,s=n.call(arguments,1),a=0,l=s.length;a<l;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(t.isPlainObject(o)?i[r]=t.isPlainObject(i[r])?t.widget.extend({},i[r],o):t.widget.extend({},o):i[r]=o);return i},t.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),u=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,l),n!==r&&n!==e?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],n!==this&&t.data(n,this.widgetName,this),this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,o,s,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(o=a[i]=t.widget.extend({},this.options[i]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(i=r.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?r.delegate(h,u,a):i.bind(u,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},
i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function r(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,h=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,r=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return t("body").append(r),i=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,g,m,v,_,y=t(e.of),b=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(b),x=(e.collision||"flip").split(" "),C={};return _=r(y),y[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=d.exec(n[0]),i=d.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),o=i(C.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var r,u,h=t(this),d=h.outerWidth(),c=h.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),T=d+f+n(this,"marginRight")+w.width,S=c+_+n(this,"marginBottom")+w.height,k=t.extend({},v),P=i(C.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?k.left-=d:"center"===e.my[0]&&(k.left-=d/2),"bottom"===e.my[1]?k.top-=c:"center"===e.my[1]&&(k.top-=c/2),k.left+=P[0],k.top+=P[1],t.support.offsetFractions||(k.left=l(k.left),k.top=l(k.top)),r={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](k,{targetWidth:p,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:r,collisionWidth:T,collisionHeight:S,offset:[o[0]+P[0],o[1]+P[1]],my:e.my,at:e.at,within:b,elem:h})}),e.using&&(u=function(t){var i=m.left-k.left,n=i+p-d,r=m.top-k.top,o=r+g-c,l={target:{element:y,left:m.left,top:m.top,width:p,height:g},element:{element:h,left:k.left,top:k.top,width:d,height:c},horizontal:n<0?"left":i>0?"right":"center",vertical:o<0?"top":r>0?"bottom":"middle"};p<d&&a(i+n)<p&&(l.horizontal="center"),g<c&&a(r+o)<g&&(l.vertical="middle"),s(a(i),a(n))>s(a(r),a(o))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),h.offset(t.extend(k,{using:u}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&u<=0?(i=t.left+l+e.collisionWidth-o-r,t.left+=l-i):u>0&&l<=0?t.left=r:l>u?t.left=r+o-e.collisionWidth:t.left=r:l>0?t.left+=l:u>0?t.left-=u:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&u<=0?(i=t.top+l+e.collisionHeight-o-r,t.top+=l-i):u>0&&l<=0?t.top=r:l>u?t.top=r+o-e.collisionHeight:t.top=r:l>0?t.top+=l:u>0?t.top-=u:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,h=u-l,d=u+e.collisionWidth-s-l,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];h<0?(i=t.left+c+p+f+e.collisionWidth-s-o,(i<0||i<a(h))&&(t.left+=c+p+f)):d>0&&(n=t.left-e.collisionPosition.marginLeft+c+p+f-l,(n>0||a(n)<d)&&(t.left+=c+p+f))},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,h=u-l,d=u+e.collisionHeight-s-l,c="top"===e.my[1],p=c?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];h<0?(n=t.top+p+f+g+e.collisionHeight-s-o,t.top+p+f+g>h&&(n<0||n<a(h))&&(t.top+=p+f+g)):d>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>d&&(i>0||a(i)<d)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(a),i=s||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&r<11,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=!!o||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void n.preventDefault();if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:t(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,n,r,o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",u=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},h=function(e){var i=e.name,n=e.form,r=t([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.10.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,u),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,l="checkbox"===this.type||"radio"===this.type,d=l?"":"ui-state-active",c="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||t(this).removeClass(d)}).bind("click"+this.eventNamespace,function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(c)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(c)}),l&&(this.element.bind("change"+this.eventNamespace,function(){o||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){a.disabled||(o=!1,n=t.pageX,r=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){a.disabled||n===t.pageX&&r===t.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];h(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!a.disabled&&(t(this).addClass("ui-state-active"),i=this,void e.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return!a.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!a.disabled&&void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?h(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(l),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){t.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),n=s&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;
},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t,e){var i=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,u,h=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(r>i||r===i&&(e===h._lastChangedValue||h.values(e)===d.min))&&(r=i,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),o!==!1&&this.values(e,i,!0))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](h,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](h,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,r,o,s,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,a),n===!1))return}switch(s=this.options.step,r=o=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===this._valueMax())return;o=this._trimAlignValue(r+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===this._valueMin())return;o=this._trimAlignValue(r-s)}this._slide(e,a,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t,e){function i(){return++r}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){if(t(r).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!i&&0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;t.inArray(n(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,r){var o,s,a,l=t(r).uniqueId().attr("id"),u=t(r).closest("li"),h=u.attr("aria-controls");n(r)?(o=r.hash,s=e.element.find(e._sanitizeSelector(o))):(a=e._tabId(u),o="#"+a,s=e.element.find(o),s.length||(s=e._createPanel(a),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),h&&u.data("ui-tabs-aria-controls",h),u.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||t.inArray(n,e)!==-1?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===n[0],a=s&&i.collapsible,l=a?t():this._getPanelForTab(o),u=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:u,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,h))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),t.inArray(i,n)!==-1)return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var r=this,o=this.tabs.eq(e),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),r._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),define("jquery_ui",["jquery"],function(){}),define("flat/common",["require","exports","adapters","utils","core/controls","google-fonts","icons","projects","jquery","jquery_ui"],function(t,e,i,n,r,o,s,a){"use strict";function l(t,e){return t.indexOf(e,t.length-e.length)!==-1}function u(t,e){this.target&&n.css.addClass(this.target,"richText"),t||(t="");var i=this.fontStyle().indexOf("Underline")>=0;if(!i&&t.indexOf("<Run")==-1)return"<span>"+t+"</span>";for(var s=new DOMParser,a=s.parseFromString("<RichText>"+t+"</RichText>","text/xml"),u=a.childNodes[0].childNodes,h="",d=0;d<u.length;d++){var c,p="",f=u[d],g=null,m=null,v=null,_=null,y=!1;if(null!=f.attributes){var b=f.attributes.getNamedItem("FontFamily");if(null!=b)if(o.isGoogleFont(b.value)){var w=o.parseGoogleFont(b.value);o.loadGoogleFont(w),p+="font-family:"+w.name+";",p+=w.italic?"font-style:italic;":"font-style:normal;",p+="font-weight:"+w.weight+";",y=!0}else p+="font-family:"+r.fontAlias(b.value)+";";_=f.attributes.getNamedItem("FontSize"),null!=_&&(p+="font-size:"+_.value+"px;");var x=f.attributes.getNamedItem("Foreground");null!=x&&(p+="color:"+n.css.toRgba(x.value)+";")}var C=0;if(f.nodeType==Node.TEXT_NODE)c=f.nodeValue;else{var T=f.attributes;g=T.getNamedItem("TextDecorations"),m=T.getNamedItem("FontStyle"),v=T.getNamedItem("FontWeight"),c=f.textContent}for(;l(c,"\n");)c=l(c,"\r\n")?c.substr(0,c.length-2):c.substr(0,c.length-1),C++;c=c.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"),i&&null==g||null!=g&&"Underline"==g.value?p+="text-decoration:underline;":null!=g&&"None"==g.value&&(p+="text-decoration:none;"),y||null==m||(p+="Italic"==m.value?"font-style:italic;":"font-style:normal;"),y||null==v||(p+="Bold"==v.value?"font-weight:bold;":"font-weight:normal;");var S="";S=""!=p?'<span style="'+p+'">'+c+"</span>":"<span>"+c+"</span>";for(var k=0;k<C;k++)S+='<span style="'+p+'"/>\r\n';h+=S}return h}Object.defineProperty(e,"__esModule",{value:!0});var h=i.event,d=i.property,c=i.attribute,p=i.children,f=i.mixin,g=i.css,m=i.prop,v=i.updateClass,_=i.toggleClass,y=i.text,b=i.richText,w=i.jQueryOption,x=i.not;e.ProgressBar=i.create(r.Control,{initialize:function(){$(this.target).progressbar()},foreground:v(".ui-progressbar-value","background-color").asRgba(),background:g("background-color").asRgba(),isIndeterminate:d().asBool().onChange(function(){this.updateValue()}),value:d({defaultValue:0}).asInt().onChange(function(){this.updateValue()}),updateValue:function(){this.isIndeterminate()?$(this.target).progressbar("option","value",!1):$(this.target).progressbar("option","value",this.value())}}),e.ConvertRichText=u,e.Label=i.create(r.Text,'<span class="autowidth autoheight"><span></span></span>',{text:y("span"),richText:d().and(b().convert(u)),fontSize:v("> span","font-size").asPx().and(g("font-size").asPx()),fontStyle:r.Text.fontStyle.onChange(function(){this.reloadProperty(this.richText)}),align:g("text-align")}),e.Title=i.create(e.Label,'<h1 class="autowidth autoheight"><span></span></h1>',{}),e.Button=i.create(r.Text,'<button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text"></span></button>',{text:y("span"),background:g("background-color").asRgba(),borderColor:r.Border.borderColor,borderThickness:r.Border.thickness,cornerRadius:r.Border.cornerRadius,isEnabled:x(_("disabled")).asBool().and(x(m("disabled")).asBool())}),e.MultilineButton=i.create(r.Control,'<button type="button"><p class="title"></p><span class="hint"></span></button>',{initialize:function(){$(this.target).button()},title:y(".title"),titleFontFamily:r.fontFamily("titleFontStyle").over(".title"),titleFontStyle:r.fontStyle("titleFontFamily").over(".title"),titleFontSize:r.Text.fontSize.over(".title"),titleForeground:r.Text.foreground.over(".title"),hint:y(".hint"),hintFontSize:r.Text.fontSize.over(".hint"),hintFontFamily:r.fontFamily("hintFontStyle").over(".hint"),hintFontStyle:r.fontStyle("hintFontFamily").over(".hint"),hintForeground:r.Text.foreground.over(".hint"),background:e.Button.background,borderColor:e.Button.borderColor,borderThickness:e.Button.borderThickness,cornerRadius:e.Button.cornerRadius,isEnabled:x(_("disabled")).asBool().and(x(m("disabled")).asBool())}),e.Link=i.create(r.Text,'<a href="javascript:;"></a>',{text:y(),align:g("text-align")}),e.Icon=i.create(r.Control,'<div>\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none" viewbox="0 0 26 26">\n            <g>\n                <title/>\n                <rect x="0" y="0" width="26" height="26" stroke="transparent" stroke-width="0" fill="transparent"/>\n                <path stroke-width="0"/>\n            </g>\n        </svg>\n    </div>',{onAttach:function(){var t=$(this.target).attr("data-catalogid");void 0!==t&&""!=t||this.setDefaultIcon()},path:c("path","d").convert(function(t){return n.strings.startsWith(t,"F1")?t.substr(2):t}),opacity:g("path","opacity").toFloat(),rotationAngle:d({defaultValue:0}).onChange(function(){this.updateTransform()}).toFloat(),scale:d({defaultValue:{scaleX:1,scaleY:1}}).onChange(function(){this.updateTransform()}).asScale(),color:g("path","stroke").and(g("path","fill")).asRgba(),tooltip:y("title"),catalogId:c("data-catalogid").onChange(function(t,e){if(e){var i=this.getPath();if(this.isSelected()){var n=e+" Selected",r=s.getIcon(n);r||(r=s.getIcon(e))}else r=s.getIcon(e);r?i.setAttribute("d",r):i.removeAttribute("d")}else this.setDefaultIcon()}),isSelected:d().onChange(function(){this.reloadProperty(this.catalogId)}).asBool(),updateTransform:function(){var t=this.rotationAngle(),e=this.scale(),i="rotate("+t+"deg)  scale("+e.scaleX+","+e.scaleY+")";this.getTarget$("> svg").css({"-webkit-transform":i,"-ms-transform":i,transform:i})},getPath:function(){return this.target.querySelector("path")},setDefaultIcon:function(){this.getPath().setAttribute("d",s.getIcon("Placeholder"))}}),e.Image=i.create(r.Control,'<div class="autowidth autoheight"><img></div>',{initialize:function(){this._img=$(this.target).find("img")[0]},onAttach:function(t){var e=this;this.projectPath!==t.baseUrl()&&(this.projectPath=t.baseUrl(),this.updateReadyState(this.sourcePath()),$(this._img).on("load",function(){return e.onLoad()}).on("error",function(){return e.onError()}))},devicePixelRatio:d({defaultValue:1}).onChange(function(){this.updateImageSize()}).asFloat(),scale:d({defaultValue:{scaleX:1,scaleY:1}}).onChange(function(){this.updateTransform()}).asScale(),crop:d({defaultValue:{size:{width:0,height:0},rect:{x:0,y:0,width:0,height:0},shape:0}}).onChange(function(){this.updateImageSize()}).asCrop(),panel_bounds:f(i.create(r.Bounds,{height:r.Bounds.height.onChange(function(){this.updateImageSize()}),width:r.Bounds.width.onChange(function(){this.updateImageSize()}),autoWidth:r.Bounds.autoWidth.onChange(function(){this.updateImageSize()}),autoHeight:r.Bounds.autoHeight.onChange(function(){this.updateImageSize()}),updateImageSize:function(){var t=this.parent;t&&t.updateImageSize()}})),uri:d().and(c("img.src").convert({beforeSet:function(t){return t?a.getProjectResourcePath(this.projectPath,t):t}})).onChange(function(t,e){
this.updateReadyState(e)}).ifAttached(),sourcePath:d().onChange(function(t,e){this.uri(e?n.path.asLowerCaseUri(e):"")}),updateReadyState:function(t){t&&""!==t?this.removeErrorDiv():(this.addErrorDiv(n.locale.formatMessage("player.controls.image.coming-soon","Image Coming Soon")),$(this.target).addClass("not-ready").removeClass("on-error")),this.updateImageSize()},removeErrorDiv:function(t){n.css.clear(this._img,"display"),$(this._img).find("+ div").remove(),$(this.target).removeClass("not-ready").removeClass("on-error")},addErrorDiv:function(t){n.css.prop(this._img,"display","none");var e=$(this._img).find("+ div");return 0===e.length&&(e=$("<div class='message ui-helper-center-align'></div>").insertAfter(this._img)),e.html(t)},onLoad:function(){this.removeErrorDiv(),this.updateImageSize()},onError:function(){var t=this.sourcePath();t&&(this.addErrorDiv(n.locale.formatMessage("player.controls.image.not-found",{path:t},"The image<br/>"+t+"<br/> was not found.")),$(this.target).removeClass("not-ready").addClass("on-error"),this.updateImageSize())},updateImageSize:function(){if(this.isAttached){var t=this._img,e=t.style,n=this.panel_bounds(),r=this.devicePixelRatio(),o=this.crop();if(void 0!==o&&o.size.width>0&&o.size.height>0){var s=n.width(),a=n.height(),l=!1;if(n.autoWidth()&&n.autoHeight())s=o.rect.width*t.naturalWidth/o.size.width,a=o.rect.height*t.naturalHeight/o.size.height,this.target.style.height=a*r+"px",this.target.style.width=s*r+"px",l=!0;else if(n.autoHeight()){var u=o.size.width*s/o.rect.width,h=u*t.naturalHeight/t.naturalWidth;a=o.rect.height*t.naturalHeight/o.size.height*h/t.naturalHeight,this.target.style.height=a+"px"}else if(n.autoWidth()){var h=o.size.height*a/o.rect.height,u=h*t.naturalWidth/t.naturalHeight;s=o.rect.width*t.naturalWidth/o.size.width*u/t.naturalWidth,this.target.style.width=s+"px"}var d=o.size.width*s/o.rect.width,c=o.size.height*a/o.rect.height;l&&(d*=r,c*=r);var p=o.rect.x*d/o.size.width,f=o.rect.y*c/o.size.height,g=this.scale();g.scaleX===-1&&(p=d-s-p),g.scaleY===-1&&(f=c-a-f),e.width=d+"px",e.height=c+"px",e.marginLeft=-p+"px",e.marginTop=-f+"px",this.target.style.overflow="hidden",this.target.style.borderRadius=1===o.shape?"50%":"0"}else{this.target.style.borderRadius=null,this.target.style.overflow=null,e.marginLeft=null,e.marginTop=null;var m=n.width(),v="";v=n.autoWidth()||i.isDefault(n,n.width)?1!==r&&n.autoHeight()&&0!==t.naturalWidth?t.naturalWidth*r+"px":"auto":m+"px",e.width=v;var _="",y=n.height();_=n.autoHeight()||i.isDefault(n,n.width)?1!==r&&n.autoWidth()&&0!==t.naturalHeight?t.naturalHeight*r+"px":"auto":y+"px",e.height=_}this.onBoundsChanged()}},updateTransform:function(){var t=this.scale(),e="scale("+t.scaleX+","+t.scaleY+")";this.getTarget$("> img").css({"-webkit-transform":e,"-ms-transform":e,transform:e}),this.updateImageSize()}}),e.Item=i.create(r.ItemBase,{text:d(),isSelected:d()}),e.ListBoxItem=i.create(r.ItemBase,'<li data-role="node" data-value="" data-path="0_0" class="ui-igtree-node ui-igtree-node-nochildren"><a href="javascript:;"></a></li>',{initialize:function(){var t=this,e=$(this.target).find("> a").hover(function(t){return e.addClass("ui-state-hover")},function(t){return e.removeClass("ui-state-hover")}).focusin(function(t){return e.addClass("ui-state-focus")}).focusout(function(t){return e.addClass("ui-state-focus")}).click(function(){var i=e.hasClass("ui-state-active");t.parent.select(e),i||($(t.target).siblings().each(function(t,e){$(this).trigger("unselected")}),$(t.target).trigger("selected"))})},text:y("a"),isSelected:d().onChange(function(t,e){e&&$(this.target).find("> a").click()})}),e.ListBox=i.create(r.TextItemsControl,'<ul class="ui-widget ui-igtree ui-igtree-collection ui-igtree-root ui-widget-content"></ul>',{panel_bounds:f(i.create(r.Bounds,{useScrollbars:function(){return!1}})),items:p().asAdapter(e.ListBoxItem),background:g("background-color").asRgba(),borderColor:r.Border.borderColor,cornerRadius:r.Border.cornerRadius,borderThickness:r.Border.thickness,select:function(t){this.clearSelection(),this._selectedNode=t,this._selectedNode.addClass("ui-state-active")},clearSelection:function(){this._selectedNode&&(this._selectedNode.removeClass("ui-state-active"),this._selectedNode=null)}}),e.OptionGroup=i.create(r.TextItemsControl,"<ul></ul>",{items:p(),background:g("background-color").asRgba(),orientation:_("vertical").convert({beforeSet:function(t){return"Vertical"===t},afterGet:function(t){return t?"Vertical":"Horizontal"}})}),e.OptionLastId=0,e.Option=i.create(r.ItemBase,'<li><p class="inputs"><input type="radio" class="radiobutton"/><label></label></p></li>',{initialize:function(){var t=this,i="radio_"+e.OptionLastId++;this.target.querySelector("input").id=i,this.target.querySelector("label").setAttribute("for",i),this._wasSelectedOnMouseDown=!1,this.target.onmousedown=function(e){t._wasSelectedOnMouseDown=t.isSelected()},this.target.onclick=function(e){e.target!==t.target&&e.target!==t.target.querySelector("p")||t.isSelected(!0);var i=$(t.target).find("input");e.target!==t.target&&e.target!==t.target.querySelector("p")&&e.target!==i[0]||t.isSelected()&&!t._wasSelectedOnMouseDown&&($(t.target).siblings().each(function(t,e){$(this).find("input").trigger("unselected")}),i.trigger("selected"))}},text:c("input.value").and(y("label")),isSelected:m("input.checked").asBool(),isEnabled:x(_("disabled")).asBool().and(x(m("input.disabled")).asBool()),onAttach:function(){this.target.querySelector("input").setAttribute("name",this.parent.target.id)},selected:h("selected"),unselected:h("unselected")}),e.CheckBoxLastId=0,e.CheckBox=i.create(r.Text,'<p class="inputs"><input type="checkbox" class="checkbox"/><label></label></p>',{initialize:function(){var t=this,i="checkbox_"+e.CheckBoxLastId++;this.target.querySelector("input").id=i,this.target.querySelector("label").setAttribute("for",i),this.target.onclick=function(e){e.target===t.target&&t.isChecked(!t.isChecked());var i=$(t.target).find("> input");e.target!==t.target&&e.target!==i[0]||(t.isChecked()?i.trigger("checked"):i.trigger("unchecked"))},$(this.target).keypress(function(t){if(32==t.which){var e=$(this.target).find("> input");this.isChecked()?e.trigger("checked"):e.trigger("unchecked")}})},text:y("label"),isChecked:m("input.checked").asBool(),isEnabled:x(_("disabled")).asBool().and(x(m("input.disabled"))),checked:h("checked"),unchecked:h("unchecked")}),e.Slider=i.create(r.Control,"<div></div>",{initialize:function(){$(this.target).slider({min:0,max:100,value:50})},trackBackground:g("background-color").asRgba(),thumbBackground:g(".ui-slider-handle","background-color").asRgba(),maxValue:w("slider","max").asInt(),minValue:w("slider","min").asInt(),value:w("slider","value").asInt(),isEnabled:x(_("disabled")).asBool().and(x(m("a.disabled")).asBool())}),i.DefaultCatalog.addCatalog("",e)}),define("flat/shapes",["require","exports","adapters","utils","layout","core/controls","jquery"],function(t,e,i,n,r,o){"use strict";function s(t){var e,i,r=t.target.childNodes[0];r.firstChild&&"path"==r.firstChild.nodeName?(e=r.firstChild,i=!0):(n.dom.clear(r),e=document.createElementNS(n.svg.NS,"path"),e.setAttribute("stroke-width","1"),r.appendChild(e),i=!1);for(var o=t.startPoint(),s="M"+o.x()+","+o.y(),a=t.segments(),l=0;l<a.length;l++){var u=a[l],h=u.endPoint();if(u.isBezier){var d=u.controlPoint1(),c=u.controlPoint2();s+=" C"+d.x()+","+d.y()+" "+c.x()+","+c.y()+" "+h.x()+","+h.y()}else s+=" L"+h.x()+","+h.y()}return t.isClosed()&&(s+=" z"),e.setAttribute("d",s),i}function a(t){var e=t.startPoint(),i=t.segments()[0].endPoint(),r=e.x(),o=e.y(),s=i.x(),a=i.y(),l=Math.min(r,s),u=Math.min(o,a);r-=l,o-=u,s-=l,a-=u;var h,d,c,p,f,g,m=!1,v=parseInt(t.thickness());if(r==s)h=v,m=!0,c=1,p=1;else{if(h=t.panel_bounds().width(),r>s){var _=s,y=a;s=r,a=o,r=_,o=y}c=1,p=-1}o==a?(d=v,m=!0,f=1,g=1):(d=t.panel_bounds().height(),o>a?(f=-1,g=1):(f=1,g=-1));var b,w,x=t.target.childNodes[0];x.firstChild&&"line"==x.firstChild.nodeName?(b=x.firstChild,w=!0):(n.dom.clear(x),b=document.createElementNS(n.svg.NS,"line"),b.setAttribute("stroke-width","1"),x.appendChild(b),w=!1);var C=Math.abs(r-s),T=Math.abs(o-a),S=C>0?h/C:1,k=T>0?d/T:1,P=v/2;return r=r*S+P*c,s=s*S+P*p,o=o*k+P*f,a=a*k+P*g,b.setAttribute("x1",r),b.setAttribute("y1",o),b.setAttribute("x2",s),b.setAttribute("y2",a),x.setAttribute("width",h),x.setAttribute("height",d),t.target.style.setProperty("width",h+"px"),t.target.style.setProperty("height",d+"px"),m?x.setAttribute("preserveAspectRatio","none"):x.removeAttribute("preserveAspectRatio"),w}Object.defineProperty(e,"__esModule",{value:!0});var l=i.property,u=i.collection,h=i.component,d=i.attribute,c=i.mixin,p=i.css,f=i.event,g=i.event,m=i.ignore;e.Rectangle=i.create(o.Control,{background:p("background-color").asRgba(),color:p("border-color").asRgba(),thickness:o.Border.thickness,cornerRadius:o.Border.cornerRadius});var v="> svg > :first-child";e.Shape=i.create(o.Control,{click:f(v,"tap"),rightClick:f(v,"contextmenu",{preventDefault:!0}),doubleClick:f(v,"doubletap"),mouseOver:f(v,"mouseenter",{ignoreOnMobile:!0}),mouseOut:f(v,"mouseleave",{ignoreOnMobile:!0}),swipeRight:g(v,"swiperight"),swipeLeft:g(v,"swipeleft"),swipeDown:g(v,"swipedown"),swipeUp:g(v,"swipeup"),pressAndHold:g(v,"hold"),background:p(v,"fill").asRgba(),color:p(v,"stroke").asRgba(),opacity:p(v,"opacity").toFloat(),tooltip:l().onChange(function(t,e){var i=this.target?this.target.childNodes[0].childNodes[0]:null;i&&n.svg.setTooltip(i,e)})}),e.Ellipse=i.create(e.Shape,'<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><ellipse stroke-width="1"/></svg></div>',{thickness:d("ellipse","stroke-width").asPx().onChange(function(){this.updateShape()}),panel_bounds:c(i.create(o.Bounds,{height:o.Bounds.height.onChange(function(){this.parent.updateShape()}).ifParent(),width:o.Bounds.width.onChange(function(){this.parent.updateShape()}).ifParent()})),updateShape:function(){var t=this.panel_bounds(),e=t.width(),i=t.height(),n=e/2,r=i/2,o=this.thickness()?parseInt(this.thickness())/2:0;if(!isNaN(n)&&!isNaN(r)&&!isNaN(o)){var s=this.target,a=s.firstChild;a.setAttribute("viewBox","0 0 "+e+" "+i);var l=a.firstChild;l.setAttribute("cx",n+""),l.setAttribute("cy",r+""),l.setAttribute("rx",Math.max(n-o,0)+""),l.setAttribute("ry",Math.max(r-o,0)+"")}}}),e.Polyline=i.create(e.Shape,'<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><path stroke-width="1"/></svg></div>',{initialize:function(){this._rendering=!1,this._isLine=!1},color:l({defaultValue:"rgba(102,102,102,1)"}).and(p(v,"stroke").asRgb()).and(p(v,"stroke-opacity").convert(function(t){return t?n.css.getAlpha(t)+"":void 0})).asRgba(),panel_bounds:c(i.create(o.Bounds,{ignoreWidth:function(){return this.parent&&this.parent._isLine},ignoreHeight:function(){return this.parent&&this.parent._isLine}})),startPoint:h().onChange(function(){this.render()}),segments:u().onAddOrRemove(function(){this.render()}),thickness:d(v,"stroke-width").toFloat().onChange(function(){this.render()}),isClosed:l().onChange(function(){this.render()}),onAttach:function(){this.render()},onBoundsChanged:function(){this.render(),e.Shape.prototype.onBoundsChanged.call(this)},render:function(){if(this.isAttached&&!this._rendering){this._rendering=!0;try{return this._renderPolyline()}finally{this._rendering=!1}}},_renderPolyline:function(){var t=this,e=this.segments();this._isLine=1===e.length&&!e[0].isBezier;var i;i=this._isLine?a(this):s(this),i||this.reloadProperty(),this._isLine||r.onNext(function(){if(!t._isLine){var e=t.target.getBoundingClientRect(),i=e.width,r=e.height;isFinite(i)&&isFinite(r)&&(i>0||r>0)&&n.svg.fitToPathChild(t.target.childNodes[0],e.width,e.height)}})}}),e.Line=i.create(e.Polyline,'<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><line stroke-width="1"/></svg></div>',{}),e.Point=i.create(o.ViewElement,{x:l({defaultValue:0}).asFloat().onChange(function(){this.render()}),y:l({defaultValue:0}).asFloat().onChange(function(){this.render()}),onAttach:function(){n.debug.assert(null!=this.parent)},render:function(){this.isAttached&&this.parent.render()}}),e.Segment=i.create(o.ViewElement,{isBezier:!1,endPoint:h().onChange(function(){this.render()}),render:function(){this.isAttached&&this.parent.render()}}),e.CubicBezierSegment=i.create(e.Segment,{isBezier:!0,controlPoint1:h().onChange(function(){this.render()}),controlPoint2:h().onChange(function(){this.render()}),render:function(){this.isAttached&&this.parent.render()}}),e.Triangle=i.create(e.Polyline,'<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><path /></svg></div>',{}),e.HotSpot=i.create(e.Polyline,'<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><path /></svg></div>',{opacity:m,thickness:m,background:m}),i.DefaultCatalog.addCatalog("",e)}),define("text!flat/stencils.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body data-namespace="">\r\n    \r\n    <div data-template-name="ChartMock" class="stencil">\r\n        <div class="chart" data-mocktype="column_chart">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 165 150" \r\n                 width="100%" height="100%" preserveAspectRatio="none" \r\n                 x="0px" y="0px" >\r\n                <rect y="41" x="125" width="34" height="109" fill="#dadada"/>\r\n                <rect y="54" x="85" width="33" height="96" fill="#b9b9b9"/>\r\n                <rect y="98" x="45" width="34" height="52" fill="#dadada"/>\r\n                <rect y="110" x="5" width="33" height="40" fill="#b9b9b9"/>\r\n                <rect opacity="0" y="0" x="0" width="165" height="150" fill="#ffffff"/>\r\n            </svg>\r\n        </div>\r\n             \r\n        <div class="chart" data-mocktype="bar_chart">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 165 150" \r\n                 width="100%" height="100%" preserveAspectRatio="none" \r\n                 x="0px" y="0px" >\r\n                <rect opacity="0" y="0" x="0" width="163.3333" height="150" fill="#ffffff"/>\r\n                <rect y="117" x="0" width="118" height="31" fill="#dadada"/>\r\n                <rect y="79" x="0" width="104" height="31" fill="#b9b9b9"/>\r\n                <rect y="42" x="0" width="57" height="31" fill="#dadada"/>\r\n                <rect y="5" x="0" width="43" height="31" fill="#b9b9b9"/>\r\n            </svg>\r\n        </div>\r\n  \r\n        <div class="chart" data-mocktype="area_chart">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 165 150" \r\n                 width="100%" height="100%" preserveAspectRatio="none" \r\n                 x="0px" y="0px" >\r\n                <path d="M 0 152 L 40 68 L 57 76 L 77 22 L 104 48 L 139 -2 L 165 152 L 0 152 Z" fill="#b9b9b9"/>\r\n                <path d="M -1 152 L 39 97 L 62 110 L 83 62 L 103 89 L 121 78 L 165 152 L -1 152 Z" fill="#dadada"/>\r\n            </svg>\r\n        </div>\r\n  \r\n        <div class="chart" data-mocktype="line_chart">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 165 150" \r\n                 width="100%" height="100%" preserveAspectRatio="none" \r\n                 x="0px" y="0px" >\r\n                <rect opacity="0" y="0" x="0" width="164" height="152" fill="#ffffff"/>\r\n                <path d="M 4 149 L 27 78 L 95 98 C 95 98 129 13.3333 129 14 C 129 14.6667 157 7 157 7 " stroke-linecap="round"  stroke="#B9B9B9" stroke-width="4" fill="none" vector-effect="non-scaling-stroke" />\r\n                <path d="M 8 147 L 69 66 L 137 73 L 152 3 " stroke="#dadada" stroke-linecap="round" stroke-width="4" fill="none" vector-effect="non-scaling-stroke" />\r\n            </svg>\r\n        </div>\r\n\r\n        <div class="chart pie" data-mocktype="pie_chart">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 154 154" \r\n                 width="100%" height="100%" preserveAspectRatio="none" \r\n                 x="0px" y="0px" >  \r\n                <path d="M 0 77 C 0 34.4735 34.4735 0 77 0 C 119.5265 0 154 34.4735 154 77 C 154 119.5265 119.5265 154 77 154 C 34.4735 154 0 119.5265 0 77 Z" fill="#b9b9b9"/>\r\n                <path d="M 77 77 L 154 77 C 154 119.5265 119.5265 154 77 154 L 77 77 Z" fill="#dadada"/>\r\n            </svg>\r\n        </div>\r\n    </div>     \r\n    \r\n    <div data-template-name="CoverFlowMock" class="stencil">                \r\n        <div class="coverflow" data-mocktype="coverflow">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 363 130"                  \r\n                 width="100%" height="100%" preserveAspectRatio="none"                  \r\n                 x="0px" y="0px" >                \r\n                <path d="M 2 1 L 43 10.3483 L 43 120.3708 L 2 129 L 2 1 Z" fill="#f4f4f4" stroke="#b9b9b9" stroke-width="2" vector-effect="non-scaling-stroke"/>                \r\n                <path d="M 43 1 L 83 10.3483 L 83 120.3708 L 43 129 L 43 1 Z" fill="#f4f4f4" stroke="#b9b9b9" stroke-width="2" vector-effect="non-scaling-stroke"/>                \r\n                <path d="M 81 1 L 121 10.3483 L 121 120.3708 L 81 129 L 81 1 Z" fill="#f4f4f4" stroke="#b9b9b9" stroke-width="2" vector-effect="non-scaling-stroke"/>\r\n                <path d="M 362 1 L 322 10.3483 L 322 120.3708 L 362 129 L 362 1 Z" stroke="#b9b9b9" stroke-width="2" fill="#f4f4f4" vector-effect="non-scaling-stroke"/>\r\n                <path d="M 322 1 L 282 13.2247 L 282 116.7753 L 322 129 L 322 1 Z" stroke="#b9b9b9" stroke-width="2" fill="#f4f4f4" vector-effect="non-scaling-stroke"/>\r\n                <path d="M 282 1 L 242 13.2247 L 242 116.7753 L 282 129 L 282 1 Z" stroke="#b9b9b9" stroke-width="2" fill="#f4f4f4" vector-effect="non-scaling-stroke"/>\r\n                <rect y="1" x="121" width="122" height="129" stroke="#b9b9b9" stroke-width="2" fill="#f4f4f4" vector-effect="non-scaling-stroke"/>\r\n            </svg>\r\n        </div>\r\n    </div>\r\n                  \r\n    <div data-template-name="GaugeMock" class="stencil">\r\n        <div class="gauge" data-mocktype="radial_gauge">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 192 192"\r\n                 width="100%" height="100%"\r\n                 x="0px" y="0px">\r\n                <path d="M 0 96 C 0 42.98 42.98 0 96 0 C 149.02 0 192 42.98 192 96 C 192 149.02 149.02 192 96 192 C 42.98 192 0 149.02 0 96 Z" fill="#cdcdcd" />\r\n                <path d="M 4.4037 96 C 4.4037 45.4121 45.4121 4.4037 96 4.4037 C 146.5879 4.4037 187.5963 45.4121 187.5963 96 C 187.5963 146.5879 146.5879 187.5963 96 187.5963 C 45.4121 187.5963 4.4037 146.5879 4.4037 96 Z" fill="#f4f4f4" />\r\n                <path d="M 86 90.5 C 86 69.7891 95.5 33 95.5 33 C 95.5 33 105 69.7891 105 90.5 C 105 96 103.2727 108 95.5 108 C 87.4394 108 86 95.1667 86 90.5 Z" fill="#b9b9b9" />\r\n                <path d="M 59.2603 24.0004 C 58.2943 22.3196 56.1531 21.7451 54.4783 22.717 C 52.8038 23.6887 52.2296 25.8381 53.1955 27.5181 C 54.1614 29.1981 56.3016 29.7728 57.9763 28.8018 C 59.6514 27.8307 60.2263 25.6809 59.2603 24.0004 ZM 139.0547 162.8184 C 138.0927 161.1447 135.9516 160.5636 134.2728 161.5203 C 132.5942 162.4768 132.0135 164.6082 132.9753 166.2812 C 133.9371 167.9542 136.0773 168.5355 137.7562 167.5797 C 139.4352 166.6237 140.0167 164.492 139.0547 162.8184 ZM 24.7985 131.0743 C 23.135 132.0309 22.5667 134.1592 23.5285 135.8282 C 24.4904 137.4971 26.6183 138.0751 28.282 137.1191 C 29.9459 136.163 30.5152 134.0344 29.5532 132.3648 C 28.5911 130.6952 26.4623 130.1174 24.7985 131.0743 ZM 163.5831 51.2606 C 161.8932 52.2323 161.3068 54.3852 162.2728 56.0695 C 163.2386 57.7534 165.3912 58.3315 167.0812 57.3604 C 168.7715 56.3891 169.3588 54.236 168.3927 52.5512 C 167.4266 50.8664 165.2732 50.2886 163.5831 51.2606 ZM 29.1051 52.5118 C 27.4287 51.543 25.2907 52.1185 24.33 53.7971 C 23.3693 55.4753 23.9493 57.6204 25.6252 58.5887 C 27.301 59.5569 29.4384 58.982 30.3995 57.3043 C 31.3608 55.6263 30.7814 53.4805 29.1051 52.5118 ZM 167.5667 132.5293 C 165.8973 131.5646 163.756 132.1344 162.7842 133.8018 C 161.8124 135.4689 162.3778 137.6017 164.0467 138.566 C 165.7155 139.5302 167.8561 138.961 168.8283 137.2944 C 169.8007 135.6274 169.236 133.494 167.5667 132.5293 ZM 52.9335 162.3038 C 51.9749 163.9635 52.5494 166.0875 54.2162 167.0483 C 55.8831 168.009 58.0115 167.443 58.9705 165.7838 C 59.9297 164.1243 59.356 161.9997 57.6887 161.0385 C 56.0213 160.0772 53.8923 160.6438 52.9335 162.3038 ZM 132.9088 23.8359 C 131.935 25.5219 132.5061 27.6761 134.1841 28.648 C 135.862 29.6198 138.0117 29.0416 138.9859 27.3561 C 139.9603 25.6703 139.3898 23.5155 137.7114 22.5432 C 136.033 21.5708 133.8827 22.1497 132.9088 23.8359 ZM 16.5 92 C 14.567 92 13 93.567 13 95.5 C 13 97.433 14.567 99 16.5 99 C 18.433 99 20 97.433 20 95.5 C 20 93.567 18.433 92 16.5 92 ZM 176.5 92 C 174.567 92 173 93.567 173 95.5 C 173 97.433 174.567 99 176.5 99 C 178.433 99 180 97.433 180 95.5 C 180 93.567 178.433 92 176.5 92 ZM 92 175.5 C 92 177.433 93.567 179 95.5 179 C 97.433 179 99 177.433 99 175.5 C 99 173.567 97.433 172 95.5 172 C 93.567 172 92 173.567 92 175.5 ZM 92 15.5 C 92 17.433 93.567 19 95.5 19 C 97.433 19 99 17.433 99 15.5 C 99 13.567 97.433 12 95.5 12 C 93.567 12 92 13.567 92 15.5 Z" fill="#cdcdcd" />\r\n            </svg>\r\n        </div> \r\n        <div class="gauge" data-mocktype="linear_gauge">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                 viewBox="0 0 192 192" \r\n                 width="100%" height="100%" \r\n                 x="0px" y="0px" >\r\n           \r\n                <path opacity="0" d="M 0 0 L 192 0 L 192 192 L 0 192 L 0 0 Z" fill="#ffffff"/>\r\n                <rect y="81" x="0" width="192" height="31" fill="#cdcdcd"/>\r\n                <rect y="81" x="95" width="97" height="31" fill="#dadada"/>\r\n                <rect y="81" x="176" width="16" height="31" fill="#b9b9b9"/>\r\n                <path d="M 144 71.4667 C 144 80.3033 136 96 136 96 C 136 96 128 80.3033 128 71.4667 C 128 69.12 129.4546 64 136 64 C 142.7878 64 144 69.4755 144 71.4667 Z" fill="#b9b9b9"/>\r\n            </svg>\r\n        </div>\r\n    </div>\r\n    \r\n    <div data-template-name="MapMock" class="stencil map">\r\n        <div class="offline">\r\n            <div class="message" data-translate-id="player.controls.map.error-load">The embedded map could not be loaded. Please check your internet connection.</div>\r\n        </div>\r\n        <div class="mapControlStencil" data-mocktype="street_map" style="background-color: white;">\r\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1280 800" xml:space="preserve" width="100%" height="100%" preserveAspectRatio="none">\r\n            <rect fill="#DADADA" width="1280" height="800" />\r\n            <rect y="638.3" fill="#B9B9B9" width="386" height="161.7" />\r\n            <path fill="#FFFFFF" d="M1280,120V93.3h-278V0h-42v93.3H620V0h-44v93.3H216V0h-44v93.8l-172,30v26.7l172-28.8v91.7H0V240h172v373.3H0v25h384V800h44V638.3h253.8l26,161.7h43l-26-161.7H960V800h40V638.5h280v-25.2h-280V461.7h280V435h-278V240h278v-26.7h-278V120H1280z M384,613.3H216V240h168V613.3z M216,213.3V120h360v93.3H216z M960,613.3H428V240h532V613.3z M960,213.3H620V120h340V213.3z" />\r\n            </svg>\r\n        </div>\r\n        <div class="mapControl"></div>\r\n    </div>\r\n\r\n    <div data-template-name="VideoPlayer" class="stencil">\r\n        <div class="offline">\r\n            <div class="message" data-translate-id="player.controls.video.error-load">The embedded video could not be loaded. Please check your internet connection.</div>\r\n        </div>\r\n        <div class="videoplayerStencil" data-mocktype="videoplayer">\r\n            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 200 150" width="100%" height="100%" x="0px" y="0px">\r\n                <rect y="0.5" x="0.5" width="200" height="150" fill="#ffffff"/>\r\n                <path d="M 85 32 L 118 48 C 119.875 49.25 119.75 52.75 118 54 L 84 70 C 81 71 80.125 69.125 80 67 L 80 35 C 80 32 82 30 85 32 Z" fill="#b9b9b9"/>\r\n            </svg>\r\n            <div class="controls">\r\n                <ul>\r\n                    <li class="icons">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                             viewBox="0 0 25 25" width="25" height="25" \r\n                             x="0px" y="0px" >\r\n                            <path d="M6.902,5.26L20.208,11.857C20.646,12.075 20.924,12.516 20.924,13 20.924,13.484 20.646,13.925 20.208,14.143L6.902,20.741C6.718,20.833 6.518,20.879 6.316,20.879 6.078,20.879 5.842,20.815 5.634,20.688 5.248,20.456 5.015,20.043 5.015,19.6L5.015,6.401C5.015,5.957 5.248,5.544 5.634,5.312 6.018,5.079 6.499,5.057 6.902,5.26z" fill="#b9b9b9"/>\r\n                        </svg>\r\n                    </li>\r\n                    <li>\r\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                             viewBox="0 0 192 31" preserveAspectRatio="none" width="100%" height="22"\r\n                             x="0px" y="0px" >\r\n                            <rect y="0" x="0" width="192" height="31" fill="#cdcdcd"/>\r\n                            <rect y="0" x="31" width="161" height="31" fill="#dadada"/>\r\n                        </svg>\r\n                       \r\n                    </li>\r\n                    <li class="icons">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                             viewBox="0 0 25 25" width="25" height="25"\r\n                             x="0px" y="0px" >\r\n                            <path d="M15.011,9.129C16.771,9.589 18,11.181 18,13 18,14.819 16.771,16.411 15.011,16.871 14.926,16.893 14.841,16.903 14.757,16.903 14.313,16.903 13.908,16.606 13.79,16.156 13.65,15.622 13.971,15.075 14.505,14.935 15.385,14.706 16,13.91 16,13 16,12.09 15.385,11.294 14.505,11.065 13.971,10.925 13.65,10.378 13.79,9.844 13.931,9.31 14.477,8.995 15.011,9.129z M17.032,5.876C17.278,5.802 17.551,5.822 17.793,5.954 20.388,7.354 22,10.054 22,13 22,15.937 20.396,18.631 17.814,20.033 17.662,20.115 17.499,20.154 17.338,20.154 16.983,20.154 16.64,19.965 16.458,19.632 16.194,19.146 16.374,18.539 16.859,18.275 18.797,17.224 20,15.202 20,13 20,10.79 18.791,8.765 16.844,7.714 16.357,7.452 16.176,6.846 16.438,6.359 16.569,6.117 16.787,5.949 17.032,5.876z M19.186,3.116C19.428,3.036 19.702,3.048 19.949,3.174 23.682,5.057 26,8.821 26,13 26,17.179 23.682,20.943 19.949,22.826 19.805,22.899 19.651,22.934 19.5,22.934 19.134,22.934 18.782,22.732 18.606,22.384 18.357,21.891 18.556,21.289 19.049,21.041 22.103,19.5 24,16.419 24,13 24,9.581 22.103,6.5 19.049,4.959 18.556,4.711 18.357,4.109 18.606,3.616 18.73,3.37 18.943,3.196 19.186,3.116z M12.337,2.102C12.723,2.234,13,2.633,13,3.266L13,22.547C13,23.91,11.996,24.426,10.996,23.426L4.449,17 1,17C0.449,17,0,16.551,-5.305E-06,16L-5.305E-06,10C0,9.449,0.449,9,1,9L4.442,9 11.027,2.535C11.459,2.104,11.952,1.97,12.337,2.102z" fill="#b9b9b9"/>\r\n                        </svg>\r\n                    </li>\r\n                    <li class="icons">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                             viewBox="0 0 25 25" width="25" height="25"\r\n                             x="0px" y="0px" >\r\n                            <path d="M18.249,16.069C18.395,16.069,18.541,16.124,18.651,16.234L22.206,19.789 24.62,17.375C24.779,17.216 24.993,17.134 25.21,17.139 25.308,17.141 25.407,17.161 25.501,17.2 25.804,17.325 26,17.62 26,17.947L26,25.191C26,25.638,25.639,26,25.191,26L17.947,26C17.62,26 17.325,25.802 17.2,25.5 17.158,25.4 17.139,25.295 17.139,25.191 17.139,24.98 17.221,24.775 17.375,24.62L19.789,22.205 16.233,18.65C16.013,18.429,16.013,18.066,16.234,17.846L17.846,16.234C17.957,16.124,18.103,16.069,18.249,16.069z M7.752,16.068C7.898,16.068,8.044,16.123,8.155,16.234L9.765,17.846C9.987,18.068,9.987,18.429,9.765,18.651L6.21,22.205 8.625,24.62C8.856,24.851 8.925,25.199 8.8,25.5 8.675,25.803 8.38,26 8.053,26L0.809,26C0.362,26,0,25.638,0,25.191L0,17.947C0,17.62 0.197,17.325 0.499,17.2 0.599,17.158 0.704,17.138 0.809,17.138 1.019,17.138 1.225,17.221 1.38,17.375L3.794,19.789 7.349,16.233C7.46,16.123,7.606,16.068,7.752,16.068z M17.947,2.98E-08L25.191,2.98E-08C25.638,-5.588E-08,26,0.361,26,0.809L26,8.053C26,8.38 25.803,8.675 25.501,8.8 25.401,8.842 25.296,8.861 25.191,8.861 24.981,8.861 24.775,8.779 24.62,8.625L22.206,6.211 18.651,9.767C18.43,9.987,18.067,9.987,17.845,9.766L16.235,8.154C16.013,7.931,16.013,7.57,16.235,7.348L19.79,3.794 17.375,1.38C17.144,1.148 17.075,0.801 17.2,0.499 17.325,0.196 17.62,-5.588E-08 17.947,2.98E-08z M0.809,2.98E-08L8.053,2.98E-08C8.38,-5.588E-08 8.675,0.197 8.8,0.499 8.842,0.6 8.861,0.704 8.861,0.809 8.861,1.02 8.779,1.225 8.625,1.38L6.211,3.794 9.767,7.35C9.987,7.57,9.987,7.933,9.766,8.154L8.154,9.766C7.932,9.986,7.57,9.986,7.349,9.766L3.794,6.21 1.38,8.625C1.148,8.855 0.801,8.925 0.499,8.8 0.196,8.675 0,8.38 0,8.053L0,0.809C0,0.361,0.361,-5.588E-08,0.809,2.98E-08z" fill="#b9b9b9"/>\r\n                        </svg>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class="videoplayer"></div>\r\n    </div>    \r\n\r\n    <div data-template-name="WebCamMock" class="stencil">\r\n        <div class="webcam" data-mocktype="webcam">\r\n            <div class="wrapper">\r\n                <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                     viewBox="0 0 150 150" \r\n                     width="100%" height="100%" preserveAspectRatio="none" \r\n                     x="0px" y="0px" >\r\n                    <rect y="0.5" x="0.5" width="149" height="149" stroke="#cdcdcd" stroke-width="1" fill="#ffffff" vector-effect="non-scaling-stroke"/>\r\n                    <path d="M 39.5 42 C 39.5 55.3514 46.9761 66.9584 57.97 72.86 C 39.0414 79.6418 25.5 97.7385 25.5 119 L 25.5 149 L 123.5 149 L 123.5 119 C 123.5 97.7385 109.9586 79.6418 91.03 72.86 C 102.0239 66.9584 109.5 55.3514 109.5 42 C 109.5 22.6698 93.8302 7 74.5 7 C 55.1698 7 39.5 22.6698 39.5 42 Z" stroke="#d0d0d0" stroke-width="1" fill="#dadada" vector-effect="non-scaling-stroke"/>\r\n                </svg>\r\n                <div class="controls">\r\n                    <div class="icon">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"\r\n                             viewBox="0 0 38 24" preserveAspectRatio="none" x="0px" y="0px" width="38" height="24">\r\n                            <path d="M 0 0 L 0 24 L 31 24 L 31 17 L 38 22 L 38 2 L 31 7 L 31 0 L 0 0 Z" stroke="#cdcdcd" stroke-width="1" fill="#dadada" vector-effect="non-scaling-stroke"/>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>            \r\n</body>\r\n</html>\r\n'}),define("flat/stencils",["require","exports","config","adapters","templates","core/controls","layout","jquery","jquery_ui","text!flat/stencils.html"],function(t,e,i,n,r,o,s){"use strict";function a(t){return t.toLowerCase().replace(" ","_")}Object.defineProperty(e,"__esModule",{value:!0});var l=t("text!flat/stencils.html"),u=n.property;e.MockBase=n.create(o.Control,{mockType:u().onChange(function(t,e){t&&$(this.target).removeClass(a(t)),e&&$(this.target).addClass(a(e))})}),e.ChartMock=n.create(e.MockBase),e.CoverFlowMock=n.create(e.MockBase),e.GaugeMock=n.create(e.MockBase),
e.WebCamMock=n.create(e.MockBase),e.MapMock=n.create(o.Control,{embedCode:u().onChange(function(t,e){this.refreshMap(e)}).ifAttached(),onAttach:function(){this.refreshMap()},getUrlFromCode:function(){var t=/<iframe(\s+)src="(.*?)".*/g,e=t.exec(this.embedCode());return e&&e.length>=3?e[2]:null},isValidMapEmbedCode:function(){var t=this.getUrlFromCode();if(null!=t)for(var e=["https://www.google.com/maps","https://mapsengine.google.com"],i=0;i<e.length;i++){var n=e[i];if(t.substr(0,n.length)===n)return!0}return!1},refreshMap:function(){var t=$(this.target).find(".mapControl"),e=$(this.target).find(".mapControlStencil"),n=$(this.target).find(".offline"),r=this.panel_bounds();n.hide();var o=this.getUrlFromCode(),s=this.embedCode();if(s&&o){if(this.isValidMapEmbedCode(this.embedCode())){var a=i.VideoEmbedUrl+"?url="+o;$.ajax({dataType:"json",url:a,context:this,success:function(i,n,r){if(s==this.embedCode()){t.html(s);var o=t.children(0);o.removeAttr("width"),o.removeAttr("height"),e.hide(),t.show()}},error:function(i,o,s){n.show(),e.hide(),t.hide(),r.autoHeight()&&n.height(.75*n.width())}})}}else t.html(""),e.show(),t.hide()}}),e.VideoPlayer=n.create(o.Control,{videoUrl:u().onChange(function(t,e){this.refreshVideo(e)}).ifAttached(),sourceWidth:u(),sourceHeight:u(),previousWidth:u(),previousAutoHeight:u(),onAttach:function(){this.refreshVideo(this.videoUrl()),s.onLayoutUpdate(this.updateSize,this)},onDetach:function(){s.unsusbscribeToLayoutUpdate(this.updateSize,this)},forceUpdateSize:function(){var t=this.sourceHeight(),e=this.sourceWidth();if(void 0==e||void 0==t)return!0;var i=$(this.target).find(".videoplayer"),n=i.children(0),r=Math.round($(this.target).outerWidth()*t/e);n.height(r),i.height(r),this.previousWidth($(this.target).outerWidth()),this.previousAutoHeight(this.panel_bounds().autoHeight())},updateSize:function(){return this.previousWidth()==$(this.target).outerWidth()&&this.panel_bounds().autoHeight()==this.previousAutoHeight()||(this.forceUpdateSize(),!0)},jsonQuery:function(){if(this.videoUrl()){var t=this.panel_bounds(),e=i.VideoEmbedUrl+"?url="+encodeURIComponent(this.videoUrl().trim());return t.autoHeight()||(e+="&width="+this.panel_bounds().width()+"&height="+this.panel_bounds().height()),e}return null},refreshVideo:function(){var t=$(this.target).find(".videoplayer"),e=$(this.target).find(".videoplayerStencil"),i=$(this.target).find(".offline");i.hide();var n=this.jsonQuery(),r=this.panel_bounds().autoHeight();void 0!=this.videoUrl()?$.ajax({dataType:"json",url:n,context:this,success:function(i,o,s){if(this.jsonQuery()==n||r!=this.panel_bounds().autoHeight()&&(0==this.jsonQuery().indexOf(n)||0==n.indexOf(this.jsonQuery()))){var a=i.data;this.sourceWidth(a.width),this.sourceHeight(a.height),t.html(a.html);var l=t.children(0);this.panel_bounds().autoHeight()&&(l.removeAttr("width"),l.removeAttr("height"));var u=document.location.protocol;if("file:"===u){var h=l.attr("src");if(h&&"//"==h.substr(0,2)){var d="http:"+h;l.attr("src",d)}}else if("https:"===u){var h=l.attr("src");if(h&&0===h.indexOf("http://")){var d="https://"+h.substr("http://".length);l.attr("src",d)}}e.hide(),t.show(),this.forceUpdateSize()}},error:function(n,r,o){400!=n.status&&(t.html(""),t.hide(),i.show(),e.hide(),this.panel_bounds().autoHeight()&&i.height(.75*i.width()))}}):(t.html(""),t.hide(),e.show())}}),r.DefaultCatalog.addCatalog(r.fromHtml(l,{translateStrings:!0})),n.DefaultCatalog.addCatalog("",e)}),define("flat/combobox",["require","exports","adapters","core/controls","jquery","jquery_ui"],function(t,e,i,n){"use strict";function r(t){var e=t.getBoundingClientRect();return{width:e.width,height:null}}Object.defineProperty(e,"__esModule",{value:!0});var o=i.property,s=i.collection,a=i.css,l=i.updateClass,u=i.toggleClass,h=i.text,d=i.not;e.ComboBoxItem=i.create(n.ItemBase,"<li><a></a></li>",{text:h("a"),isSelected:o().onChange(function(t,e){this.parent&&(e?this.parent.selectItem($(this.target)):this.parent.unselectItem($(this.target)))}).ifAttached()}),e.ComboBox=i.create(n.TextItemsControl,'<span class="ui-combobox"><input readonly="true" title="" class="ui-state-default ui-combobox-input ui-widget ui-widget-content ui-corner-left"/><a class="ui-combobox-toggle" title="Show All Items" tabIndex="-1"></a></span>',{initialize:function(){function t(t){t.mousedown(function(){i=n.autocomplete("widget").is(":visible")}).click(function(){n.focus(),i||n.autocomplete("search","")})}this._built=!1,this._updating=null,this._selected=null;var e=$(this.target).find(".ui-combobox-toggle").button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right"),i=!1,n=$(this.target).find("input");t(e),t(n)},isEnabled:d(u("disabled").and(u("#${_menuId}","disabled"))).asBool(),items:s().onAddOrRemove(function(){this.refreshCombo()}).asAdapter(e.ComboBoxItem),hint:o().onChange(function(t,e){this._selected?$(this.target).removeClass("unselected").find("input").val(this._selected.text()||""):$(this.target).addClass("unselected").find("input").val(e||"")}),background:a("background-color").and(l("#${_menuId}","background-color")).asRgba(),foreground:a("> input.color").and(l("#${_menuId} a","color")).asRgba(),borderColor:a("border-color").and(l("#${_menuId}","border-color")).and(l("> a span","border-color")).asRgba(),fontFamily:n.TextItemsControl.fontFamily.over("> input").and(n.TextItemsControl.fontFamily.over("#${_menuId}")),fontSize:n.TextItemsControl.fontSize.over("> input").and(n.TextItemsControl.fontSize.over("#${_menuId}")),fontStyle:n.TextItemsControl.fontStyle.over("> input").and(n.TextItemsControl.fontStyle.over("#${_menuId}")),opacity:n.Control.opacity.and(n.Control.opacity.over("#${_menuId}")),isOpen:o().onChange(function(t,e){this.isAttached&&(e?$(this.target).find("input").autocomplete("search",""):$(this.target).find("input").autocomplete("close"))}).asBool(),onBoundsChanged:function(){this.isAttached&&$(this._menu()).css("width",this.panel_bounds().width()+"px")},selectItem:function(t){this._selected=t,$(this.target).removeClass("unselected").find("input").val(t.text())},unselectItem:function(t){this._selected===t&&$(this.target).addClass("unselected").find("input").val(this.hint()||"")},getSource:function(t,e){return this.items().map(function(t){var e=$(t.target).find("a").text();return{label:e,value:e,option:t}})},onAttach:function(){this.refreshCombo()},refreshCombo:function(){var t=this;if(!this._updating&&this.isAttached){var e=$(this.target).find("input");this._built&&e.autocomplete("destroy");var i;i=this._menu(),i&&($(this.target).removeClass("ui-combobox-open"),this.attachContext.popups().close(i)),e.autocomplete({create:function(){i=t.getTarget("> ul"),i.id=t._menuId(),t.isEnabled()||$(i).addClass("disabled"),$(i).addClass("comboBox-dropdown").css("width",t.panel_bounds().width()+"px")},appendTo:this.target,delay:0,minLength:0,source:function(e,i){return i(t.getSource())},select:function(e,i){for(var n=t.property("items"),r=0;r<n.length;r++)n[r].isSelected(n[r]===i.item.option);for(var r=0;r<n.length;r++){var o=n[r]===i.item.option;o||n[r].getTarget$().trigger("unselected")}i.item.option.getTarget$().trigger("selected")}}),this._build=!0,e.addClass("ui-state-default"),e.data("ui-autocomplete")._renderItem=function(t,e){return e.option.reloadProperty(),$(e.option.target).appendTo(t)},e.on("autocompleteopen",function(){if(!$(t.target).hasClass("ui-combobox-open")){$(t.target).addClass("ui-combobox-open");var e=t._menu(),i=e.style;i.width=t.panel_bounds().width()+"px",i.left=0,i.display="none",t.attachContext.popups().open(e,t.target,null,!0,null,r)}}),e.on("autocompleteclose",function(){if($(t.target).hasClass("ui-combobox-open")){$(t.target).removeClass("ui-combobox-open");var e=t._menu();t.attachContext.popups().close(e),e.style.display="none"}}),this._updating=!0,this.reloadProperty(this.panel_bounds,this.hint,this.opacity,this.background,this.foreground,this.borderColor,this.fontFamily,this.fontSize,this.fontStyle,this.isOpen),this._updating=!1}},_menuId:function(){return this.target.id+"_dropdown"},_menu:function(){return document.getElementById(this._menuId())}}),i.DefaultCatalog.addCatalog("",e)}),function(){var t=!1,e=/xyz/.test(function(){xyz()})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i,n){function r(t,e){return function(){var i,n=this._super;return this._super=u[t],i=e.apply(this,arguments),this._super=n,i}}function o(){!t&&this.init&&this.init.apply(this,arguments)}var s,a,l=!0,u=this.prototype;n&&(l=!1),t=!0,s=new this,t=!1;for(a in i)i.hasOwnProperty(a)&&(s[a]=l&&"function"==typeof i[a]&&"function"==typeof u[a]&&e.test(i[a])?r(a,i[a]):i[a]);return o.prototype=s,o.constructor=o,o.extend=arguments.callee,n&&(o.typeName=function(){return this.prototype.$type},o.baseType=function(){return this.$type.baseType},o.prototype.getType=function(){return this.$type},o.prototype.getHashCode=function(){return void 0!==this.$hashCode?this.$hashCode:(this.$hashCode=$.ig.nextHashCode++,this.$hashCode)}),o},"function"==typeof define&&define.amd&&define.amd.jQuery&&define("ig.util",[],function(){return Class})}(),$.fn.startsWith=function(t){return 0===this[0].innerHTML.indexOf(t)},$.ig=$.ig||{},$.ig.util=$.ig.util||{},$.ig.util.browserVersion="",$.ig.util.isIE=window.navigator.userAgent.indexOf("MSIE")>-1,$.ig.util.isIEOld=!(!$.ig.util.isIE||window.HTMLElement),$.ig.util.isIE&&($.ig.util.browserVersion=parseInt(window.navigator.userAgent.substr(window.navigator.userAgent.indexOf("MSIE ")+4),10),$.ig.util.isIE7=$.ig.util.browserVersion<=7,$.ig.util.isIE8=8===$.ig.util.browserVersion,$.ig.util.isIE9=9===$.ig.util.browserVersion,$.ig.util.isIE10=$.ig.util.browserVersion>=10),$.ig.util.isChrome=window.chrome,$.ig.util.isFF=void 0!==window.mozInnerScreenX,$.ig.util.isOpera=!!window.opera,$.ig.util.isSafari=!!(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0),$.ig.util.isWebKit=!!window.webkitURL,$.ajaxQueue=function(t,e){var i;"undefined"==typeof document.ajaxQueue&&(document.ajaxQueue={queue:{}}),"undefined"==typeof document.ajaxQueue.queue[t]&&(document.ajaxQueue.queue[t]=[]),"undefined"!=typeof e&&(i=e.complete,e.complete=function(e,n){document.ajaxQueue.queue[t].shift(),"undefined"!=typeof i&&i(e,n),document.ajaxQueue.queue[t].length>0&&$.ajax(document.ajaxQueue.queue[t][0])},document.ajaxQueue.queue[t].push(e),1===document.ajaxQueue.queue[t].length&&$.ajax(document.ajaxQueue.queue[t][0]))},"undefined"==typeof $.ig.useDefineProperty&&($.ig.useDefineProperty=!0),$.ig.extendNativePrototype=function(t,e,i){if($.ig.useDefineProperty)try{Object.defineProperty(t,e,{value:i,enumerable:!1,configurable:!0,writable:!0})}catch(n){t[e]=i}else t[e]=i},Date.prototype.stdTimezoneOffset=function(){var t,e,i,n;return t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1),n=e.getTimezoneOffset(),i=t.getTimezoneOffset(),i>0&&n>0?Math.max(i,n):Math.min(i,n)},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()},$.ig.findPath=function(t,e){var n,r=t;if(n=e.split("."),n.length>0)for(i=0;i<n.length&&r;i++)r=r[n[i]];return r},$.ig.formatter=function(t,e,i,n,r,o){var s,a,l,u,h,d,c,p,f,g,m,v,_,y,b,w,x,C,T,S,k,P,E=t&&t.getTime,I=$.ig.regional.defaults,D=o||"inline-block";if("checkbox"===i&&n)return h='<span style="width:100%;display:'+D+';overflow:hidden;text-align:center;">',h+='<span class="ui-state-default ui-corner-all ui-igcheckbox-small" style="display:inline-block">',h+='<span style="display:block" class="'+(t?"":"ui-igcheckbox-small-off "),h+'ui-icon ui-icon-check ui-igcheckbox-small-on"></span></span></span>';if(!t&&0!==t&&t!==!1)return"&nbsp;";if("date"===e||E)return t?E?(f=I[i&&"null"!==i&&"undefined"!==i?i+"Pattern":"datePattern"]||i,r?(a=t.getUTCFullYear(),u=t.getUTCMonth()+1,E=t.getUTCDate(),l=t.getUTCHours(),s=t.getUTCMinutes(),h=t.getUTCSeconds(),d=t.getUTCMilliseconds()):(a=t.getFullYear(),u=t.getMonth()+1,E=t.getDate(),l=t.getHours(),s=t.getMinutes(),h=t.getSeconds(),d=t.getMilliseconds()),f=f.replace("MMMM","").replace("MMM","").replace("dddd","").replace("ddd",""),f.indexOf("t")>=0&&(c=l>=12?I.pm:I.am,c=c||" ",f.indexOf("tt")>=0?f=f.replace("tt","t"):c.length>1&&(c=c.substring(0,1)),f=f.replace("t","")),f.indexOf("h")>=0&&l>12&&(l-=12),f=f.replace(/H/g,"h"),f=f.replace("yyyy",a<10?"000"+a:a<100?"00"+a:a<1e3?"0"+a:a).replace("yy",(a%=100)<10?"0"+a:a).replace("y",a%100).replace("MM",u<10?"0"+u:u).replace("M",u),f=f.replace("dd",E<10?"0"+E:E).replace("d",E),f=f.replace("hh",l<10?"0"+l:l).replace("h",l).replace("mm",s<10?"0"+s:s).replace("m",s).replace("ss",h<10?"0"+h:h).replace("s",h),f=f.replace("fff",d<10?"00"+d:d<100?"0"+d:d).replace("ff",(d=Math.round(d/10))<10?"0"+d:d).replace("f",Math.round(d/100)),f=f.replace("",I.monthNames[u-1]).replace("",I.monthNamesShort[u-1]).replace("",c),f=f.replace("",I.dayNames[t.getDay()]).replace("",I.dayNamesShort[t.getDay()])):t:"&nbsp;";if(E="double"===i,E||(C=i===(w="currency"),C||(T=i===(x="percent"),T||(k="int"===i))),m="number"==typeof t,E||m||k||C||T||"number"===e){if(m||(t=parseFloat(t.replace("(","-").replace(/[^0-9\-eE\.\+]/gm,""))),isNaN(t))return"&nbsp;";if(S=C?w:T?x:"numeric",f=I[S+(t<0?"Negative":"Positive")+"Pattern"]||"n",g=i?i.length:0,g>0&&("0"===(h=i.charAt(0))||"#"===h)){if(s=u=0,v=i.indexOf("."),v>0)for(u=g-1-v;++v<g&&"0"===i.charAt(v);)s++}else s=I[S+"MinDecimals"]||0,E?u=999:(u=I[S+"MaxDecimals"],u=u&&!k?u:0);for(t<0&&(t=-t),999===u?t=t.toString(10):$.ig.util.isIE&&$.ig.util.browserVersion<=8?(P=Math.pow(10,u),t=(Math.round(P*t)/P).toFixed(u)):t=t.toFixed(u),(k=t.indexOf("E"))<0&&(k=t.indexOf("e")),p="",k>0&&(p=t.substring(k),t=t.substring(0,k)),v=t.indexOf("."),g=t.length,k=0;v>0&&u>s+k&&"0"===t.charAt(g-1-k);)k++;for(k>0&&(t=t.substring(0,g-=k)),v===g-1&&(t=t.substring(0,v)),v>0&&(g=v),h=I[S+"DecimalSeparator"],h&&(t=t.replace(".",h)),h=I[S+"GroupSeparator"],b=h?I[S+"Groups"]:"",_=y=b.length>0?b[k=0]:0;_>0&&--g>0;)0===--_&&(t=t.substring(0,g)+h+t.substring(g),_=b[++k],!_||_<1?_=y:y=_);return h=I[S+"Symbol"]||"",f.replace("-",I.negativeSign).replace("n",t+p).replace("$",h)}if(i){if(i.indexOf(h="{0}")>=0)return i.replace(h,t);if(i.indexOf(h="[0]")>=0)return i.replace(h,t)}return t||0===t?t:"&nbsp;"},$.ig._regional={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am:"AM",pm:"PM",datePattern:"M/d/yyyy",dateLongPattern:"dddd, MMMM dd, yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timePattern:"h:mm tt",timeLongPattern:"h:mm:ss tt",negativeSign:"-",numericNegativePattern:"-$n",numericDecimalSeparator:".",numericGroupSeparator:",",numericGroups:[3],numericMaxDecimals:2,numericMinDecimals:0,currencyPositivePattern:"$n",currencyNegativePattern:"$(n)",currencySymbol:"$",currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyGroups:[3],currencyMaxDecimals:2,currencyMinDecimals:2,percentPositivePattern:"n$",percentNegativePattern:"-n$",percentSymbol:"%",percentDecimalSeparator:".",percentGroupSeparator:",",percentGroups:[3],percentDisplayFactor:100,percentMaxDecimals:2,percentMinDecimals:2},$.ig.regional=$.ig.regional||{},$.ig.regional.defaults=$.ig._regional,$.ig.setRegionalDefault=function(t){$.ui&&$.ui.igEditor?$.ui.igEditor.setDefaultCulture(t):$.ig.regional.defaults=$.extend($.ig._regional,"string"==typeof t?$.ig.regional[t]:t)},$.ig.calcSummaries=function(summaryFunction,data,caller,dataType){var sum=function(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i};switch(summaryFunction=summaryFunction.toLowerCase(),summaryFunction.startsWith("custom")&&(summaryFunction="custom"),summaryFunction){case"min":return 0===data.length?"date"===dataType?null:0:Math.min.apply(Math,data);case"max":return 0===data.length?"date"===dataType?null:0:Math.max.apply(Math,data);case"sum":return sum(data);case"avg":return 0===data.length?0:sum(data)/data.length;case"count":return data.length;case"custom":if(void 0===caller||null===caller)return null;if("function"===$.type(caller))return caller(data);if("string"===$.type(caller))return(caller=eval(caller))(data)}},$.ig.getMaxZIndex=function(t){var e,i=1e4;return $(".ui-dialog").each(function(){t&&$(this)[0].id===t||(e=$(this).css("z-index"),isNaN(e)||(i=Math.max(i,e)))}),i},$.ig.uid=function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)},$.ig.nextHashCode=0,$.ig.util.ensureUniqueId=function(t){if(!t.getHashCode){var e=$.ig.nextHashCode++;t.getHashCode=function(){return e}}},$.ig.getColType=function(t){var e=typeof t;return"undefined"===e?"string":"object"===e&&t instanceof Date?"date":"boolean"===e?"bool":"number"===e?e:"object"===e?"object":"string"},$.ig.typeIdentifierCache={},$.ig.nextTypeIdentifier=0,$.ig.Type=Class.extend({init:function(t,e,i){this.specializationCache={},this.name=t,this.typeArguments=null,this.baseType=null,this.interfaces=null,e&&(this.baseType=e),i&&(this.interfaces=i),$.ig.typeIdentifierCache[t]?this.identifier=$.ig.typeIdentifierCache[t]:(this.identifier=$.ig.nextTypeIdentifier++,$.ig.typeIdentifierCache[t]=this.identifier)},typeName:function(){return this.name},getSpecId:function(t){if(1===t.length)return t[0]?t[0].typeName?t[0].stringId?t[0].stringId:t[0].identifier.toString():t[0].toString():"undef";for(var e="",i=0;i<t.length;i++){t[i];e+=t[0]?t[0].typeName?t[0].stringId?t[0].stringId:t[0].identifier.toString():t[0].toString():"undef"}return e},specializationCache:null,specialize:function(){var t=this.getSpecId(arguments),e=this.specializationCache[t];if(e)return e;e=new $.ig.Type(this.name,this.baseType,this.interfaces);var i=this.typeArguments,n=!1;if(i&&(n=!0),e.typeArguments=[],n)for(var r=0;r<i.length;r++)e.typeArguments[r]=arguments[i[r]];else for(var r=0;r<arguments.length;r++)e.typeArguments[r]=arguments[r];if(this.baseType&&this.baseType.typeArguments&&(e.baseType=this.baseType.specialize(arguments)),this.interfaces)for(var r=0;r<this.interfaces.length;r++)e.interfaces[r]=this.interfaces[r].specialize(arguments);return this.specializationCache[t]=e,e.stringId=e.generateString(),e},equals:function(t){if(!(t instanceof $.ig.Type))return!1;if(this.identifier!==t.identifier)return!1;if(null===this.typeArguments&&null===t.typeArguments)return!0;if(null===this.typeArguments&&null!==t.typeArguments)return!1;if(null!==this.typeArguments&&null===t.typeArguments)return!1;if(this.typeArguments.length!==t.typeArguments.length)return!1;for(var e=0;e<this.typeArguments.Length;e++)if(!this.typeArguments[e].equals(t.typeArguements[e]))return!1;return!0},checkEquals:function(t,e){return t instanceof $.ig.Type?t.equals(e):e instanceof $.ig.Type?e.equals(t):t==e},op_Equality:function(t,e){return t.equals(other)},op_Inequality:function(t,e){return!t.equals(e)},generateString:function(){if(this.typeArguments&&0!=this.typeArguments.length){for(var t=this.identifier.toString()+"[",e=!0,i=0;i<this.typeArguments.count;i++)e?e=!1:t+=",",t+=this.typeArguments[i].toString();return t+="]"}return this.identifier.toString()}},!0),$.ig.Object=Class.extend({init:function(){},$type:new $.ig.Type("Object")},!0),$.ig.Enum=Class.extend({$type:new $.ig.Type("Enum",$.ig.Object.prototype.$type)},!0),$.ig.ValueType=Class.extend({init:function(){},$type:new $.ig.Type("ValueType",$.ig.Object.prototype.$type)},!0),$.ig.INotifyPropertyChanged=Class.extend({init:function(){},_PropertyChanged:function(){},$type:new $.ig.Type("INotifyPropertyChanged")},!0),$.ig.PropertyChangedEventArgs=$.ig.Object.extend({init:function(t){this._propertyName=t},_propertyName:null,propertyName:function(t){return 0===arguments.length?this._propertyName:void(this._propertyName=t)},$type:new $.ig.Type("PropertyChangedEventArgs",$.ig.Object.$type)},!0),$.ig.XmlNodeType=Class.extend({_Attribute:2,_CDATA:4,_Comment:8,_Document:9,_DocumentFragment:11,_DocumentType:10,_Element:1,_Entity:6,_EntityReference:5,_Notation:12,_ProcessingInstruction:7,_Text:3,element:1,attribute:2,text:3,cDATA:4,entityReference:5,entity:6,processingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},!0),$.ig.XmlDocumentParser=Class.extend({parse:function(t){if(window.DOMParser)try{var e=new DOMParser;return e.parseFromString(t,"text/xml")}catch(t){}else for(var i=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],n=0;n<i.length;n++)try{var r=new ActiveXObject(progIDs[n]);return r.async=!1,r.loadXML(t),r.setProperty("SelectionLanguage","XPath"),r}catch(t){}return null}},!0),$.ig.Array=Array,$.ig.extendNativePrototype(Array.prototype,"add",function(t){this[this.length]=t}),$.ig.addToArray=function(t,e){t[t.length]=e},$.ig.indexInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1},$.ig.arrayContains=function(t,e){var i=t.indexOf(e);return i>=0},$.ig.extendNativePrototype(Array.prototype,"indexOf",function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1}),$.ig.extendNativePrototype(Array.prototype,"copy",function(t,e,n,r,o){for(i=0;i<o;i++)n[r+i]=t[e+i]}),$.ig.removeFromArray=function(t,e,i){var n=t.slice((i||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,n)},$.ig.extendNativePrototype(Array.prototype,"contains",function(t){var e=this.indexOf(t);return e>=0}),$.ig.extendNativePrototype(Array.prototype,"insert",function(t,e){this.splice(t,0,e)}),$.ig.extendNativePrototype(Array.prototype,"removeAt",function(t){this.splice(t,1)}),$.ig.extendNativePrototype(Array.prototype,"removeItem",function(t){var e=this.indexOf(t);return e>=0&&(this.splice(e,1),!0)}),$.ig.extendNativePrototype(Array.prototype,"getEnumerator",function(){return new $.ig.ArrayEnumerator(this)}),$.ig.extendNativePrototype(Array.prototype,"count",function(){return this.length}),$.ig.extendNativePrototype(Array.prototype,"item",function(t,e){return 2===arguments.length?(this[t]=e,e):this[t]}),$.ig.extendNativePrototype(Array.prototype,"getLength",function(t){return 0===t?this.length:this.dimensionLength[t-1]}),$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0}),$.ig.extendNativePrototype(Array.prototype,"resize",function(){this.length=0}),$.ig.ArrayEnumerator=Class.extend({init:function(t){this._array=t,this._index=-1},current:function(){return this._array[this._index]},moveNext:function(){return this._index++,this._index<this._array.length},reset:function(){this._index=-1}},!0),$.ig.Date=Class.extend({init:function(){},$type:new $.ig.Type("Date",$.ig.Object.$type)},!0),$.ig.Date.prototype.now=function(){return new Date},$.ig.Date.prototype.fromMilliseconds=function(t){return t},$.ig.util.canAssign=function(t,e){if($.ig.Type.prototype.checkEquals(t,e))return!0;if(e.interfaces)for(var i=0;i<e.interfaces.length;i++)if($.ig.util.canAssign(t,e.interfaces[i]))return!0;return!!e.baseType&&$.ig.util.canAssign(t,e.baseType)},$.ig.util.cast=function(t,e){if(null==e)return null;var i=e;return e.$type&&(i=e.$type),$.ig.util.canAssign(t,i)?e:null},$.ig.Dictionary=Class.extend({init:function(){this.proxy={},this.keysHolder=this.proxy,this._count=0},$type:new $.ig.Type("Dictionary",$.ig.Object.prototype.$type),proxy:null},!0),$.ig.Dictionary.prototype.getDictionary=function(t){var e=new $.ig.Dictionary;return e.proxy=t,e.keysHolder=t,e},$.ig.Dictionary.prototype.containsKey=function(t){return void 0!==this.proxy[t]},$.ig.Dictionary.prototype.count=function(){return this._count},$.ig.Dictionary.prototype.item=function(t,e){return 1===arguments.length?this.proxy[t]:(this.proxy[t]||this._count++,void(this.proxy[t]=e))},$.ig.Dictionary.prototype.add=function(t,e){this.proxy[t]||this._count++,this.proxy[t]=e},$.ig.Dictionary.prototype.remove=function(t){delete this.proxy[t],this._count--},$.ig.Dictionary.prototype.keys=function(){return new $.ig.KeyEnumerator(this)},$.ig.Dictionary.prototype.values=function(){return new $.ig.ValueEnumerator(this)},$.ig.Dictionary.prototype.clear=function(){this.proxy={},this.keysHolder=this.proxy,this._count=0},$.ig.EventArgs=$.ig.Object.extend({init:function(){}},!0),$.ig.Number=Class.extend({$type:new $.ig.Type("Number",$.ig.Object.prototype.$type)},!0),$.ig.Number.prototype.parseInt=function(t,e){return parseInt(t,e)},$.ig.Number.prototype.log10=function(t){return Math.log(t)/Math.log(10)},$.ig.Single=Class.extend({},!0),$.ig.Single.prototype.parseFloat=function(t){return parseFloat(t)},$.ig.Single.prototype.isInfinity=function(t){return t===1/0||t===-(1/0)},$.ig.Int32=Class.extend({$type:new $.ig.Type("Int32",$.ig.Object.prototype.$type)},!0),$.ig.Double=Class.extend({$type:new $.ig.Type("Double",$.ig.Object.prototype.$type)},!0),$.ig.Delegate=Class.extend({$type:new $.ig.Type("Delegate",$.ig.Object.prototype.$type)},!0),$.ig.Delegate.prototype.combine=function(t,e){if(!t)return e;if(!e)return t;var i=function(){return t.apply(null,arguments),e.apply(null,arguments)};return i.enumerate=function(i){t&&(t.enumerate?t.enumerate(i):i.push(t)),e&&(e.enumerate?e.enumerate(i):i.push(e))},i},$.ig.Delegate.prototype.remove=function(t,e){if(!t)return null;if(!e)return t;var i=[],n=null;t.enumerate?t.enumerate(i):i.push(t);for(var r=0;r<i.length;r++)e.original&&i[r].original==e.original&&i[r].target==e.target||i[r]!=e&&(n=$.ig.Delegate.prototype.combine(n,i[r]));return n},$.ig.ReflectionUtil=Class.extend({$type:new $.ig.Type("ReflectionUtil",$.ig.Object.prototype.$type)},!0),$.ig.ReflectionUtil.prototype.getPropertyGetter=function(t,e){return"function"==typeof t.prototype[e]?function(i){return t.prototype[e].apply(i,arguments)}:function(t){return t[e]}},$.ig.IEnumerable=Class.extend({$type:new $.ig.Type("IEnumerable",null)},!0),$.ig.IEnumerator=Class.extend({$type:new $.ig.Type("IEnumerator",null)},!0),$.ig.IEqualityComparer$1=Class.extend({$type:new $.ig.Type("IEqualityComparer",$.ig.Object.prototype.$type)},!0),$.ig.IList=Class.extend({$type:new $.ig.Type("IList",null,[$.ig.IEnumerable.prototype.$type])},!0),$.ig.Error=Class.extend({init:function(t){if(t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}else this.__message=null,this.__innerException=null},init1:function(t,e){this.__message=e},init2:function(t,e,i){this.__message=e,this.__innerException=i},$type:new $.ig.Type("Error",$.ig.Object.prototype.$type)},!0),$.ig.Error.prototype.message=function(){return this.__message},$.ig.Error.prototype.innerException=function(){return this.__innerException},$.ig.IDictionary=Class.extend({$type:new $.ig.Type("IDictionary",null)},!0),$.ig.ValueEnumerator=Class.extend({init:function(t){this._dict=t,this._index=-1,this._count=0,this._values=[];for(var e in this._dict.proxy)this._values[this._count]=this._dict.proxy[e],this._count++},current:function(){return this._values[this._index]},moveNext:function(){return this._index++,this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){return this.reset(),this},$type:new $.ig.Type("ValueEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},!0),$.ig.KeyEnumerator=Class.extend({init:function(t){this._dict=t,this._index=-1,this._count=0,this._keys=[];for(var e in this._dict.proxy)this._keys[this._count]=e,this._count++},current:function(){return this._keys[this._index]},moveNext:function(){return this._index++,this._index<this._count},reset:function(){this._index=-1},getEnumerator:function(){return this.reset(),this},$type:new $.ig.Type("KeyEnumerator",$.ig.Object.prototype.$type,[$.ig.IEnumerable.prototype.$type])},!0),$.ig.intDivide=function(t,e){var i=t/e;return i>=0?Math.floor(i):Math.ceil(i)},$.ig.Nullable$1=Class.extend({$t:null,init:function(t,e){this.$t=t,this.$type=this.$type.specialize(this.$t),$.ig.Object.prototype.init.call(this),this._value=e},hasValue:function(){return null!==this._value},_value:null,value:function(t){return 1!==arguments.length?this._value:void(this._value=t)},getValueOrDefault:function(){return this.hasValue()?this._value:getDefaultValue()},getDefaultValue:function(){return $.ig.util.canAssign($.ig.Number.prototype.$type,$t)?0:!$.ig.util.canAssign($.ig.Boolean.prototype.$type,$t)&&null},getValueOrDefault1:function(t){return this.hasValue()?this._value:t},isNullable:!0,$type:new $.ig.Type("Nullable$1",$.ig.Object.prototype.$type)},!0),$.ig.util.toNullable=function(t,e){if(e&&e.isNullable)return e;var i=new $.ig.Nullable$1(t,e);return i},$.ig.util.nullableAdd=function(t,e){if(t.isNullable&&!t.hasValue())return null;if(e.isNullable&&!e.hasValue())return null;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),$.ig.util.toNullable($.ig.Number.prototype.$type,i+n)},$.ig.util.nullableSubtract=function(t,e){if(t.isNullable&&!t.hasValue())return null;if(e.isNullable&&!e.hasValue())return null;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),$.ig.util.toNullable($.ig.Number.prototype.$type,i-n)},$.ig.util.nullableMultiply=function(t,e){if(t.isNullable&&!t.hasValue())return null;if(e.isNullable&&!e.hasValue())return null;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),$.ig.util.toNullable($.ig.Number.prototype.$type,i*n)},$.ig.util.nullableDivide=function(t,e){if(t.isNullable&&!t.hasValue())return null;if(e.isNullable&&!e.hasValue())return null;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),$.ig.util.toNullable($.ig.Number.prototype.$type,i/n)},$.ig.util.nullableModulus=function(t,e){if(t.isNullable&&!t.hasValue())return null;if(e.isNullable&&!e.hasValue())return null;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),$.ig.util.toNullable($.ig.Number.prototype.$type,i%n)},$.ig.util.nullableGreaterThan=function(t,e){if(t.isNullable&&!t.hasValue())return!1;if(e.isNullable&&!e.hasValue())return!1;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),i>n},$.ig.util.nullableGreaterThanOrEqual=function(t,e){if(t.isNullable&&!t.hasValue())return!1;if(e.isNullable&&!e.hasValue())return!1;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),i>=n},$.ig.util.nullableLessThan=function(t,e){if(t.isNullable&&!t.hasValue())return!1;if(e.isNullable&&!e.hasValue())return!1;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),i<n},$.ig.util.nullableLessThanOrEqual=function(t,e){if(t.isNullable&&!t.hasValue())return!1;if(e.isNullable&&!e.hasValue())return!1;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),i<=n},$.ig.util.nullableEquals=function(t,e){var i=null==t||t.IsNullable&&!t.hasValue(),n=null==e||e.IsNullable&&!e.hasValue();if(i&&n)return!0;if(i!=n)return!1;var r=t,o=e;return t.isNullable&&(r=t.value()),e.isNullable&&(o=e.value()),r==o},$.ig.util.nullableNotEquals=function(t,e){if(t.isNullable&&!t.hasValue())return!1;if(e.isNullable&&!e.hasValue())return!1;var i=t,n=e;return t.isNullable&&(i=t.value()),e.isNullable&&(n=e.value()),i!=n},$.ig.util.wellKnownColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",
gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},$.ig.util.stringToColor=function(t){var e={a:255,r:0,g:0,b:0},i=t.replace(" ","").toLowerCase();if("transparent"===i)return{a:0,r:0,g:0,b:0};if(void 0!==$.ig.util.wellKnownColors[i]&&(t=$.ig.util.wellKnownColors[i]),0===t.lastIndexOf("rgba",0)){t=t.replace("rgba","").replace(" ","").replace("(","").replace(")","");var n=t.split(",");e.r=parseInt(n[0]),e.g=parseInt(n[1]),e.b=parseInt(n[2]),e.a=255*parseFloat(n[3])}else if(0===t.lastIndexOf("rgb",0)){t=t.replace("rgb","").replace(" ","").replace("(","").replace(")","");var n=t.split(",");e.r=parseInt(n[0]),e.g=parseInt(n[1]),e.b=parseInt(n[2])}else t=t.replace("#","").replace(" ",""),6===t.length?(e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16)):3===t.length&&(e.r=parseInt(t.substr(0,1)+t.substr(0,1),16),e.g=parseInt(t.substr(1,1)+t.substr(1,1),16),e.b=parseInt(t.substr(2,1)+t.substr(2,1),16));return e},$.ig.util.getBinary=function(t,e,i){var n,r,o,s=!1;if("undefined"==typeof XMLHttpRequest){try{o=ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{o=ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}o=new ActiveXObject("Microsoft.XMLHTTP")}else o=new XMLHttpRequest;o.overrideMimeType?o.overrideMimeType("text/plain; charset=x-user-defined"):"undefined"!=typeof VBArray&&(s=!0),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)if(s){n=new VBArray(o.responseBody).toArray();for(var t=0;t<n.length;t++)n[t]=String.fromCharCode(n[t]);r=n.join(""),e(r)}else e(o.responseText);else i(o.error)},o.open("GET",t,!0),o.send(null)},$.ig.util.extCopy=function(t,e){var i,n,r;for(n=0;n<e.length;n++){var o=e[n][0],s=e[n][1];for(r=0;r<o.length;r++)for(i=0;i<s.length;i++)$.ig.extendNativePrototype(o[r].prototype,s[i],t.prototype[s[i]])}},$.ig.util.bulkDefine=function(t){var e=0,i=null,n=null;for(e=0;e<t.length;e++)i=t[e],n=i.split(":"),$.ig[i]=$.ig[i]||Class.extend({$type:new $.ig.Type(i,$.ig.Object.prototype.$type),$placeholder:!0},!0)},$.ig.util.defType=function(t,e,i){var n=!0;$.ig[t]&&!$.ig[t].prototype.$placeholder&&(n=!1),n&&($.ig[t]=$.ig[e].extend(i))},$.ig.util.getClassCount=function(t,e){var i,n,r,o,s=document.styleSheets,a=0,l=0;if(t=t.toLowerCase(),!s)return 0;for(var u=0;u<s.length;u++)try{if(i=s[u],n=i.rules?i.rules:i.cssRules,!n)continue;for(var h=0;h<n.length;h++)r=n[h].selectorText,r&&(r=r.toLowerCase(),e?0==r.indexOf(t)&&(o=parseInt(r.replace(t,"")),isNaN(o)?l++:a=Math.max(a,o)):r==t&&a++)}catch(t){}return Math.max(a,l)},$.ig.util._isCanvasSupported=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},$.ig.util._renderUnsupportedBrowser=function(t,e){if(!t.events||!t.events.browserNotSupported||t._trigger(t.events.browserNotSupported)){var i,n,r=t.element,o=t.options,e=e||$.ig.util.locale,s=$("<div></div>").css("overflow","auto").addClass(t.css.unsupportedBrowserClass).appendTo(r);n=$.ig.util.isIE?"Internet Explorer "+$.ig.util.browserVersion:$.ig.util.isOpera?"Opera "+$.ig.util.browserVersion:$.ig.util.isWebKit?"Webkit "+$.ig.util.browserVersion:$.ig.util.isFF?"Mozilla Firefox "+$.ig.util.browserVersion:$.ig.util.browserVersion,$("<div></div>").addClass("ui-html5-current-browser-label").html(e.currentBrowser.replace("{0}",n)).appendTo(s),$("<div></div>").addClass("ui-html5-non-html5-text").html(e.unsupportedBrowser).appendTo(s),i=$("<ul></ul>").addClass("ui-html5-browsers-list").appendTo(s),$("<a></a>").attr("href",e.chromeDownload).attr("target","_blank").addClass("ui-html5-chrome-icon").html(e.chrome8).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(i)),$("<a></a>").attr("href",e.firefoxDownload).attr("target","_blank").addClass("ui-html5-firefox-icon").html(e.firefox36).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(i)),$("<a></a>").attr("href",e.operaDownload).attr("target","_blank").addClass("ui-html5-Opera-icon").html(e.opera11).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(i)),$("<a></a>").attr("href",e.safariDownload).attr("target","_blank").addClass("ui-html5-safari-icon").html(e.safari5).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(i)),$("<a></a>").attr("href",e.ieDownload).attr("target","_blank").addClass("ui-html5-ie-icon").html(e.ie9).appendTo($("<li></li>").addClass("ui-corner-all").appendTo(i)),t.css.unsupportedBrowserClass.indexOf(" ui-html5-non-html5")===-1&&r.addClass("ui-html5-non-html5"),o.width&&r.css("width",o.width),o.height&&r.css("height",o.height)}},function(t){t.ig.util.profiler={};var e={};t.ig.util.profiler.recordTime=function(t,i){var n="meth: "+t;e[n]||(e[n]=[]),e[n][e[n].length]=i},t.ig.util.profiler.reset=function(){e={}},t.ig.util.profiler.logReport=function(){var t=[],i=0,n=0,r=0;for(var o in e)if(0===o.indexOf("meth:")){var s={};s.name=o.substr(5),n=0;for(var a=0;a<e[o].length;a++)n+=e[o][a];var r=n/e[o].length;s.avg=r,s.callCount=e[o].length,t[i]=s,i++}t.sort(function(t,e){return t.avg<e.avg?1:t.avg>e.avg?-1:t.avg==e.avg?0:void 0});for(var l=0;l<Math.min(200,t.length);l++);}}(jQuery),$.ig.extendNativePrototype(Function.prototype,"invoke",function(){return this.apply(null,arguments)}),$.ig.extendNativePrototype(Function.prototype,"on",function(t){var e=this,i=function(){return e.apply(t,arguments)};return i.original=this,i.target=t,i}),String.prototype.startsWith=function(t){return 0===this.indexOf(t)},String.prototype.endsWith=function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)===e},String.prototype.remove=function(t,e){return!e||t+e>this.length?this.substr(0,t):this.substr(0,t)+this.substr(t+e)},String.prototype.compareTo=function(t){return this==t?0:this<t?-1:1},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),String.prototype.fullTrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},String.getHashCode=function(){return this},String.isNullOrEmpty=function(t){return!t||t.length<1},String.empty=function(){return""},String.concat=function(){return[].join.call(arguments,"")},String.concat1=function(t,e){return[].join.call(arguments,"")},String.concat2=function(t,e){return[].join.call(arguments,"")},String.concat3=function(){return[].join.call(arguments,"")},String.concat4=function(t,e,i){return[].join.call(arguments,"")},String.concat5=function(t,e,i){return[].join.call(arguments,"")},String.concat6=function(t,e,i,n){return[].join.call(arguments,"")},String.concat7=function(t,e,i,n){return[].join.call(arguments,"")},String.prototype.equals=function(t){return this==t},Array.prototype.filter||(Array.prototype.filter=function(t){var e,i,n,r,o,s;if(null==this)throw new TypeError;if(e=Object(this),i=e.length>>>0,"function"!=typeof t)throw new TypeError;for(n=[],r=arguments[1],s=0;s<i;s++)s in e&&(o=e[s],t.call(r,o,s,e)&&n.push(o));return n}),$.ig.extendNativePrototype(Array.prototype,"insertRange",function(t,e){var i=0;if(0==this.length)for(i=0;i<e.length;i++)this[t++]=e[i];else for(i=0;i<e.length;i++)this.splice(t++,0,e[i])}),$.ig.extendNativePrototype(Array.prototype,"clone",function(){return $.extend(!0,[],this)}),$.ig.extendNativePrototype(Array.prototype,"clear",function(){this.length=0}),Math.log10=function(t){return Math.log(t)/Math.log(10)},Math.logBase=function(t,e){return Math.log(t)/Math.log(e)},Math.sign=function(t){return t<0?-1:t>0?1:0},Number.getHashCode=function(){return this},Number.isInfinity=function(t){return t===1/0||t===-(1/0)},window.toStaticHTML=window.toStaticHTML||function(t){return t},window.MSApp=window.MSApp||{},window.MSApp.execUnsafeLocalFunction=window.MSApp.execUnsafeLocalFunction||function(t){t.apply()},$.ig.util.jqueryFlagsCache={},$.ig.util.jqueryCreateFlags=function(t){var e,i,n=$.ig.util.jqueryFlagsCache[t]={};for(t=t.split(/\s+/),e=0,i=t.length;e<i;e++)n[t[e]]=!0;return n},$.ig.util.jqueryCallbacks=function(t){t=t?$.ig.util.jqueryFlagsCache[t]||$.ig.util.jqueryCreateFlags(t):{};var e,i,n,r,o,s,a=[],l=[],u=function(e){var i,n,r,o;for(i=0,n=e.length;i<n;i++)r=e[i],o=jQuery.type(r),"array"===o?u(r):"function"===o&&(t.unique&&d.has(r)||a.push(r))},h=function(u,h){for(h=h||[],e=!t.memory||[u,h],i=!0,n=!0,s=r||0,r=0,o=a.length;a&&s<o;s++)if(a[s].apply(u,h)===!1&&t.stopOnFalse){e=!0;break}n=!1,a&&(t.once?e===!0?d.disable():a=[]:l&&l.length&&(e=l.shift(),d.fireWith(e[0],e[1])))},d={add:function(){if(a){var t=a.length;u(arguments),n?o=a.length:e&&e!==!0&&(r=t,h(e[0],e[1]))}return this},remove:function(){if(a)for(var e=arguments,i=0,r=e.length;i<r;i++)for(var l=0;l<a.length&&(e[i]!==a[l]||(n&&l<=o&&(o--,l<=s&&s--),a.splice(l--,1),!t.unique));l++);return this},has:function(t){if(a)for(var e=0,i=a.length;e<i;e++)if(t===a[e])return!0;return!1},empty:function(){return a=[],this},disable:function(){return a=l=e=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,e&&e!==!0||d.disable(),this},locked:function(){return!l},fireWith:function(i,r){return l&&(n?t.once||l.push([i,r]):t.once&&e||h(i,r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},$.ig.util.jqueryDeferred=function(t){var e,i=$.ig.util.jqueryCallbacks("once memory"),n=$.ig.util.jqueryCallbacks("once memory"),r=$.ig.util.jqueryCallbacks("memory"),o="pending",s={resolve:i,reject:n,notify:r},a={done:i.add,fail:n.add,progress:r.add,state:function(){return o},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return l.done(t).fail(e).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,i){return $.ig.util.jqueryDeferred(function(n){jQuery.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,r=e[0],o=e[1];jQuery.isFunction(r)?l[t](function(){i=r.apply(this,arguments),i&&jQuery.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[o+"With"](this===l?n:this,[i])}):l[t](n[o])})}).promise()},promise:function(t){if(null==t)t=a;else for(var e in a)t[e]=a[e];return t}},l=a.promise({});for(e in s)l[e]=s[e].fire,l[e+"With"]=s[e].fireWith;return l.done(function(){o="resolved"},n.disable,r.lock).fail(function(){o="rejected"},i.disable,r.lock),t&&t.call(l,l),l},$.ig.util.deferred=function(){return void 0!==$.Deferred?$.Deferred():$.ig.util.jqueryDeferred()},$.ig.util.ajax=function(t,e,i,n,r){var o,s=$.ig.util.deferred();o=r&&"isCrossDomain"in r?r.isCrossDomain:$.support.cors;var a,l=function(t){var e=new XMLHttpRequest;return 1!=o||"withCredentials"in e||t&&"withCredentials"in t&&1==t.withCredentials||"undefined"==typeof XDomainRequest||(e=new XDomainRequest,e.getResponseHeader=function(){return null},e.onload=function(){e.readyState=4,e.status=200,e.statusText="success",e.getAllResponseHeaders=function(){},e.onreadystatechange()},e.onerror=function(){e.readyState=4,e.status=0,e.statusText="error",e.getAllResponseHeaders=function(){},e.onreadystatechange()},e.ontimeout=function(){e.readyState=4,e.status=0,e.statusText="timeout",e.getAllResponseHeaders=function(){},e.onreadystatechange()},e.onprogress=function(){}),e}(r);"withCredentials"in l&&r&&"withCredentials"in r&&1==r.withCredentials&&(a={withCredentials:!0});var u=function(t,i){r&&(a&&a.withCredentials&&1==a.withCredentials&&(l.withCredentials=!0),$.isFunction(r.beforeSend)&&(t.setRequestHeader("Content-Type",e),r.beforeSend.call(this,t,i,r)))};return $.ajax({crossDomain:1==o,isLocal:!1,url:t,contentType:e,data:i,type:n,dataType:"text",xhrFields:a,beforeSend:u,xhr:function(){return l},success:function(t,e,i){s.resolve(t)},error:function(t,e,i){s.reject(i)}}),s.promise()},$.ig.util.offset=function(t,e){e=e||t.offset(),t=t?t[0].ownerDocument:document,t=t?t.documentElement:null;var i=t?t.msContentZoomFactor:null;return i&&i>1&&(e.left+=t.scrollLeft-window.pageXOffset,e.top+=t.scrollTop-window.pageYOffset),e},$.ig.util.setSize=function(t,e,i,n,r){if(t&&t[0]){var o,s,a=t[0]._w_s_f=t[0]._w_s_f||{},l=a.perc;if(!e)return a.tickID&&a.onTick(!0),delete a.elem,delete a.chart,void(t[0]._w_s_f=null);i||(i=t[e]()),l&&l.indexOf(e)>=0&&(l=l.replace(e,"")),i&&(t[e](i),"number"!=typeof i&&(i=i.toString(),i.indexOf("%")>0&&(l=l||"",l.indexOf(e)<0&&(o=l+=e)),s=i.indexOf("px"),s>0&&(i=i.substring(0,s)),s=parseFloat(i),s.toString()===i?i=s:(i=t[e](),i||(a.wait=a.wait||"",a.wait.indexOf(e)<0&&(a.wait+=e),o=e))),a.perc=l,i&&n&&(n[e]&&n[e](i),r&&n[r]())),o||t[0].offsetWidth||(o=a.wait="width"),o&&(a.elem=t,a.chart=n,a.notify=r,a.onTick=a.onTick||function(t){var e,i=this,n=i.chart,r=i.elem,o=i.perc||"",s=i.wait||"",t=t===!0||!o&&!s,a=t||r[0].offsetWidth,l=t||r[0].offsetHeight,u=i.oldWidth||0,h=i.oldHeight||0;return t?(i.tickID&&clearInterval(i.tickID),void delete i.tickID):(i.tickID||a&&l&&!o||(i.tickID=setInterval(function(){i.onTick()},200)),void(a&&l&&(delete i.wait,i.oldWidth=a,i.oldHeight=l,n&&(n.width&&(o.indexOf("width")>=0&&a!==u||s.indexOf("width")>=0)&&n.width(e=a),n.height&&(o.indexOf("height")>=0&&l!==h||s.indexOf("height")>=0)&&n.height(e=l),e&&i.notify&&n[i.notify]()))))},a.onTick())}},define("igUtil",["jquery","jquery_ui"],function(){}),$.ig=$.ig||{},$.ig.regional=$.ig.regional||{},$.ig.regional["en-US"]={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am:"AM",pm:"PM",datePattern:"M/d/yyyy",dateLongPattern:"dddd, MMMM dd, yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timePattern:"h:mm tt",timeLongPattern:"h:mm:ss tt",negativeSign:"-",numericNegativePattern:"-$n",numericDecimalSeparator:".",numericGroupSeparator:",",numericGroups:[3],numericMaxDecimals:2,numericMinDecimals:0,currencyPositivePattern:"$n",currencyNegativePattern:"$(n)",currencySymbol:"$",currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyGroups:[3],currencyMaxDecimals:2,currencyMinDecimals:2,percentPositivePattern:"n$",percentNegativePattern:"-n$",percentSymbol:"%",percentDecimalSeparator:".",percentGroupSeparator:",",percentGroups:[3],percentDisplayFactor:100,percentMaxDecimals:2,percentMinDecimals:2},$.ig.setRegionalDefault&&$.ig.setRegionalDefault("en-US"),define("regional",["jquery"],function(){}),$.ig=$.ig||{},$.ig.DataSourceLocale||($.ig.DataSourceLocale={},$.extend($.ig.DataSourceLocale,{locale:{invalidDataSource:"The supplied data source is invalid. It happens to be a scalar.",unknownDataSource:"Cannot determine the data source type. Please specify if it is JSON or XML data.",errorParsingArrays:"There was an error parsing the array data and applying the defined data schema: ",errorParsingJson:"There was an error parsing the JSON data and applying the defined data schema: ",errorParsingXml:"There was an error parsing the XML data and applying the defined data schema: ",errorParsingHtmlTable:"There was an error extracting the data from the HTML Table and applying the schema : ",errorExpectedTbodyParameter:"Expected a tbody or a table as a parameter.",errorTableWithIdNotFound:"The HTML Table with the following ID was not found: ",errorParsingHtmlTableNoSchema:"There was an error parsing the Table DOM: ",errorParsingJsonNoSchema:"There was an error parsing/evaluating the JSON string: ",errorParsingXmlNoSchema:"There was an error parsing the XML string: ",errorXmlSourceWithoutSchema:"The supplied data source is an xml document, but there is no defined data schema ($.IgDataSchema) ",errorUnrecognizedFilterCondition:" The filter condition that was passed was not recognized: ",errorRemoteRequest:"The remote request to fetch data has failed: ",errorSchemaMismatch:"The input data doesn't match the schema, the following field couldn't be mapped: ",errorSchemaFieldCountMismatch:"The input data doesn't match the schema in terms of number of fields. ",errorUnrecognizedResponseType:"The response type was either not set correctly, or it was not possible to detect it automatically. Please set settings.responseDataType and/or settings.responseContentType.",hierarchicalTablesNotSupported:"Tables are not supported for HierarchicalSchema",cannotBuildTemplate:"The jQuery template could not be built. There are no records present in the data source, and no columns defined.",unrecognizedCondition:"Unrecognized filtering condition in the following expression: ",fieldMismatch:"The following expression contains an invalid field or filtering condition: ",noSortingFields:"There are no fields specified. You need to specify at least one field to sort by, when calling sort().",filteringNoSchema:"There is no schema / fields specified. You need to specify a schema with field definitions and types to be able to filter the data source."}})),define("igDataSource_en",["regional"],function(){}),$.ig=$.ig||{},$.ig.DataSourceLocale||($.ig.DataSourceLocale={},$.extend($.ig.DataSourceLocale,{locale:{invalidDataSource:"The supplied data source is invalid. It happens to be a scalar.",unknownDataSource:"Cannot determine the data source type. Please specify if it is JSON or XML data.",errorParsingArrays:"There was an error parsing the array data and applying the defined data schema: ",errorParsingJson:"There was an error parsing the JSON data and applying the defined data schema: ",errorParsingXml:"There was an error parsing the XML data and applying the defined data schema: ",errorParsingHtmlTable:"There was an error extracting the data from the HTML Table and applying the schema : ",errorExpectedTbodyParameter:"Expected a tbody or a table as a parameter.",errorTableWithIdNotFound:"The HTML Table with the following ID was not found: ",errorParsingHtmlTableNoSchema:"There was an error parsing the Table DOM: ",errorParsingJsonNoSchema:"There was an error parsing/evaluating the JSON string: ",errorParsingXmlNoSchema:"There was an error parsing the XML string: ",errorXmlSourceWithoutSchema:"The supplied data source is an xml document, but there is no defined data schema ($.IgDataSchema) ",errorUnrecognizedFilterCondition:" The filter condition that was passed was not recognized: ",errorRemoteRequest:"The remote request to fetch data has failed: ",errorSchemaMismatch:"The input data doesn't match the schema, the following field couldn't be mapped: ",errorSchemaFieldCountMismatch:"The input data doesn't match the schema in terms of number of fields. ",errorUnrecognizedResponseType:"The response type was either not set correctly, or it was not possible to detect it automatically. Please set settings.responseDataType and/or settings.responseContentType.",hierarchicalTablesNotSupported:"Tables are not supported for HierarchicalSchema",cannotBuildTemplate:"The jQuery template could not be built. There are no records present in the data source, and no columns defined.",unrecognizedCondition:"Unrecognized filtering condition in the following expression: ",fieldMismatch:"The following expression contains an invalid field or filtering condition: ",noSortingFields:"There are no fields specified. You need to specify at least one field to sort by, when calling sort().",filteringNoSchema:"There is no schema / fields specified. You need to specify a schema with field definitions and types to be able to filter the data source."}})),function($){$.ig=$.ig||{},$.ig.DataSource=$.ig.DataSource||Class.extend({settings:{id:"ds",outputResultsName:null,callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,requestType:"GET",type:"unknown",schema:null,primaryKey:null,responseTotalRecCountKey:null,responseDataKey:null,responseDataType:null,responseContentType:null,localSchemaTransform:!0,urlParamsEncoding:null,urlParamsEncoded:null,paging:{enabled:!1,type:"remote",pageSize:5,pageSizeUrlKey:null,pageIndexUrlKey:null,pageIndex:0,appendPage:!1},filtering:{type:"remote",caseSensitive:!1,applyToAllData:!0,customFunc:null,filterExprUrlKey:null,filterLogicUrlKey:"filterLogic",expressions:[],exprString:""},sorting:{defaultDirection:"none",defaultFields:[],applyToAllData:!0,customFunc:null,compareFunc:null,customConvertFunc:null,type:"remote",caseSensitive:!1,sortUrlKey:null,sortUrlAscValueKey:null,sortUrlDescValueKey:null,expressions:[],exprString:""},summaries:{type:"remote",summaryExprUrlKey:"summaries",summariesResponseKey:"summaries",summaryExecution:"afterfilteringandpaging",columnSettings:[]},fields:[],serializeTransactionLog:!0,aggregateTransactions:!1,autoCommit:!1,updateUrl:null,rowAdded:null,rowUpdated:null,rowInserted:null,rowDeleted:null},init:function(t){var e,i,n,r=!1;return t&&(e=t.dataSource,!e||"array"!==$.type(e)&&"object"!==$.type(e)||("object"===$.type(e)&&t.responseDataKey&&"json"!==t.type?(n=e.Metadata,t.dataSource=$.ig.findPath(e,t.responseDataKey),n&&void 0===t.dataSource.Metadata&&(t.dataSource.Metadata=n),this.settings.type="array",r=!0):t.dataSource=null),t.callee&&(i=t.callee,t.callee=null),this.settings=$.extend(!0,{},$.ig.DataSource.prototype.settings,t),r||!e||"array"!==$.type(e)&&"object"!==$.type(e)||(t.dataSource=e,this.settings.dataSource=e),i&&(this.settings.callee=i,i=null)),this.settings.paging.pageIndex=0,this._isBound=!1,this._url=null,this._dsCallback=null,this._data=[],this._dataView=[],"unknown"===this.settings.type?this._runtimeType=this.analyzeDataSource():this._runtimeType=this.settings.type,this._parser=new $.ig.TypeParser,this._schema=null,this._isSortingReq=!1,this._isFilteringReq=!1,this._isPagingReq=!1,this._isSummariesReq=!1,this._dataSummaries=[],this._recCount=0,this._hasCount=!1,this._initSchema(),this._filteredDataView=[],this._transactionLog=[],this._accumulatedTransactionLog=[],this},_initSchema:function(){this.settings.schema&&(this.settings.schema instanceof $.ig.DataSchema?this._schema=this.settings.schema:("unknown"!==this.settings.type?this._schema=new $.ig.DataSchema(this.settings.type,this.settings.schema):this._schema=new $.ig.DataSchema(this._runtimeType,this.settings.schema),this._schema._pk=this.settings.primaryKey))},fields:function(t){return void 0===t||null===t?this.settings.fields:(this.settings.fields=t,this)},analyzeDataSource:function(){var t,e=this.dataSource();return void 0===e||null===e?"empty":"function"===$.type(e)?"function":"array"===$.type(e)?"array":"number"===$.type(e)||"boolean"===$.type(e)||"date"===$.type(e)?"invalid":"string"===$.type(e)?(e=$.trim(e),e.startsWith("/")?"remoteUrl":$("#"+this.settings.id).length>0&&e.toLowerCase().startsWith("<table")?"htmlTableString":e.toLowerCase().startsWith("<table")?(t="<div id='"+this.settings.id+"' style='display:none;visibility:hidden;'>"+e+"</div>",$(t).appendTo($("body")),"htmlTableString"):e.startsWith("[")||e.startsWith("{")||e.startsWith("<")?"unknown":!e.startsWith("http://")&&$("#"+e).length>0&&"table"===$("#"+e)[0].nodeName.toLowerCase()?"htmlTableId":(this._url=e,"remoteUrl")):e.nodeName&&"table"===e.nodeName.toLowerCase()?"htmlTableDom":!e.nodeName||"ul"!==e.nodeName.toLowerCase()&&"ol"!==e.nodeName.toLowerCase()?"unknown":"htmlListDom"},dataView:function(){return this._dataView},data:function(){return this._data},transformedData:function(t){switch(t){case"priortofilteringandpaging":this._transformedData=this._data;break;case"afterfilteringbeforepaging":break;case"afterfilteringandpaging":this._transformedData=this.dataView();break;default:this._transformedData=this._dataView}return this._transformedData},dataSummaries:function(){var t=this.settings.summaries,e=t.type;return"local"===e&&(this._dataSummaries=this.transformedData(t.summaryExecution)),this._dataSummaries},schema:function(t,e){return void 0===t||null===t?this._schema:(t instanceof $.ig.DataSchema?this._schema=t:(null===e||void 0===e?this._schema=new $.ig.DataSchema(t.type,t):this._schema=new $.ig.DataSchema(e,t),this._schema._pk=this.settings.primaryKey),this)},pagingSettings:function(t){return void 0===t||null===t?this.settings.paging:(this.settings.paging=t,this)},filterSettings:function(t){return void 0===t||null===t?this.settings.filtering:(this.settings.filtering=t,this)},sortSettings:function(t){return void 0===t||null===t?this.settings.sorting:(this.settings.sorting=t,this)},summariesSettings:function(t){return void 0===t||null===t?this.settings.summaries:(this.settings.summaries=t,this)},dataSource:function(t){return void 0===t||null===t?this.settings.dataSource:(this.settings.dataSource=t,this.analyzeDataSource(),this)},type:function(t){return void 0===t||null===t?this._runtimeType:(this.settings.type=t,this)},findRecordByKey:function(t,e){var i;if(e){for(i=0;i<e.length;i++)if(e[i][this.settings.primaryKey]===t)return e[i]}else for(i=0;i<this._data.length;i++)if(this._data[i][this.settings.primaryKey]===t)return this._data[i];return null},removeRecordByKey:function(t,e){for(var i,n,r,o=0,s=[this._data,this._dataView,this._filteredData,e],a=this.settings.primaryKey;o<4;){for(r=s[o++],n=r?r.length:0,i=0;i<n;i++)if(r[i]&&r[i][a]===t){$.ig.removeFromArray(r,i);break}r===s[o]&&o++}},removeRecordByIndex:function(t,e){var i,n,r,o=this._data,s=this._dataView,a=this._filteredData;if(!(!o||isNaN(t)||t<0||t>=o.length))for(r=o[t],$.ig.removeFromArray(o,t),e&&$.ig.removeFromArray(e,t),o=o===s?a:s;r;){for(n=o?o.length:0,i=0;i<n;i++)if(o[i]===r){$.ig.removeFromArray(o,i);break}if(o===a)return;o=a}},setCellValue:function(t,e,i,n){var r=this._createCellTransaction(t,e,i);return this._addTransaction(r),n===!0&&this.commit(t),r},updateRow:function(t,e,i){var n=this._createRowTransaction(t,e),r=null===this.settings.primaryKey?this._data[parseInt(t,10)]:this.findRecordByKey(t),o=null===this.settings.primaryKey?t:$.ig.indexInArray(this._data,r);return this._addTransaction(n),i===!0&&this.commit(t),"function"===$.type(this.settings.rowUpdated)&&(this.settings.callee?this.settings.rowUpdated.apply(this.settings.callee,[{rowIndex:o,newRow:e,oldRow:r},this]):this.settings.rowUpdated({rowIndex:o,newRow:e,oldRow:r},this)),n},addRow:function(t,e,i){var n=this._createNewRowTransaction(t,e);return this._addTransaction(n),i===!0&&this.commit(t),"function"===$.type(this.settings.rowAdded)&&(this.settings.callee?this.settings.rowAdded.apply(this.settings.callee,[{rowId:t,row:e},this]):this.settings.rowAdded({rowId:t,row:e},this)),n},insertRow:function(t,e,i,n){var r=this._createInsertRowTransaction(t,e,i);return this._addTransaction(r),n===!0&&this.commit(t),"function"===$.type(this.settings.rowInserted)&&(this.settings.callee?this.settings.rowInserted.apply(this.settings.callee,[{rowId:t,row:e,rowIndex:i},this]):this.settings.rowInserted({rowId:t,row:e,rowIndex:i},this)),r},deleteRow:function(t,e){var i,n,r=this._createDeleteRowTransaction(t),o=null===this.settings.primaryKey?this._data[parseInt(t,10)]:this.findRecordByKey(t),s=null===this.settings.primaryKey?t:$.ig.indexInArray(this._data,o),a=!1;for(i=0;this.settings.aggregateTransactions&&i<this._transactionLog.length;i++)if("newrow"===this._transactionLog[i].type&&this._transactionLog[i].rowId===t){for(a=!0,t=this._transactionLog[i].rowId,this._removeTransactionByTransactionId(this._transactionLog[i].tid),n=0;n<this._accumulatedTransactionLog.length;n++)this._accumulatedTransactionLog[n].rowId===t&&$.ig.removeFromArray(this._accumulatedTransactionLog,n);break}this.settings.aggregateTransactions&&a||(this._addTransaction(r),e===!0&&this.commit(t),"function"===$.type(this.settings.rowDeleted)&&(this.settings.callee?this.settings.rowDeleted.apply(this.settings.callee,[{rowId:t,row:o,rowIndex:s},this]):this.settings.rowDeleted({rowId:t,row:o,rowIndex:s},this)))},addNode:function(t){var e=this._createAddNodeTransaction(t);this._addTransaction(e)},removeNode:function(t){var e=this._createRemoveNodeTransaction(t);this._addTransaction(e)},getDetachedRecord:function(t){var e,i,n="array"===$.type(this._data[0])?[]:{};if(i=null===this.settings.primaryKey?this._data[parseInt(t.rowId,10)]:this.findRecordByKey(t.rowId),"array"!==this._data[0])for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);else for(e=0;e<i.length;e++)n[e]=i[e];if("cell"===t.type)return n[t.col]=t.value,n;if("array"!==n)for(e in t.row)t.row.hasOwnProperty(e)&&(n[e]=t.row[e]);else for(e=0;e<t.row.length;e++)n[e]=t.row[e];return n},commit:function(t){if(null!==t&&void 0!==t)this._commitTransactionsByRowId(t);else for(this._transactionLog.reverse();this._transactionLog.length>0;)this._commitTransaction(this._transactionLog.pop())},rollback:function(t){var e;if(null!==t&&void 0!==t)this._rollbackTransactionsByRowId(t);else for(e=this._transactionLog.length;e-- >0;)this._rollbackTransaction(this._transactionLog[e])},pendingTransactions:function(){return this._transactionLog},allTransactions:function(){return this._accumulatedTransactionLog},_createCellTransaction:function(t,e,i){return{type:"cell",rowId:t,tid:this._generateTransactionId(),col:e,value:i}},_createRowTransaction:function(t,e){return{type:"row",tid:this._generateTransactionId(),row:e,rowId:t}},_createNewRowTransaction:function(t,e){return{type:"newrow",tid:this._generateTransactionId(),row:e,rowId:t}},_createInsertRowTransaction:function(t,e,i){return{type:"insertrow",tid:this._generateTransactionId(),row:e,rowId:t,rowIndex:i}},_createDeleteRowTransaction:function(t){return{type:"deleterow",tid:this._generateTransactionId(),rowId:t}},_createAddNodeTransaction:function(t){return{type:"addnode",tid:this._generateTransactionId(),tdata:t}},_createRemoveNodeTransaction:function(t){return{type:"removenode",tid:this._generateTransactionId(),tdata:t}},_addTransaction:function(t){var e,i,n,r,o=!1,s=0,a=!0;if("cell"===t.type){for(s=0;s<this._transactionLog.length;s++)if(this._transactionLog[s].rowId===t.rowId&&this._transactionLog[s].col===t.col){if(o=!0,this.settings.autoCommit===!1&&this.settings.aggregateTransactions===!0)for(n=0;n<this.dataView().length;n++)if(this.dataView()[n][this.settings.primaryKey]===t.rowId&&this.dataView()[n][t.col]===t.value){for(r=0;r<this._accumulatedTransactionLog.length;r++)this._accumulatedTransactionLog[r].rowId===this._transactionLog[s].rowId&&$.ig.removeFromArray(this._accumulatedTransactionLog,r);this._removeTransactionByTransactionId(this._transactionLog[s].tid),a=!1}a&&(this._transactionLog[s].value=t.value,this._syncGlobalTransaction(this._transactionLog[s]))}for(n=0;n<this._transactionLog.length;n++)if("newrow"===this._transactionLog[n].type&&this._transactionLog[n].rowId===t.rowId)return"row"===t.type?this._transactionLog[n].value=t.value:this._transactionLog[n].row[t.col]=t.value,
void this._syncGlobalTransaction(this._transactionLog[n])}else if("row"===t.type)for(s=0;s<this._transactionLog.length;s++)if(this._transactionLog[s].rowId===t.rowId){if(o=!0,this.settings.autoCommit===!1&&this.settings.aggregateTransactions===!0){for(a=!1,n=0;n<this.dataView().length;n++)if(this.dataView()[n][this.settings.primaryKey]===t.rowId){for(e in t.row)if(t.row.hasOwnProperty(e)&&t.row[e]!==this.dataView()[n][e]){a=!0;break}break}for(n=0,!a;n<this._transactionLog.length;n++)if("newrow"===this._transactionLog[n].type&&this._transactionLog[n].rowId===t.rowId)return this._transactionLog[n].row=t.row,void this._syncGlobalTransaction(this._transactionLog[n])}if(a)this._transactionLog[s].row=t.row,this._syncGlobalTransaction(this._transactionLog[s]);else{for(r=0;r<this._accumulatedTransactionLog.length;r++)this._accumulatedTransactionLog[r].rowId===this._transactionLog[s].rowId&&$.ig.removeFromArray(this._accumulatedTransactionLog,r);this._removeTransactionByTransactionId(this._transactionLog[s].tid)}}if(!o){if(this._transactionLog.push(t),i=$.extend(!0,{},t),"cell"===i.type&&"date"===$.type(i.value))i.value="/Date("+i.value.getTime()+")/";else if("row"===i.type||"insertrow"===i.type||"newrow"===i.type)for(e in i.row)i.row.hasOwnProperty(e)&&"date"===$.type(i.row[e])&&(i.row[e]="/Date("+i.row[e].getTime()+")/");this._accumulatedTransactionLog.push(i)}},_syncGlobalTransaction:function(t){var e,i;if(t)if("cell"===t.type){for(e=0;e<this._accumulatedTransactionLog.length;e++)if(this._accumulatedTransactionLog[e].rowId===t.rowId){"date"===$.type(t.value)?this._accumulatedTransactionLog[e].value="/Date("+t.value.getTime()+")/":this._accumulatedTransactionLog[e].value=t.value;break}}else if("row"===t.type||"insertrow"===t.type||"newrow"===t.type)for(e=0;e<this._accumulatedTransactionLog.length;e++)if(this._accumulatedTransactionLog[e].rowId===t.rowId)for(i in t.row)t.row.hasOwnProperty(i)&&("date"===$.type(t.row[i])?this._accumulatedTransactionLog[e].row[i]="/Date("+t.row[i].getTime()+")/":this._accumulatedTransactionLog[e].row[i]=t.row[i])},_removeTransactionByTransactionId:function(t,e){var i;for(i=0;i<this._transactionLog.length;i++)if(this._transactionLog[i].tid===t){$.ig.removeFromArray(this._transactionLog,i);break}if(e===!0)for(i=0;i<this._accumulatedTransactionLog.length;i++)if(this._accumulatedTransactionLog[i].tid===t){$.ig.removeFromArray(this._accumulatedTransactionLog,i);break}},_removeTransactionsByRecordId:function(t){var e;for(e=0;e<this._transactionLog.length;e++)if(this._transactionLog[e].rowId===t){$.ig.removeFromArray(this._transactionLog,e);break}},_addRow:function(t,e,i){var n,r,o=0,s=[this._data,this._dataView,i],a=i?i[0]:null;if(a)for(r in a)a.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=null);for(;o<4;)n=s[o++],n&&(e>=0&&e<n.length?n.splice(e,0,t):n.push(t)),n===s[o]&&o++},_commitTransaction:function(t){var e,i,n,r,o=this.settings.localSchemaTransform?this._origDs:null;if(o===this._data&&(o=null),null===this.settings.primaryKey?(n=this._data[parseInt(t.rowId,10)],o&&(r=o[parseInt(t.rowId,10)])):(n=this.findRecordByKey(t.rowId),o&&(r=this.findRecordByKey(t.rowId,o))),"cell"===t.type)n[t.col]=t.value,r&&(r[t.col]=t.value);else if("row"===t.type)if("array"===$.type(t.row))for(e=0;e<t.row.length;e++)n[e]=t.row[e],r&&(r[e]=t.row[e]);else for(i in t.row)t.row.hasOwnProperty(i)&&(n[i]=t.row[i],r&&(r[i]=t.row[i]));else"deleterow"===t.type?null===this.settings.primaryKey?this.removeRecordByIndex(parseInt(t.rowId,10),o):this.removeRecordByKey(t.rowId,o):"newrow"===t.type?this._addRow(t.row,-1,o):"insertrow"===t.type&&this._addRow(t.row,t.rowIndex,o);this._removeTransactionByTransactionId(t.tid)},_rollbackTransaction:function(t){this._removeTransactionByTransactionId(t.tid,!0)},_commitTransactionsByRowId:function(t){var e;for(e=0;e<this._transactionLog.length;e++)this._transactionLog[e].rowId===t&&this._commitTransaction(this._transactionLog[e])},_rollbackTransactionsByRowId:function(t){var e;for(e=0;e<this._transactionLog.length;e++)this._transactionLog[e].rowId===t&&this._rollbackTransaction(this._transactionLog[e])},transactionsAsString:function(){return JSON.stringify(this._accumulatedTransactionLog)},_generateTransactionId:function(){return((1+Math.random())*parseInt("10000",16)).toString(16).substring(1,5)},saveChanges:function(){if(null!==this.settings.updateUrl){var t=this;$.post(this.settings.updateUrl,{ig_transactions:JSON.stringify(this._accumulatedTransactionLog)},function(e,i,n){t._saveChangesSuccess(e,i,n)})}},_saveChangesSuccess:function(t,e,i){t.Success&&(this.commit(),this._transactionLog=[],this._accumulatedTransactionLog=[]);for(var n=this._saveChangesHandlers,r=n?n.length:0;r-- >0;)n[r](t,e,i)},_addChangesSuccessHandler:function(t){void 0===this._saveChangesHandlers&&(this._saveChangesHandlers=[]),this._saveChangesHandlers[this._saveChangesHandlers.length]=t},_removeChangesSuccessHandler:function(t){if(void 0!==this._saveChangesHandlers){var e=$.ig.indexInArray(this._saveChangesHandlers,t);e>-1&&(this._saveChangesHandlers=this._saveChangesHandlers.slice(0,e).concat(this._saveChangesHandlers.slice(e+1,this._saveChangesHandlers.length)))}},dataBind:function(t,e){var i,n,r,o,s,a,l,u=this.settings,h=!0;if(this._transactionLog=[],this._accumulatedTransactionLog=[],t||(t=u.callback),s={cancel:!1},$.isFunction(u.dataBinding)&&(h=u.dataBinding(this,s),void 0===h&&(h=!0)),h){switch("unknown"!==this.settings.type||null!==this._runtimeType&&void 0!==this._runtimeType||(this._runtimeType=this.analyzeDataSource()),this._runtimeType){case"function":this._data=u.dataSource(),this.schema()&&(this._data=this.schema().transform(this._data));break;case"array":this.schema()&&this.settings.localSchemaTransform?(this._data=this.schema().transform(this.dataSource()),this.dataSource().Metadata&&(this._metadata=this.dataSource().Metadata,this.summariesResponse(this.settings.summaries.summariesResponseKey,this.dataSource())),this._origDs=this.dataSource()):this._data=this.dataSource();break;case"htmlTableDom":case"htmlTableId":case"htmlTableString":if(this._tableBound)break;this._runtimeType=this.analyzeDataSource(),"htmlTableId"===this._runtimeType?(n=$("#"+this.dataSource()),i=this._validateTable(n)):"htmlTableString"===this._runtimeType?(n=$("#"+this.settings.id+" > table"),i=this._validateTable(n)):i=this.dataSource(),this.schema()&&this.settings.localSchemaTransform?this._data=this.schema().transform(i):this._data=this.tableToObject(i),this._tableBound=!0;break;case"htmlListDom":this._data=this.schema().transform(this.dataSource());break;case"invalid":throw new Error($.ig.DataSourceLocale.locale.invalidDataSource);case"unknown":case"json":case"xml":if("json"!==this.settings.type&&"xml"!==u.type)throw new Error($.ig.DataSourceLocale.locale.unknownDataSource);if(l=this.settings.responseDataKey,r="string"===$.type(this.dataSource())?"json"===u.type?this.stringToJSONObject(this.dataSource()):this.stringToXmlObject(this.dataSource()):this.dataSource(),this.schema()&&this.settings.localSchemaTransform===!0)this._data=this.schema().transform(r),null!==l&&void 0!==l?this._origDs=$.ig.findPath(r,l):this._origDs=r;else if(this.schema()&&this.settings.localSchemaTransform!==!1||"json"!==u.type){if(!this.schema()&&"xml"===u.type)throw new Error($.ig.DataSourceLocale.locale.errorXmlSourceWithoutSchema)}else null!==l&&void 0!==l?this._data=this._origDs=$.ig.findPath(r,l):this._data=r,this._origDs=r;this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,r,this),r.Metadata&&(this._metadata=r.Metadata),this.summariesResponse(this.settings.summaries.summariesResponseKey,r);break;case"remoteUrl":this._remoteData(t,e);break;case"empty":this._data=[],this._dataView=[],this._dataSummaries=[]}this._dataView=this._data,this._filter=!1,o=u.sorting,"local"===o.type&&"remoteUrl"!==this._runtimeType&&o.defaultFields.length>0&&this.sort(o.defaultFields,o.defaultDirection,!1),u.paging.enabled&&"local"===u.paging.type&&"remoteUrl"!==this._runtimeType&&this._page(),a=this,this._populateTransformedData(),"remoteUrl"!==this._runtimeType&&this._invokeCallback(e,t),$.isFunction(u.dataBound)&&!s.cancel&&u.dataBound(this)}return this},summariesResponse:function(t,e){var i,n,r;if(null!==t&&""!==t){if(i=e,n=t.split("."),t.length>0){for(r=0;r<n.length&&(null!==i&&void 0!==i);r++)i=i[n[r]];this._dataSummaries=i}else this._dataSummaries=e;void 0!==this._dataSummaries&&null!==this._dataSummaries||(this._dataSummaries=[])}},_populateTransformedData:function(t){null!==t&&void 0!==t?this._transformedData=t:this._transformedData=this._data},_invokeCallback:function(t,e){var i,n;i=e||this.settings.callback,n=t||this.settings.callee,i&&(n?i.apply(n,[!0,"",this]):i(!0,"",this))},_remoteData:function(t,e){var i,n,r=this.settings.dataSource,o=this.settings.responseDataType,s=this.settings.responseContentType,a=this.settings.requestType;i=this._encodeUrl(),t?this._customCallback=t:this._customCallback=null,this._callee=e,n={url:r,data:"GET"===a?i:JSON.stringify(i),type:a,dataType:o,async:!0,context:this,contentType:s,cache:!1,dataFilter:this._dataFilter,success:this._successCallback,complete:this._completeCallback,converters:{"text json":function(t){return t}},error:this._errorCallback},this._processRequest(n)},_dataFilter:function(t,e){var i,n,r,o=this.context.schema(),s=this.context.settings.type,a=!1;if(void 0!==e&&null!==e||(e="object"==typeof t&&t&&"function"!=typeof t.charAt?$.isXMLDoc(t)?"xml":"json":"text"),"xml"===e)o._type="xml",i=this.context._processXmlResponse(t,!0,this.context);else if("json"===e)o&&(o._type="json"),n="string"===$.type(t)?JSON.parse(t):t,a=!0,i=this.context._processJsonResponse(n,this.context);else if(jQuery.fn.jquery&&(r=jQuery.fn.jquery.split(".")),r&&r.length>=2&&(parseInt(r[1],10)>4||parseInt(r[0],10)>1)&&(this.dataTypes=[],this.dataTypes.push("text"),a=!0),t="string"===$.type(t)?$.trim(t):t,t&&"string"===$.type(t)&&(t.startsWith("<?xml")||t.startsWith("<"))||"xml"===s)o&&(o._type="xml"),i=this.context._processXmlResponse(this.context.stringToXmlObject(t),!1,this.context);else if(t&&"string"===$.type(t)&&t.startsWith("[")||"json"===s||"array"===s)o&&(o._type="json"),i=this.context._processJsonResponse(JSON.parse(t),this.context);else if(t&&"string"===$.type(t)&&t.startsWith("{")||"json"===s)o&&(o._type="json"),i=this.context._processJsonResponse(JSON.parse(t),this.context);else if($.isXMLDoc(t))o&&(o._type="xml"),i=this.context._processXmlResponse(t,!0,this.context);else if(""!==t&&null!==t)throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedResponseType);return a&&(this.context.settings.paging&&this.context.settings.paging.enabled&&this.context.settings.paging.appendPage||(this.context._data=i),this.context._alreadySet=!0),i},_successCallback:function(t){var e,i=t?t.length:0;if(void 0!==t&&null!==t||this._alreadySet)if(this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage)for(e=0;e<i;++e)this._data[this._data.length]=t[e];else this._alreadySet?this._dataView=this._data:(this._data=t,this._dataView=t);else this._data=[],this._dataView=[];this._alreadySet=!1,this._populateTransformedData(),this._isPagingReq=!1,this._isFilteringReq=!1,this._isSortingReq=!1,this._isSummariesReq=!1},_errorCallback:function(t,e,i){var n,r,o=this._customCallback||this.settings.callback;this._isPagingReq=!1,this._isFilteringReq=!1,this._isSortingReq=!1,this._isSummariesReq=!1,r=null===e?" ":" ("+e+") ",n=$.ig.DataSourceLocale.locale.errorRemoteRequest+r+(void 0!==i?i.message:t&&t.statusText?t.statusText:""),o&&this._callee?o.apply(this._callee,[!1,n,this]):o&&o(!1,n,this)},_completeCallback:function(t,e){var i,n,r=this.settings.sorting,o=this.settings.paging;"local"===r.type&&r.defaultFields.length>0&&this.sort(r.defaultFields,r.defaultDirection,!1),o.enabled&&"local"===o.type&&this._page(),i=this._customCallback||this.settings.callback,n=this._callee||this.settings.callee,i&&n?i.apply(n,[!0,"",this]):i&&i(!0,"",this)},_processRequest:function(t){"jsonp"===this.settings.responseDataType?$.getJSON(t.url,t.data,$.proxy(this._jsonpFilter,this)):$.ajax(t)},_jsonpFilter:function(t,e){var i,n;if(this.context=this,i=this._dataFilter(t,"json"),i.length||"object"!==$.type(i)||(i=[i]),this._data.length>=0&&this.settings.paging&&this.settings.paging.enabled&&this.settings.paging.appendPage)for(n=0;n<i.length;++n)this._data[this._data.length]=i[n];else this._data=i,this._dataView=i;this._populateTransformedData(),this._completeCallback()},_processJsonResponse:function(t,e){var i,n,r,o,s=e.schema();if(this._response_data&&this._response_data(t),s&&s.fields&&s.fields().length>0&&this.settings.localSchemaTransform)i=s.transform(t);else if(n=e.settings.responseDataKey,null!==n&&void 0!==n)if(r=n.split("."),r.length>0){for(i=t,o=0;o<r.length;o++)i=i[r[o]];"string"==typeof i&&(i=JSON.parse(i))}else i=t;else i=t;return(e._isPagingReq||e._isFilteringReq)&&this.totalRecordsCount(null,this.settings.responseTotalRecCountKey,t,e),t.Metadata&&(this._metadata=t.Metadata),this.summariesResponse(this.settings.summaries.summariesResponseKey,t),i},_processXmlResponse:function(t,e,i){var n,r,o,s=i.schema();return s&&s.fields&&s.fields().length>0?n=this.settings.localSchemaTransform?s.transform(t):t:(o=i.settings.responseDataKey,o&&""!==o?(r=new $.ig.DataSchema,n=i._xmlToArray(r._findXmlRecordsRoot(t,o))):n=i._xmlToArray(t)),n},_xmlToArray:function(t){var e,i,n,r,o,s,a=[],l=t;for(s=window.ActiveXObject,t&&t.childNodes&&1===t.childNodes.length&&(l=t.childNodes[0]),e=0;e<l.childNodes.length;e++)for(i=l.childNodes[e],a[e]=[],n=0;n<i.childNodes.length;n++)r=void 0===s?i.childNodes[n].localName:i.childNodes[n].baseName,o=void 0===s?i.childNodes[n].textContent:i.childNodes[n].text,a[e][r]=o;return a},_encodeUrl:function(){var t,e,i=this.settings,n={},r={},o={},s={},a={},l={},u={},h=!0;return e={cancel:!1},t={sortingParams:n,filteringParams:r,pagingParams:o,selectParams:s,summariesParams:a,extraParams:l,pkParams:u},$.isFunction(i.urlParamsEncoding)&&(h=i.urlParamsEncoding(this,t)),h&&(this._encodeSelectParams(t),this._encodeSortingParams(t),this._encodeFilteringParams(t),this._encodePagingParams(t),this._encodeSummariesParams(t),this._encodePkParams(t),$.isFunction(this.settings.encodeExtraParams)&&this.settings.encodeExtraParams(this,t),$.isFunction(i.urlParamsEncoded)&&i.urlParamsEncoded(this,t)),$.extend(!0,{},t.sortingParams,t.filteringParams,t.pagingParams,t.selectParams,t.summariesParams,t.extraParams,t.pkParams)},_encodePkParams:function(t){var e=this.settings.paging,i=this.settings.sorting,n=this.settings.filtering,r=this.settings.summaries,o=this._schema?this._schema._pk:null;o&&(e.enabled&&"remote"===e.type||"remote"===i.type||"remote"===n.type||"remote"===r.type)&&(t.pkParams.pk=o)},_encodeSelectParams:function(t){var e,i=t.selectParams;if(!this.settings.localSchemaTransform&&this.schema()&&this.schema().fields().length>0)for(i.$select="",e=0;e<this.schema().fields().length;e++)0!==e&&(i.$select+=","),i.$select+=this.schema().fields()[e].name;else!this.settings.localSchemaTransform&&this.schema()&&0===this.schema().fields().length&&(i.$select="*")},_encodePagingParams:function(t){var e=this.settings.paging;e.enabled&&"remote"===e.type&&(this._isPagingReq=!0,null!==e.pageIndexUrlKey&&null!==e.pageSizeUrlKey?(t.pagingParams[e.pageIndexUrlKey]=this.pageIndex(),t.pagingParams[e.pageSizeUrlKey]=this.pageSize()):(t.pagingParams.$skip=this.pageIndex()*this.pageSize(),t.pagingParams.$top=this.pageSize(),t.pagingParams.$inlinecount="allpages",null===this.settings.responseTotalRecCountKey&&(this.settings.responseTotalRecCountKey="d.__count")))},_encodeSortingParams:function(t){var e,i,n,r=this.settings.sorting,o=null;if("remote"===r.type){for(n=r.exprString?this._parseSortExpressions(r.exprString):r.expressions,this._isSortingReq=!0,i=0;i<n.length;i++)n[i].layout&&(o=n[i].layout),null!==r.sortUrlAscValueKey&&null!==r.sortUrlDescValueKey&&null!==r.sortUrlKey?(e=n[i].dir&&n[i].dir.toLowerCase().startsWith("asc")?r.sortUrlAscValueKey:r.sortUrlDescValueKey,t.sortingParams[r.sortUrlKey+"("+n[i].fieldName+")"]=e):(void 0===t.sortingParams.$orderby&&(t.sortingParams.$orderby=""),t.sortingParams.$orderby=t.sortingParams.$orderby+n[i].fieldName+" "+n[i].dir.toLowerCase(),i<n.length-1&&(t.sortingParams.$orderby+=","));o&&(t.sortingParams.layout=o)}},_encodeFilteringParams:function(t){var e,i,n,r,o,s,a=this.settings.filtering;if("remote"===a.type){for(e=a.exprString?this._parseFilterExprString(a.exprString):a.expressions,i=0;i<e.length;i++)this._isFilteringReq=!0,o=e[i].cond,r="false"===o||"true"===o||"today"===o||"yesterday"===o||"thisMonth"===o||"lastMonth"===o||"nextMonth"===o||"thisYear"===o||"lastYear"===o||"nextYear"===o||"null"===o||"notNull"===o||"empty"===o||"notEmpty"===o,null!==a.filterExprUrlKey?(n=a.filterExprUrlKey+"("+e[i].fieldName+")",s="date"===$.type(e[i].expr)?Date.UTC(e[i].expr.getFullYear(),e[i].expr.getMonth(),e[i].expr.getDate(),e[i].expr.getHours(),e[i].expr.getMinutes()):e[i].expr,void 0===t.filteringParams[n]?t.filteringParams[n]=e[i].cond+"("+(r?"":s)+")":t.filteringParams[n]=t.filteringParams[n]+","+e[i].cond+"("+(r?"":s)+")"):(void 0===t.filteringParams.$filter&&(t.filteringParams.$filter=""),"startsWith"===e[i].cond?t.filteringParams.$filter+="startswith("+e[i].fieldName+",'"+e[i].expr+"') eq true":"endsWith"===e[i].cond?t.filteringParams.$filter+="endswith("+e[i].fieldName+",'"+e[i].expr+"') eq true":"contains"===e[i].cond?t.filteringParams.$filter+="indexof("+e[i].fieldName+",'"+e[i].expr+"') ge 0":"doesNotContain"===e[i].cond?t.filteringParams.$filter+="indexof("+e[i].fieldName+",'"+e[i].expr+"') eq -1":"equals"===e[i].cond?"string"===$.type(e[i].expr)?t.filteringParams.$filter+=e[i].fieldName+" eq '"+e[i].expr+"'":t.filteringParams.$filter+=e[i].fieldName+" eq "+e[i].expr:"true"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" eq true":"false"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" eq false":"doesNotEqual"===e[i].cond?"string"===$.type(e[i].expr)?t.filteringParams.$filter+=e[i].fieldName+" ne '"+e[i].expr+"'":t.filteringParams.$filter+=e[i].fieldName+" ne "+e[i].expr:"greaterThan"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" gt "+e[i].expr:"lessThan"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" lt "+e[i].expr:"greaterThanOrEqualTo"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" ge "+e[i].expr:"lessThanOrEqualTo"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" le "+e[i].expr:"null"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" eq null":"notNull"===e[i].cond?t.filteringParams.$filter+=e[i].fieldName+" ne null":"empty"===e[i].cond?t.filteringParams.$filter+="length("+e[i].fieldName+") eq 0":"notEmpty"===e[i].cond&&(t.filteringParams.$filter+="length("+e[i].fieldName+") gt 0"),i<e.length-1&&(t.filteringParams.$filter+=" and "));null!==a.filterLogicUrlKey&&e.length>0&&(t.filteringParams[a.filterLogicUrlKey]=e[0].logic)}},_encodeSummariesParams:function(t){var e,i,n,r=this.settings.summaries,o=r.columnSettings,s=o.length;if("remote"===r.type)for(e=0;e<s;e++)if(n="",void 0!==o[e].summaryOperands&&null!==o[e].summaryOperands){for(i=0;i<o[e].summaryOperands.length;i++)o[e].summaryOperands[i].active!==!0&&1!==o[e].summaryOperands[i].active||(n+=o[e].summaryOperands[i].type+",");""!==n&&(t.summariesParams[r.summaryExprUrlKey+"("+o[e].columnKey+")"]=n.slice(0,-1))}},_page:function(t){var e,i,n=0,r=0;if(void 0===t&&(t=!1),t?n=this._dataView.length:this._dataView=[],this._filter)for(e=this.pageIndex()*this.pageSize(),i=e+this.pageSize()>=this._filteredData.length?this._filteredData.length:e+this.pageSize(),r=e;r<i;r++)this._dataView[n++]=this._filteredData[r];else for(e=this.pageIndex()*this.pageSize(),i=e+this.pageSize()>=this._data.length?this._data.length:e+this.pageSize(),r=e;r<i;r++)this._dataView[n++]=this._data[r]},sort:function(t,e,i){var n,r,o,s,a=this.settings.sorting,l=this.settings.paging,u=!1,h=this.settings;if(void 0===t||null===t)throw new Error($.ig.DataSourceLocale.locale.noSortingFields);return r=function(t,i,n,r,o){function s(t,e,i,n,r){return t&&"date"===$.type(n)&&"date"===$.type(r)&&("time"!==t&&"timeLong"!==t&&"h:mm:ss tt"!==t||(n=new Date("01 01 2000 "+$.ig.formatter(n,"date",t,i,e)),r=new Date("01 01 2000 "+$.ig.formatter(r,"date",t,i,e)))),null!==n&&void 0!==n||null!==r&&void 0!==r?null!==n&&void 0!==n||null===r||void 0===r?null===n||void 0===n||null!==r&&void 0!==r?n>r?1:n<r?-1:0:1:-1:0}return r=r?-1:1,function(n,l){var u,d,c,p,f,g,m,v,_,y,b=[],w=[];for(t&&(v=t.options,_=v.enableUTCDates,y=!v.rowTemplate||v.rowTemplate.length<=0),u=0;u<i.length;u++)f=i[u].fieldName,t&&t.columnByKey&&(g=t.columnByKey(f),void 0!==g&&null!==g&&(m=g.format)),i[u].layout&&(h.key&&h.key!==i[u].layout||!h.key)||(d=i[u],d.fieldIndex>=0&&(d.fieldName=d.fieldIndex),c=n[d.fieldName],p=l[d.fieldName],void 0!==o&&(c=o(c,d.fieldName),p=o(p,d.fieldName)),a.caseSensitive===!1&&(void 0!==c&&null!==c&&c.toLowerCase&&(c=c.toLowerCase()),void 0!==p&&null!==p&&p.toLowerCase&&(p=p.toLowerCase())),void 0!==d.dir&&null!==d.dir?(r=d.dir.toLowerCase().startsWith("desc"),r=r?-1:1):void 0!==e&&null!==e&&""!==e&&(r=e.toLowerCase().startsWith("desc"),r=r?-1:1),1===i.length?(b=r*s(m,_,y,c,p),w=r*s(m,_,y,p,c)):r===-1?(b.push(-s(m,_,y,c,p)),w.push(-s(m,_,y,p,c))):(b.push(s(m,_,y,c,p)),w.push(s(m,_,y,p,c))));return b<w?-1:b>w?1:0}},a.applyToAllData&&"local"===a.type?(s=this._filter&&("local"===l.type&&l.enabled===!0||l.enabled===!1||"remote"===l.type&&l.enabled===!0&&"local"===this.settings.filtering.type)?this._filteredData:this.data(),u=!0):s=this.dataView(),"function"===$.type(a.customFunc)?s=a.customFunc(s,t,e):(n=this.settings.schema,e||(e=""),"function"===$.type(a.compareFunc)&&(r=a.compareFunc),$.isFunction(a.customConvertFunc)&&(o=a.customConvertFunc),"string"===$.type(t)&&(t=this._parseSortExpressions(t)),t.length>0&&(s=s.sort(r(this.settings.callee,t,n,!e.toLowerCase().startsWith("asc"),o)))),u&&"local"===l.type?(this._filter?this._filteredData=s:this._data=s,this._page()):this._dataView=s,this._populateTransformedData(s),this},clearLocalSorting:function(){var t,e=this.settings.sorting,i=this.settings.paging,n=!1;return e.applyToAllData&&"local"===e.type?(t=this._filter&&("local"===i.type&&i.enabled===!0||i.enabled===!1)?this._filteredData:this.data(),n=!0):t=this.dataView(),n&&"local"===i.type?(this._filter?this._filteredData=t:this._data=t,this._page()):this._dataView=t,this._populateTransformedData(),this},_parseSortExpressions:function(t){var e,i,n,r=[];for(e=t.split(","),n=0;n<e.length;n++)r[n]={},i=$.trim(e[n]).split(" "),r[n].fieldName=i[0],r[n].dir=i[1];return r},_convertf:function(t,e){},filter:function(t,e,i,n){var r,o,s,a,l,u,h,d,c,p,f,g=null,m=0,v=!1,_=this.settings.filtering,y=this.settings.paging;if(u=this.schema(),null===u||void 0===u)throw new Error($.ig.DataSourceLocale.locale.filteringNoSchema);if("string"===$.type(t)&&(g=t),"string"===$.type(n)?p=n:"undefined"===$.type(n)&&(n=[]),"array"!==$.type(t)||0!==t.length||"array"!==$.type(n)||0!==n.length){if(_.applyToAllData&&"local"===_.type?(s=this.data(),c=!0):this._cachedDataView&&this._cachedDataView.length>0?s=this._cachedDataView:(this._cachedDataView=$.merge([],this.dataView()),s=this._cachedDataView),"function"===$.type(_.customFunc))s=_.customFunc(t,s),this._filteredData=s,this._dataView=[];else for(this._dataView=[],this._filteredData=[],r=0;r<s.length;r++){for(v=!1,g&&(t=this._parseFilterExprString(g)),p&&(n=this._parseFilterExprString(p)),o=0;o<t.length;o++){if(h=u.fields(),t[o].fieldIndex)t[o].fieldIndex<h.length&&(a=h[t[o].fieldIndex].type),v=!this._findMatch(s[r][t[o].fieldIndex],t[o].expr,a,!_.caseSensitive,t[o].cond);else{if(void 0!==t[o].dataType&&null!==t[o].dataType)a=t[o].dataType;else for(l=0;l<h.length;l++)if(h[l].name===t[o].fieldName){a=h[l].type;break}v=!this._findMatch(s[r][t[o].fieldName],t[o].expr,a,!_.caseSensitive,t[o].cond)}if(d=null===t[o].logic||void 0===t[o].logic||"or"!==t[o].logic.toLowerCase()&&"and"!==t[o].logic.toLowerCase()?e:t[o].logic,void 0!==d&&null!==d&&"string"===$.type(d)||(d="and"),v&&"and"===d.toLowerCase())break;if(!v&&"or"===d.toLowerCase())break}if(!v)for(o=0;o<n.length;o++){if(h=u.fields(),n[o].fieldIndex)n[o].fieldIndex<h.length&&(a=h[n[o].fieldIndex].type),f=s[r][n[o].fieldIndex]?s[r][n[o].fieldIndex].toString():"",v=!this._findMatch(f,n[o].expr,"string",!_.caseSensitive,n[o].cond);else{for(l=0;l<h.length;l++)if(h[l].name===n[o].fieldName){a=h[l].type;break}f=null!==s[r][n[o].fieldName]&&void 0!==s[r][n[o].fieldName]?s[r][n[o].fieldName].toString():"",v=!this._findMatch(f,n[o].expr,"string",!_.caseSensitive,n[o].cond)}if(d=null===n[o].logic||void 0===n[o].logic||"or"!==n[o].logic.toLowerCase()&&"and"!==n[o].logic.toLowerCase()?e:n[o].logic,void 0!==d&&null!==d&&"string"===$.type(d)||(d="and"),v&&"and"===d.toLowerCase())break;if(!v&&"or"===d.toLowerCase())break}v||(this._filteredData[m++]=s[r])}if(this._filter=!0,c&&"local"===y.type&&y.enabled===!0)this.settings.paging.pageIndex=0,this.pageSizeDirty(!0),this._page();else for(r=0;r<this._filteredData.length;r++)this._dataView[r]=this._filteredData[r];return this._populateTransformedData(this._filteredData),this}},clearLocalFilter:function(){var t,e,i,n=this.settings.filtering,r=this.settings.paging;if(n.applyToAllData&&"local"===n.type?(e=this.data(),i=!0):this._cachedDataView&&this._cachedDataView.length>0?e=this._cachedDataView:(this._cachedDataView=$.merge([],this.dataView()),e=this._cachedDataView),this._dataView=[],this._filteredData=e,i&&"local"===r.type&&r.enabled===!0)this._filter=!0,this.settings.paging.pageIndex=0,this.pageSizeDirty(!0),this._page();else for(r.enabled===!1&&(this._filter=!0),t=0;t<this._filteredData.length;t++)this._dataView[t]=this._filteredData[t];return this._populateTransformedData(this._filteredData),this},_parseFilterExprString:function(t){var e,i,n,r,o=$.trim(t).split(/(?=AND+)|(?=OR+)/i),s=[],a=!0;for(e=0;e<o.length;e++){if(s[e]={},n=$.trim(o[e]).split(/(?= \=+)|(?=<>+)|(?=>+)|(?=<+)|(?=LIKE+)|(?=NOT\WLIKE)+|(?=>\=+)|(?=<\=+)/),$.trim(o[e]).toLowerCase().startsWith("and")?s[e].logic="AND":$.trim(o[e]).toLowerCase().startsWith("or")&&(s[e].logic="OR"),e>0&&("AND"===s[e].logic||"OR"===s[e].logic)&&(s[e-1].logic=s[e].logic),n[0].toLowerCase().startsWith("and")||n[0].toLowerCase().startsWith("or")?s[e].fieldName=$.trim(n[0].split(" ")[1]):s[e].fieldName=$.trim(n[0]),r=$.trim(n[1]).split(" "),o[e].indexOf("<>")!==-1&&(r[0]="<>",r[1]=n[2].replace(">","")),r.length>2){for(i=2;i<r.length;i++)r[1]=r[1]+" "+r[i];r=[r[0],r[1]]}for(n[1].startsWith("NOT")?s[e].expr=$.trim(n[2].replace("LIKE","")):s[e].expr=r[1],i=0;i<this.schema().schema.fields.length;i++)if(this.schema().schema.fields[i].name===s[e].fieldName){a=!1;break}if(a)throw new Error($.ig.DataSourceLocale.locale.fieldMismatch+s[e].fieldName);if(a=!0,">"===r[0])s[e].cond="greaterThan";else if("LIKE"===r[0])s[e].expr.startsWith("%")&&s[e].expr.endsWith("%")?s[e].cond="contains":s[e].expr.endsWith("%")?s[e].cond="startsWith":s[e].expr.startsWith("%")?s[e].cond="endsWith":s[e].cond="equals",s[e].expr=s[e].expr.replace(/%/g,"");else if("NOT LIKE"===r[0]||"NOT"===r[0])s[e].expr.startsWith("%")&&s[e].expr.endsWith("%")?s[e].cond="doesNotContain":s[e].cond="doesNotEqual",s[e].expr=s[e].expr.replace(/%/g,"");else if("="===r[0])s[e].cond="equals";else if("<>"===r[0])s[e].cond="doesNotEqual";else if("<"===r[0])s[e].cond="lessThan";else if("<="===r[0])s[e].cond="lessThanOrEqualTo";else{if(">="!==r[0])throw new Error($.ig.DataSourceLocale.locale.unrecognizedCondition+t);s[e].cond="greaterThanOrEqualTo"}}return s},_findMatch:function(t,e,i,n,r){var o,s="false"===r||"true"===r||"today"===r||"yesterday"===r||"thisMonth"===r||"lastMonth"===r||"nextMonth"===r||"thisYear"===r||"lastYear"===r||"nextYear"===r||"null"===r||"notNull"===r||"empty"===r||"notEmpty"===r;if(""===e&&!s)return!0;if(o=$.trim(e),"regexp"===i||"string"===i&&o.startsWith("/")&&o.endsWith("/"))return"regexp"===i?this._findRegExpMatch(t,e,!1):this._findRegExpMatch(t,o.substring(1,o.length-1),!0);if("date"===$.type(t)&&(void 0===i||null===i)||"date"===i){try{e=this._parser.toDate(e)}catch(t){}return this._findDateMatch(t,e,r)}return"boolean"===$.type(t)&&(void 0===i||null===i)||"boolean"===i||"bool"===i?this._findBoolMatch(t,r):"number"===$.type(t)&&(void 0===i||null===i)||"number"===i?this._findNumericMatch(t,e,r):this._findStringMatch(t,e,n,r)},_findStringMatch:function(t,e,i,n){var r;if(r=null!==t&&void 0!==t?i?t.toLowerCase():t||"":t,null!==e&&void 0!==e&&(e=i?e.toString().toLowerCase():e.toString()),"startsWith"===n)return null!==r&&void 0!==r&&r.startsWith(e);if("endsWith"===n)return null!==r&&void 0!==r&&r.endsWith(e);if("contains"===n)return null!==r&&void 0!==r&&r.indexOf(e)!==-1;if("doesNotContain"===n)return null!==r&&void 0!==r&&r.indexOf(e)===-1;if("equals"===n)return null!==r&&void 0!==r&&r===e;if("doesNotEqual"===n)return null!==r&&void 0!==r&&r!==e;if("null"===n)return null===r;if("notNull"===n)return null!==r;if("empty"===n)return null===r||void 0===r||0===r.length;if("notEmpty"===n)return null===r||void 0===r||0!==r.length;throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+n)},_findRegExpMatch:function(t,e,i){return i?new RegExp(e).test(t):t.match(e)},_findNumericMatch:function(t,e,i){if("number"!==$.type(e)&&(e=this._parser.toNumber(e)),"equals"===i)return t===e;if("doesNotEqual"===i)return t!==e;if("greaterThan"===i)return t>e;if("lessThan"===i)return t<e;if("greaterThanOrEqualTo"===i)return t>=e;if("lessThanOrEqualTo"===i)return t<=e;if("null"===i)return null===t;if("notNull"===i)return null!==t;if("empty"===i)return null===t||void 0===t||isNaN(t);if("notEmpty"===i)return null!==t&&void 0!==t&&!isNaN(t);throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+i)},_findBoolMatch:function(t,e){if("true"===e)return t;if("false"===e)return!t;if("null"===e)return null===t;if("notNull"===e)return null!==t;if("empty"===e)return null===t||void 0===t;if("notEmpty"===e)return null!==t&&void 0!==t;throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+e)},_findDateMatch:function(t,e,i){var n,r,o,s,a,l,u,h,d,c,p,f,g,m,v,_,y,b,w,x,C,T,S,k,P,E,I;if(null!==t&&void 0!==t&&(n=t.getDay(),k=t.getDate(),r=t.getMinutes(),o=t.getSeconds(),s=t.getHours(),a=t.getMilliseconds(),l=t.getYear(),g=t.getMonth()),"date"===$.type(e)?(u=e.getDay(),P=e.getDate(),h=e.getMinutes(),d=e.getSeconds(),c=e.getHours(),p=e.getMilliseconds(),f=e.getYear(),m=e.getMonth()):e=new Date(e),_=new Date,I=new Date(_.getTime()),I.setDate(I.getDate()-1),y=_.getDay(),E=_.getDate(),b=_.getMinutes(),w=_.getSeconds(),x=_.getHours(),C=_.getMilliseconds(),T=_.getYear(),S=_.getMonth(),v=n===u&&r===h&&s===c&&l===f&&g===m,"equals"===i)return v;if("doesNotEqual"===i)return!v;if("before"===i)return t<e;if("after"===i)return t>e;if("today"===i)return k===E&&g===S&&l===T;if("yesterday"===i)return I.getDay()===t.getDay()&&I.getMonth()===t.getMonth()&&I.getFullYear()===t.getFullYear();if("thisMonth"===i)return g===S&&l===T;if("lastMonth"===i)return 0===S?11===g&&l===T-1:g===S-1&&l===T;if("nextMonth"===i)return 11===S?0===g&&l===T+1:g===S+1&&l===T;if("thisYear"===i)return l===T;if("lastYear"===i)return l===T-1;if("nextYear"===i)return l===T+1;if("on"===i)return l===f&&g===m&&k===P;if("notOn"===i)return!(l===f&&g===m&&k===P);if("null"===i)return null===t;if("notNull"===i)return null!==t;if("empty"===i)return null===t||void 0===t;if("notEmpty"===i)return null!==t&&void 0!==t;throw new Error($.ig.DataSourceLocale.locale.errorUnrecognizedFilterCondition+i)},totalRecordsCount:function(t,e,i,n){var r,o,s;if(void 0!==n&&null!==n)if(e){for(o=e.split("."),r=i,s=0;s<o.length;s++)r=r[o[s]];i&&void 0!==r&&null!==r?("number"===$.type(r)?this._recCount=r:this._recCount=parseInt(r,10),this.hasTotalRecordsCount(!0)):this.hasTotalRecordsCount(!1)}else this.hasTotalRecordsCount(!1);else void 0!==t&&null!==t&&(this._recCount=t);
return this._recCount},hasTotalRecordsCount:function(t){return void 0===t||null===t?this._hasCount:void(this._hasCount=t)},metadata:function(t){return null===t||void 0===t||""===t||null===this._metadata||void 0===this._metadata?this._metadata:this._metadata[t]},totalLocalRecordsCount:function(){return this._filter?this._dataView.length:this._data.length},pageCount:function(){var t,e;return e=this._filter?this.totalRecordsCount()>0?this.totalRecordsCount():this._filteredData.length:this.totalRecordsCount()>0?this.totalRecordsCount():this._data.length,t=Math.ceil(e/this.settings.paging.pageSize),0===t?1:t},pageIndex:function(t){return void 0===t||null===t?void 0===this.settings.paging.pageIndex?0:this.settings.paging.pageIndex:(this.settings.paging.pageIndex=parseInt(t,10),this._cachedDataView=null,"local"===this.settings.paging.type?(this._page(this.settings.paging.appendPage),this._invokeCallback()):this.dataBind(),this)},prevPage:function(){return this.pageIndex(0===this.pageIndex()?0:this.pageIndex()-1),this},nextPage:function(){return this.pageIndex()>=this.pageCount()-1?this:(this.pageIndex(this.pageIndex()+1),this)},pageSize:function(t){return void 0===t||null===t?this.settings.paging.pageSize:(this.settings.paging.pageSize=parseInt(t,10),this.settings.paging.appendPage&&(this.settings.paging.pageIndex=0,this._cachedDataView=null),"local"===this.settings.paging.type?(this._page(),this._invokeCallback()):this.dataBind(),this)},pageSizeDirty:function(t){return void 0===t||null===t?this._dirty:void(this._dirty=t)},recordsForPage:function(t){var e,i,n,r,o=[],s=0;for(i=this.pageSize(),e=t*i,n=e+i>=this._data.length?this._data.length:e+i,r=e;r<n;r++)o[s++]=this._data[r];return o},tableToObject:function(t){try{var e,i,n,r,o=$(t).children("tbody").children();for(e=o.length>0?o[0].cells.length:0,i=[],n=0;n<o.length;n++)for(i[n]=[],r=0;r<e;r++)i[n][r]=o[n].cells[r].innerHTML;return i}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingHtmlTableNoSchema+t.message)}},_validateTable:function(t){if(0===t.length)throw new Error($.ig.DataSourceLocale.locale.errorTableWithIdNotFound+this.dataSource());return t[0]},stringToJSONObject:function(t){var e={};try{e=JSON.parse(t)}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingJsonNoSchema+t.message)}return e},stringToXmlObject:function(t){var e,i;try{window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):(i=new DOMParser,e=i.parseFromString(t,"text/xml"))}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingXmlNoSchema+t.message)}return e}}),$.ig.TypeParser=$.ig.TypeParser||Class.extend({toStr:function(t){return this.isNullOrUndefined(t)?"":t+this.empty()},toDate:function(t,e,i){return this.isNullOrUndefined(t)||""===t||"function"===$.type(t)?null:"date"===$.type(t)?t:t.length&&t.indexOf("/Date(")!==-1?void 0===this._serverOffsets||void 0===this._serverOffsets[e]?new Date(parseInt(t.replace("/Date(","").replace(")/",""),10)+this._serverOffset):void 0!==this._serverOffsets[e][i]&&null!==this._serverOffsets[e][i]?new Date(parseInt(t.replace("/Date(","").replace(")/",""),10)+this._serverOffsets[e][i]):new Date(parseInt(t.replace("/Date(","").replace(")/",""),10)):new Date(t)},toNumber:function(t){return this.isNullOrUndefined(t)||"function"===$.type(t)?null:t*this.num()},toBool:function(t){return"boolean"===$.type(t)?t:!this.isNullOrUndefined(t)&&"function"!==$.type(t)&&("1"===t||"true"===t.toLowerCase()||1===t)},isNullOrUndefined:function(t){return null===t||void 0===t},empty:function(){return""},num:function(){return 1}}),$.ig.DataSchema=$.ig.DataSchema||Class.extend({schema:{fields:[],searchField:null,outputResultsName:null},init:function(t,e){e&&(this.schema=$.extend(!0,{},$.ig.DataSchema.prototype.schema,e)),this._type=t,this._parser=new $.ig.TypeParser,this._parser._serverOffset=0},transform:function(t){var e=[];switch(this._type){case"array":e=this._arrays(t);break;case"json":e=this._json(t);break;case"xml":e=this._xml(t);break;case"htmlTableDom":e=this._table(t);break;case"htmlListDom":e=this._list(t);break;default:throw new Error("unknown data source type: "+this._type)}return e},_setResKey:function(t,e){return this.isEmpty(t)?e:(e[t]=[],e[t])},_convertType:function(t,e,i,n){return"string"===t?this._parser.toStr(e):"date"===t?this._parser.toDate(e,i,n):"number"===t?this._parser.toNumber(e):"boolean"===t||"bool"===t?this._parser.toBool(e):e},_val:function(t,e,i,n,r){var o,s=t.type;this.isEmpty(s)?this.isEmpty(t.name)?r?i[n][o]=r[n][o]:i[n][o]=e:r?i[n][t.name]=r[n][t.name]:i[n][t.name]=e:this.isEmpty(t.name)?i[n][o]=this._convertType(s,e,this._pk?i[n][this._pk]:n,t.name):i[n][t.name]=this._convertType(s,e,this._pk?i[n][this._pk]:n,t.name)},isEmpty:function(t){return void 0===t||null===t||""===t},_arrays:function(t){var e,i,n,r,o,s=this.schema.outputResultsName,a={};o=this._setResKey(s,a),this.isObjEmpty(o)&&"array"!==$.type(o)&&(o=[],a=o);try{for(t.length>0&&(r="array"===$.type(t[0])),e=0;e<t.length;e++)if(void 0!==t[e])for(o.push({}),i=0;i<this.schema.fields.length;i++)n=r?t[e][i]:t[e][this.schema.fields[i].name],this._val(this.schema.fields[i],n,o,o.length-1)}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingArrays+t.message)}return a},_json:function(data){var i,j,root,resKey=this.schema.outputResultsName,out={},results,pkObj={};results=this._setResKey(resKey,out),this.isObjEmpty(results)&&(results=[],out=results);try{if(data.Metadata&&void 0!==data.Metadata.timezoneOffset&&!isNaN(data.Metadata.timezoneOffset)?(this._serverOffset=data.Metadata.timezoneOffset,this._parser._serverOffset=this._serverOffset,data.Metadata.timezoneOffsets&&(this._serverOffsets=data.Metadata.timezoneOffsets,this._parser._serverOffsets=data.Metadata.timezoneOffsets)):this._parser._serverOffset=0,this.isEmpty(this.schema.searchField)||(root=eval("data."+this.schema.searchField),root||"array"!==$.type(data)||(root=data)),(void 0===root||this.isEmpty(this.schema.searchField))&&(root=data),root.length||"object"!==$.type(root)||(root=[root]),root&&root.length&&root.length>0){if(this._pk)for(j=0;j<this.schema.fields.length;j++)if(this.schema.fields[j].name===this._pk){pkObj=this.schema.fields[j];break}for(i=0;i<root.length;i++)for(results[i]={},this._pk&&this._val(pkObj,root[i][pkObj.name],results,i,root),j=0;j<this.schema.fields.length;j++)if("ig_pk"!==this.schema.fields[j].name&&this.schema.fields[j].name!==this._pk){if(void 0===root[i][this.schema.fields[j].name])throw new Error($.ig.DataSourceLocale.locale.errorSchemaMismatch+this.schema.fields[j].name);this._val(this.schema.fields[j],root[i][this.schema.fields[j].name],results,i,root)}}}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingJson+t.message)}return out},_xml:function(t,e){var i,n,r,o,s,a,l,u,h,d,c,p,f,g,m,v=this.schema.outputResultsName,_={},y=0;g=window.ActiveXObject,a=this._setResKey(v,_),this.isObjEmpty(a)&&(a=[],_=a);try{if(this.isEmpty(this.schema.searchField))r=t;else if(l=this._xmlHasNamespaces(t))u=this.schema.searchField.startsWith("//")?this.schema.searchField.substring(2,this.schema.searchField.length):this.schema.searchField,r=this._findXmlRecordsRoot(t,u);else if(void 0===window.ActiveXObject)r=!e||e.length<=0?t.evaluate(this.schema.searchField,t,null,XPathResult.ANY_TYPE,null):t.evaluate(e,t,null,XPathResult.ANY_TYPE,null);else{if("undefined"==typeof t.selectNodes){var b=(new XMLSerializer).serializeToString(t);t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(b)}r=t.selectNodes(this.schema.searchField)}if(l)for(p=r.childNodes.length,y=0,i=0;i<p;i++){for(d=r.childNodes[i],a.push({}),n=0;n<this.schema.fields.length;n++)for(f=d.childNodes.length,h=0;h<f;h++)if(c=d.childNodes[h],this.schema.fields[n].name===(void 0===g?c.localName:c.baseName)){this._val(this.schema.fields[n],void 0===g?c.textContent:c.text,a,y);break}$.isEmptyObject(a[y])?a.pop():y++}else if(r&&void 0!==window.ActiveXObject)for(i=0;i<r.length;i++)for(s=r.item(i),a[i]={},n=0;n<this.schema.fields.length;n++)o=s.selectSingleNode(this.schema.fields[n].xpath),o?1===o.nodeType&&this.schema.childDataProperty&&o.nodeName===this.schema.childDataProperty?(this.schema.searchField=this.schema.childDataProperty,a[i][o.nodeName]=this._xml(s)):this._val(this.schema.fields[n],o.text,a,i):a[i][this.schema.fields[n].name]="";else if(r)for(i=0,s=r.iterateNext();s;){for(a[i]={},n=0;n<this.schema.fields.length;n++)o=t.evaluate(this.schema.fields[n].xpath,s,null,XPathResult.ANY_TYPE,null).iterateNext(),o?1!==o.nodeType||!this.schema.childDataProperty||o.nodeName!==this.schema.childDataProperty&&o.nodeName!==this.schema.seachField?this._val(this.schema.fields[n],o.textContent,a,i):(m=!e||e.length<=0?this.schema.searchField+"["+(i+1)+"]/"+this.schema.childDataProperty:e+"["+(i+1)+"]/"+this.schema.childDataProperty,a[i][this.schema.childDataProperty]=this._xml(t,m)):a[i][this.schema.fields[n].name]="";i++,s=r.iterateNext()}}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingXml+t.message)}return _},_findXmlRecordsRoot:function(t,e){var i,n,r,o,s;if(o=window.ActiveXObject,(void 0===o?t.localName:t.baseName)===e)s=t.parentNode;else if(t&&t.childNodes&&t.childNodes.length>0)for(n=t.childNodes.length,i=0;i<n;i++)r=t.childNodes[i],r.childNodes&&r.childNodes.length>0&&(s=this._findXmlRecordsRoot(r,e));return s},_xmlHasNamespaces:function(t){var e,i,n,r,o;if(t.childNodes&&t.childNodes.length&&t.childNodes.length>0){for(r=t.childNodes.length,e=0;e<r;e++){if(n=t.childNodes[e],!n)return!1;if(i=n.namespaceURI,""!==i&&void 0!==i&&null!==i)return!0}if(n&&n.childNodes&&n.childNodes.length>0)return!!(o=n.childNodes[0])&&(i=o.namespaceURI,""!==i&&void 0!==i&&null!==i)}return!1},_table:function(t){var e,i,n,r,o,s,a=this.schema.outputResultsName,l={};r=$(t).find("tbody")[0],s=this._setResKey(a,l),this.isObjEmpty(s)&&(s=[],l=s);try{if(!r||!r.nodeName||"TBODY"!==r.nodeName)throw new Error($.ig.DataSourceLocale.locale.errorExpectedTbodyParameter);for(o=r.rows,e=0;e<o.length;e++)for(n=o[e],s[e]={},i=0;i<this.schema.fields.length;i++)this._val(this.schema.fields[i],n.cells[i].innerHTML,s,e)}catch(t){throw new Error($.ig.DataSourceLocale.locale.errorParsingHtmlTable+t.message)}return l},_list:function(t){var e,i,n,r,o,s,a,l,u,h,d,c=this,p=$(t),f="data-";return $.mobile&&$.mobile.ns&&(f+=$.mobile.ns),e=[],p&&(p.is("ul")||p.is("ol"))&&p.children().length>0&&p.children("li:not(["+f+'role="itemTemplate"], ['+f+'role="detailsTemplate"], ['+f+'role="dividerTemplate"])').each(function(t){if(o=$(this),i=o.children("img"),e[t]={},c.schema.hasOwnProperty("primaryKey")&&c._val(c.schema.primaryKey,o.index(),e,t),c.schema.hasOwnProperty("isDivider")&&c._val(c.schema.isDivider,"list-divider"===o.attr(f+"role"),e,t),i.length>0&&i.attr("src")&&c.schema.hasOwnProperty("imageUrl")&&c._val(c.schema.imageUrl,i.attr("src"),e,t),n=o.children("a"),n.length>0)a=n.html(),n.attr("href")&&c.schema.hasOwnProperty("navigateUrl")&&c._val(c.schema.navigateUrl,n.attr("href"),e,t),n.attr("target")&&c.schema.hasOwnProperty("target")&&c._val(c.schema.target,n.attr("target"),e,t),0===i.length&&(i=n.children("img"),i.length>0&&i.each(function(){a=this.outerHTML?a.replace(this.outerHTML,""):a.replace($("<div>").append(this).html(),"")}),i.length>0&&i.attr("src")&&c.schema.hasOwnProperty("imageUrl")&&c._val(c.schema.imageUrl,i.attr("src"),e,t));else for(a="",l=0;l<o[0].childNodes.length;l++)3===o[0].childNodes[l].nodeType&&o[0].childNodes[l].data&&(a+=$.trim(o[0].childNodes[l].data));c.schema.hasOwnProperty("header")&&(u=o.children("h1, h2, h3, h4, h5, h6"),0===u.length&&n.length>0&&(u=n.children("h1, h2, h3, h4, h5, h6")),u.length>0&&(c._val(c.schema.header,u.text(),e,t),u.each(function(){a=this.outerHTML?a.replace(this.outerHTML,""):a.replace($("<div>").append(this).html(),"")}))),c.schema.hasOwnProperty("description")&&(h=o.children("p, dd"),0===h.length&&n.length>0&&(h=n.children("p, dd")),h.length>0&&(c._val(c.schema.description,h.text(),e,t),h.each(function(){a=this.outerHTML?a.replace(this.outerHTML,""):a.replace($("<div>").append(this).html(),"")}))),c.schema.hasOwnProperty("count")&&(d=o.children("span.ui-li-count"),0===d.length&&n.length>0&&(d=n.children("span.ui-li-count")),d.length>0&&(c._val(c.schema.count,parseInt(d.text(),10),e,t),d.each(function(){a=this.outerHTML?a.replace(this.outerHTML,""):a.replace($("<div>").append(this).html(),"")}))),c.schema.hasOwnProperty("text")&&c._val(c.schema.text,a,e,t),r=o.attr("id"),r&&c.schema.hasOwnProperty("value")&&c._val(c.schema.value,r,e,t),s=o.children("ul, ol"),s.length>0&&c.schema.hasOwnProperty("childData")&&c.schema.childData.hasOwnProperty("name")&&(e[t][c.schema.childData.name]=c._list(s))}),e},isObjEmpty:function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},fields:function(){return this.schema.fields}}),$.ig.RemoteDataSource=$.ig.RemoteDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="remoteUrl",this._super(t),this}}),$.ig.JSONDataSource=$.ig.JSONDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="json",this._super(t),this}}),$.ig.RESTDataSource=$.ig.RESTDataSource||$.ig.DataSource.extend({settings:{restSettings:{create:{url:null,template:null,batch:!1},update:{url:null,template:null,batch:!1},remove:{url:null,template:null,batch:!1},encodeRemoveInRequestUri:!0,contentSerializer:null,contentType:"application/json; charset=utf-8"}},init:function(t){return t||(t={}),t.restSettings=$.extend(!0,this.settings.restSettings,t.restSettings),this._createHttpHandlers(),this._createLogVerbMapping(),this._setLazyUrls(),this._super(t),this},saveChanges:function(){var t,e,i,n={POST:[],PUT:[],DELETE:[],CELL:[]};for(this._asyncCallbackCount=0,i=0;i<this._accumulatedTransactionLog.length;i++)t=this._accumulatedTransactionLog[i],e=this._logVerbMap[t.type],"cell"===t.type?n.CELL.push(t):this._isBatch(e)===!0?n[e].push(t):(this._asyncCallbackCount++,this._saveSingleChange(e,t));n.CELL.length>0&&this._saveAllCellChanges(n.CELL),n.POST.length>0&&(this._asyncCallbackCount++,this._saveAllCreateChanges(n.POST)),n.PUT.length>0&&(this._asyncCallbackCount++,this._saveAllUpdateChanges(n.PUT)),n.DELETE.length>0&&(this._asyncCallbackCount++,this._saveAllDeleteChanges(n.DELETE))},_saveSingleChange:function(t,e){var i,n;i="POST"===t||"PUT"===t?e.row:null,n=this._getProperUrl(t,!1,"DELETE"===t||"PUT"===t?e.rowId:void 0),this._call(t,n,i)},_saveAllCellChanges:function(t){var e,i,n={},r=[];for(e=0;e<t.length;e++)i=t[e],void 0===n[i.rowId]&&(n[i.rowId]={},n[i.rowId].row=this.findRecordByKey(i.rowId)),n[i.rowId].row[i.col]=i.value;if($.each(n,function(t,e){e.rowId=t,r.push(e)}),this._isBatch("PUT")===!0)this._asyncCallbackCount++,this._saveAllUpdateChanges(r);else for(e=0;e<r.length;e++)this._asyncCallbackCount++,this._saveSingleChange("PUT",r[e])},_saveAllCreateChanges:function(t){var e,i=[];for(e=0;e<t.length;e++)i.push(t[e].row);this._call("POST",this._getProperUrl("POST",!0),i)},_saveAllUpdateChanges:function(t){var e,i=[],n="?";for(e=0;e<t.length;e++)i.push(t[e].row),n+="index="+t[e].rowId+(e!==t.length-1?"&":"");this._call("PUT",this._getProperUrl("PUT",!0)+n,i)},_saveAllDeleteChanges:function(t){var e,i="",n=null;if(this.settings.restSettings.encodeRemoveInRequestUri===!0)for(i="?",e=0;e<t.length;e++)i+="index="+t[e].rowId+(e!==t.length-1?"&":"");else for(n=[],e=0;e<t.length;e++)n.push(t[e].rowId);this._call("DELETE",this._getProperUrl("DELETE",!0)+i,n)},_createHttpHandlers:function(){this._okHandler=$.proxy(this._responseOk,this),this._createdHandler=$.proxy(this._responseCreated,this),this._noContentHandler=$.proxy(this._responseNoContent,this),this._httpHandlers={POST:{201:this._createdHandler},PUT:{200:this._okHandler,201:this._createdHandler,204:this._noContentHandler},DELETE:{200:this._okHandler,204:this._noContentHandler}}},_createLogVerbMapping:function(){this._logVerbMap={newrow:"POST",row:"PUT",deleterow:"DELETE",cell:"PUT"}},_setLazyUrls:function(){var t=this.settings.restSettings,e=null,i=null;$.each(t,function(t,n){n&&(n.url&&(e=n.url),n.template&&(i=n.template))}),$.each(t,function(t,n){n&&(void 0!==n.url&&null===n.url&&(n.url=e),void 0!==n.template&&null===n.template&&(n.template=i))}),this._putUrl=t.update.url,this._putTmpl=t.update.template,this._postUrl=t.create.url,this._postTmpl=t.create.template,this._deleteUrl=t.remove.url,this._deleteTmpl=t.remove.template},_getProperUrl:function(t,e,i){var n=t.toLowerCase(),r=this["_"+n+"Url"];return r&&r.length>0&&"/"!==r.substr(r.length-1)&&(r+="/"),e&&e!==!1||(null!==this["_"+n+"Tmpl"]?(r=this["_"+n+"Tmpl"],i&&(r=r.replace("${id}",i))):i&&(r+=i)),r},_responseOk:function(t,e,i){this._asyncCallbackCount--,0===this._asyncCallbackCount&&this._saveChangesSuccess({Success:"success"===e},e,i)},_responseCreated:function(t,e,i){this._asyncCallbackCount--,0===this._asyncCallbackCount&&this._saveChangesSuccess({Success:"success"===e},e,i)},_responseNoContent:function(t,e,i){this._asyncCallbackCount--,0===this._asyncCallbackCount&&this._saveChangesSuccess({Success:"success"===e},e,i)},_isBatch:function(t){switch(t){case"POST":return this.settings.restSettings.create.batch;case"PUT":return this.settings.restSettings.update.batch;case"DELETE":return this.settings.restSettings.remove.batch;default:return!1}},_call:function(t,e,i){var n,r=this.settings.restSettings.contentSerializer;null!==r&&"string"==typeof r&&(r=window[r]),n=null!==r?r(i):JSON.stringify(i),$.ajax({type:t,url:e,data:n,statusCode:this._httpHandlers[t],contentType:this.settings.restSettings.contentType,cache:!1,processData:!0})}}),$.ig.JSONPDataSource=$.ig.JSONPDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.responseDataType="jsonp",this._super(t),this}}),$.ig.XmlDataSource=$.ig.XmlDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="xml",this._super(t),this}}),$.ig.FunctionDataSource=$.ig.FunctionDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="function",this._super(t),this}}),$.ig.HtmlTableDataSource=$.ig.HtmlTableDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="htmlTableDom",this._super(t),this}}),$.ig.ArrayDataSource=$.ig.ArrayDataSource||$.ig.DataSource.extend({init:function(t){return t||(t={}),t.type="array",this._super(t),this}}),$.ig.MashupDataSource=$.ig.MashupDataSource||$.ig.DataSource.extend({mashupSettings:{ignorePartialRecords:!1,dataSource:[]},init:function(t){return this._super(t),t&&(this.settings=$.extend(!0,{},$.ig.DataSource.prototype.settings,t),this.settings=$.extend(!0,{},$.ig.MashupDataSource.prototype.mashupSettings,this.settings)),this._sources=[],this._dataBindingComplete=!1,this._sourcesStatus=[],this._hashedDataViews=[],this},_checkDataBindingComplete:function(t,e,i){var n,r,o,s,a,l,u,h=!0,d=0,c=[];for(this._dataBindingComplete=!0,n=0;n<this._sources.length;n++)this._sources[n]===i&&(this._sourcesStatus[n]=1),0===this._sourcesStatus[n]&&(this._dataBindingComplete=!1);if(this._dataBindingComplete){for(n=0;n<this._sources.length;n++)if(""===this._sources[n].settings.primaryKey||null===this._sources[n].settings.primaryKey||void 0===this._sources[n].settings.primaryKey){h=!1;break}for(d=this._sources[0].dataView().length,n=0;n<this._sources.length;n++)d=this.settings.ignorePartialRecords?this._sources[n].dataView().length<d?this._sources[n].dataView().length:d:this._sources[n].dataView().length>d?this._sources[n].dataView().length:d;if(h){for(n=0;n<this._sources.length;n++)for(this._hashedDataViews[n]={},r=0;r<this._sources[n].dataView().length;r++)this._hashedDataViews[n][this._sources[n].dataView()[r][this._sources[n].settings.primaryKey]]=this._sources[n].dataView()[r];for(n=0;n<d;n++)for(c[n]={},r=0;r<this._sources.length;r++)this._sources[r].dataView().length>n?(l=this._sources[r].dataView()[n][this._sources[r].settings.primaryKey],c[n]=$.extend(!0,{},c[n],this._hashedDataViews[r][l])):c[n]=$.extend(!0,{},c[n],{})}else for(n=0;n<d;n++){for(c[n]={},r=0;r<this._sources.length;r++)if(s=this._sources[r],s.dataView()[0].length)for(o=0;o<s.dataView()[0].length;o++)a+=o,s.schema()&&s.schema().fields().length>0?c[n][s.schema().fields()[o]]=n>=s.dataView().length?"":s.dataView()[n][s.schema().fields()[o]]:c[n][a]=n>=s.dataView().length?"":s.dataView()[n][o];else for(u in s.dataView()[n])s.dataView()[n].hasOwnProperty(u)&&(c[n][u]=n>=s.dataView().length?"":s.dataView()[n][u]);a=0}this.settings.dataSource=c,this.settings.type="array",this._runtimeType=this.analyzeDataSource(),this.dataBind()}},dataBind:function(){var t,e=this.settings.dataSource;if(this._dataBindingComplete)this._dataBindingComplete=!1,this._super();else{for(this._dataBindingComplete=!1,t=0;t<e.length;t++)e[t]instanceof $.ig.DataSource?this._sources[t]=e[t]:e[t].hasOwnProperty("dataSource")&&e[t].dataSource instanceof $.ig.DataSource?this._sources[t]=e[t].dataSource:this._sources[t]=new $.ig.DataSource(e[t]),this._sources[t].settings.callee=this,this._sources[t].settings.callback=this._checkDataBindingComplete,this._sourcesStatus[t]=0;for(t=0;t<e.length;t++)this._sources[t].dataBind()}return this}}),$.ig.HierarchicalDataSource=$.ig.HierarchicalDataSource||Class.extend({settings:{autogenerate:!1,initialDataBindDepth:0,maxDataBindDepth:-1,defaultChildrenDataProperty:"children",callback:null,callee:null,data:[],dataSource:null,dataBinding:null,dataBound:null,type:"unknown",responseDataType:null,responseContentType:null,localSchemaTransform:!0,urlParamsEncoding:null,urlParamsEncoded:null,requestType:"GET",odata:!1,paging:{},sorting:{},filtering:{},schema:[]},init:function(t){t&&(this.__ds=t.dataSource,t.dataSource=null,this.settings=$.extend(!0,{},$.ig.HierarchicalDataSource.prototype.settings,t),this.settings.dataSource=this.__ds),this._rootopts=this.settings,this._rootopts.urlParamsEncoded=$.proxy(this._encodeHierarchicalUrlParams,this),this._rootopts.dataSource instanceof $.ig.DataSource?(this._rootds=this._rootopts.dataSource,this._rootds.settings.urlParamsEncoded=this.settings.urlParamsEncoded,this._rootds.settings.odata=this.settings.odata,this._rootds.settings.schema||(this._rootds.settings.schema={}),this._rootds.settings.schema.layouts=this.settings.schema.layouts):"string"===$.type(this._rootopts.dataSource)&&this._rootopts.dataSource.indexOf("$callback=?")!==-1?this._rootds=new $.ig.JSONPDataSource(this._rootopts):!this._rootopts.restSettings||null===this._rootopts.restSettings.update.url&&null===this._rootopts.restSettings.update.template&&null===this._rootopts.restSettings.create.url&&null===this._rootopts.restSettings.create.template&&null===this._rootopts.restSettings.remove.url&&null===this._rootopts.restSettings.remove.template?this._rootds=new $.ig.DataSource(this._rootopts):this._rootds=new $.ig.RESTDataSource(this._rootopts)},dataBind:function(t,e){this._rootds.dataBind(t,e)},root:function(){return this._rootds||(this._rootds=new $.ig.DataSource(this._rootopts)),this._rootds},dataAt:function(t,e){var i,n,r,o=this.root().data(),s=t.split("/"),a=e.split("/"),l="Records",u=null,h=this.settings.primaryKey,d="",c=[],p=[],f=!1;for(n=0;n<s.length;n++)if(h=s[n].split(":")[0],d=s[n].split(":")[1],""!==s[n]){for(r=0;o&&r<o.length;r++){if(h&&h.indexOf(",")!==-1)for(c=h.split(","),p=d.split(","),i=0;i<c.length&&(!o[r][c[i]].charAt&&p[i].charAt&&(p[i]=parseInt(p[i],10)),f=o[r][c[i]]===p[i],f);i++);else void 0!==o[r][h]&&!o[r][h].charAt&&d.charAt&&(d=parseInt(d,10)),f=o[r][h]===d;if(f){u=o[r][a[n]],l=this.root().schema&&this.root().schema()&&this.root().schema().schema?this.root().schema().schema.searchField:l,s.length>1&&n<s.length-1&&"array"!==$.type(u)&&u[l]&&(u=u[l]);break}}o=u}return u},_encodeUrlPath:function(t,e){return"path="+t+"&layout="+e},_encodeHierarchicalUrlParams:function(t,e){var i,n,r,o,s="",a=this.settings.schema.layouts,l=0;if(this.settings.odata&&0!==this.settings.initialDataBindDepth){i=n=0;for(o in a)a.hasOwnProperty(o)&&l++;l++;for(o in a)if(a.hasOwnProperty(o)&&"function"!==$.type(a[o])){for(o.startsWith("/")&&(o=o.substring(1,o.length-1)),r=o.split("/"),i=0;i<r.length;i++)r[i]=r[i].substring(0,r[i].indexOf(":"));r=r.join("/"),0!==n&&n!==l-1&&(s+=","),s+=r,n++}e.selectParams.$expand=s}else e.selectParams.dbdepth=this.settings.initialDataBindDepth}}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("ig.datasource",["ig.util"],function(){return $.ig.DataSource})}(jQuery),define("igDataSource",["igUtil","igDataSource_en"],function(){}),$.ig=$.ig||{},$.ig.Templating||($.ig.Templating={},$.extend($.ig.Templating,{locale:{undefinedArgument:"An error has occurred while trying to retrieve data source property: "}})),function(t){t.ig=t.ig||{},t.extend(t.ig,{tmpl:function(t,e,i){var n,r=t;return r=r.replace(this.regExp.lineBreak,""),r=r.replace(this.regExp.comment,""),"function"==typeof e&&(e=i?e.apply(this,i):e.call()),this._internalTmplCache&&this._internalTmplCache.hasOwnProperty(r)?(this.tokens=this._internalTmplCache[r].tokens,this.args=this._internalTmplCache[r].args,this.i=this._internalTmplCache[r].i,this._hasBlock=this._internalTmplCache[r]._hasBlock,r=this._internalTmplCache[r].tmpl):(this.tokens=[],this.args=[],this.i=0,this._tokenizeTemplate(r),n=r,this._internalTmplCache[n]={},this._internalTmplCache[n].tokens=this.tokens,this.regExp.block.test(r)?(this._hasBlock=!0,r=this._tokenizeDirectives(r)):this._hasBlock=!1,this._internalTmplCache[n].args=this.args,this._internalTmplCache[n].i=this.i,this._internalTmplCache[n]._hasBlock=this._hasBlock,this._internalTmplCache[n].tmpl=r),this.tokens?(r=this._hasBlock?this._compileTemplate(r,e):this._populateTemplate(r,e),delete this.args,delete this.tokens,delete this._hasBlock,delete this.i,r):r},clearTmplCache:function(){delete this._internalTmplCache,this._internalTmplCache={}},encode:function(t){return null!==t&&void 0!==t?t.toString().replace(this.regExp.lt,"&lt;").replace(this.regExp.gt,"&gt;").replace(this.regExp.ap,"&#39;").replace(this.regExp.ic,"&#34;"):""},regExp:{comment:/(?!\"|\')#[^#]*#(?!\"|\')/g,sub:/\$\{(([\w\$]+\.?[\w\$]*)+)\}/,nonEncodeSub:/\{\{html\s+([\w\$]+\.?[\w\$]*)+\}\}/,forSub:/\$\{(([\w\$]+\.[\w\$]*)+)\}/,arg:/args\[\d+\](?!.*\+)/,block:/\{\{(\w+).*?\}\}+(.*)(\{\{\/\1\}\})/,blockCont:/\{\{(?!\/)(\S+)(.*)\}\}(.*)/,blockDirective:/\{\{\S+.*?\}\}/,index:/\$i/g,lineBreak:/(\r\n|\n|\r)/gm,lt:/</g,gt:/>/g,ap:/'/g,ic:/"/g},_directives:{if:{start:"if (",close:") {",end:" }"},elseif:{start:" } else if (",close:") {",end:""},else:{start:" } else {",close:"",end:""},each:{start:"for (var i = 0; i < $data.length; i++) {",close:"",end:" }"}},_internalTmplCache:{},_tokenizeTemplate:function(t){var e,i;if(this.regExp.sub.test(t))for(e=this.regExp.sub.exec(t);null!==e;)i=e[1].split("."),t=t.replace(new RegExp("\\$\\{"+e[1].replace(/\$/g,"\\$")+"\\}","g"),""),e[3]=new RegExp("\\$\\{"+e[1].replace(/\$/g,"\\$")+"\\}","g"),e[1]=i,e[2]=!0,this.tokens.push(e),e=this.regExp.sub.exec(t);if(this.regExp.nonEncodeSub.test(t))for(e=this.regExp.nonEncodeSub.exec(t);null!==e;)i=e[1].split("."),t=t.replace(new RegExp("\\{\\{html\\s+"+e[1].replace(/\$/g,"\\$")+"\\}\\}","g"),""),e[3]=new RegExp("\\{\\{html\\s+"+e[1].replace(/\$/g,"\\$")+"\\}\\}","g"),e[1]=i,e[2]=!1,this.tokens.push(e),e=this.regExp.nonEncodeSub.exec(t)},_tokenizeDirectives:function(t){var e,i='var result = "";',n=this.regExp.block.exec(t);return(t.indexOf(n[0])>0||t.length!==n[0].length)&&(e=t.split(n[0]),e[0]&&e[0].length>0&&(this.args.push(e[0]),i+="result += args["+this.i++ +"];")),i+=this._handleCompleteBlock(n),e&&e.length>0&&e[1].length>0&&(this.args.push(e[1]),i+="result += args["+this.i++ +"];"),i+="return result;"},_handleCompleteBlock:function(t){var e=t[0];return e=e.replace("{{"+t[1],this._directives[t[1]].start),"each"===t[1]?e=this._handleEach(e,t):"if"===t[1]&&(e=this._handleIfElse(e,t)),e},_handleEach:function(t,e){var i,n,r,o,s,a,l=t;for(i=this.regExp.sub.exec(l),l=l.replace(i[0],""),l=l.replace("$data",i[0]),n=e[2],/\$data/.test(n)&&(n=n.replace(/\$data/g,'" + '+i[0]+'[i] + "'),this.args.push(i[0]),this.i++),r=this.regExp.forSub.exec(n);r;)n=n.replace(new RegExp("\\$\\{"+r[1]+"\\}","g"),'" + '+i[0]+"[i]"+r[1].substr(r[1].indexOf("."))+' + "'),r=this.regExp.forSub.exec(n);for(n=n.replace(/\$index/g,'" + i + "'),l=l.replace(e[2],'result += "'+n+'"'),l=l.replace(/\}\}/,this._directives[e[1]].close),l=l.replace(e[3],this._directives[e[1]].end),this.regExp.block.test(l)&&(a=this.regExp.block.exec(l),l=l.replace(a[0],this._handleCompleteBlock(a))),o=this.regExp.sub.exec(l);o;)s=new RegExp("\\$\\{"+o[1]+"\\}","g"),l=l.replace(s,"args["+this.i++ +"]"),this.args.push(o[0]),o=this.regExp.sub.exec(l);return l},_handleIfElse:function(t,e){var i,n,r,o,s=t,a=0,l=[];for(s=s.replace(/\}\}/,this._directives[e[1]].close),o=s.lastIndexOf(e[3]),s=s.substr(0,o)+s.slice(o+e[3].length-1),this.regExp.block.test(s)&&(r=this.regExp.block.exec(s),s=s.replace(r[0],this._handleCompleteBlock(r))),i=e[2].split(this.regExp.blockDirective),l.push(s.slice(0,s.indexOf(") {")+3)),l.push(s.slice(s.indexOf(") {")+3)),a;a<i.length;a++)i[a]&&i[a].length&&i[a].length>0&&(l[1]=l[1].replace(i[a],"result += args["+this.i++ +"];"),this.args.push(i[a]));for(s=l.join(""),e=this.regExp.blockCont.exec(s);e;)s=s.replace("{{"+e[1],this._directives[e[1]].start),s=s.replace(/\}\}/,this._directives[e[1]].close),e=this.regExp.blockCont.exec(s);for(n=this.regExp.sub.exec(s);n;)s=s.replace(new RegExp("\\$\\{"+n[1]+"\\}","g"),"args["+this.i++ +"]"),this.args.push(n[0]),n=this.regExp.sub.exec(s);return s},_populateTemplate:function(t,e){var i,n,r,o="";if(e.length){if(e.length)for(n=0;n<e.length;n++){for(r=t,i=0;i<this.tokens.length;i++)r=this._populateArgumentValue(e[n],this.tokens[i],r);r=r.replace(this.regExp.index,n),o+=r}}else{for(i=0;i<this.tokens.length;i++)t=this._populateArgumentValue(e,this.tokens[i],t);o=t}return o},_compileTemplate:function(e,i){var n,r,o,s,a,l="",u=[],h="";if(i.length){if(i.length)for(s=e.replace(this.regExp.index,"args["+this.args.length+"]"),a=new Function("args",s),r=0;r<i.length;r++){for(u=[],o=0;o<this.args.length;o++){for(h=this.args[o],n=0;n<this.tokens.length;n++){if(h===this.tokens[n][0]){h=this._getArgumentValue(i[r],this.tokens[n],h);break}"string"==typeof h&&(h=this._populateArgumentValue(i[r],this.tokens[n],h))}if(void 0===h)throw new Error(t.ig.Templating.locale.undefinedArgument+this.tokens[n][0]);"string"==typeof h&&(h=h.replace(this.regExp.index,r)),u.push(h)}u.push(r),l+=a.call(this,u)||""}}else{for(r=0;r<this.args.length;r++){for(h=this.args[r],n=0;n<this.tokens.length;n++){if(h===this.tokens[n][0]){h=this._getArgumentValue(i,this.tokens[n],h);break}"string"==typeof h&&(h=this._populateArgumentValue(i,this.tokens[n],h))}if(void 0===h)throw new Error(t.ig.Templating.locale.undefinedArgument+this.tokens[n][0]);"string"==typeof h&&(h=h.replace(this.regExp.index,0)),u.push(h)}e=e.replace(/\$i/g,0),l=new Function("args",e).call(this,u)||""}return l},_getArgumentValue:function(t,e,i){var n,r;if(e[1].length&&e[1].length>1){for(n=t,r=0;r<e[1].length;r++){if(!n||!n.hasOwnProperty(e[1][r])){n="";break}n=n[e[1][r]]}i=e[2]&&"string"==typeof n?this.encode(n):n}else i=e[2]&&"string"==typeof t[e[1]]?this.encode(t[e[1]]):t[e[1]];return i},_populateArgumentValue:function(t,e,i){var n,r,o=this;if(e[1].length&&e[1].length>1){for(n=t,r=0;r<e[1].length;r++){if(!n||!n.hasOwnProperty(e[1][r])){n="";break}n=n[e[1][r]]}i=e[2]&&"string"==typeof n?i.replace(e[3],function(){return o.encode(n)}):i.replace(e[3],function(){return n})}else i=e[2]?i.replace(e[3],function(){return o.encode(t[e[1]])}):i.replace(e[3],function(){return t[e[1]]});return i}})}(jQuery),define("igTemplating",["igUtil"],function(){}),$=$||{},$.ig=$.ig||{},$.ig.SharedLocale||($.ig.SharedLocale={},$.extend($.ig.SharedLocale,{locale:{popoverOptionChangeNotSupported:"Changing the following option after igPopover has been initialized is not supported:"}})),function(t){t.widget("ui.igLoading",{options:{cssClass:null,includeVerticalOffset:!0},_indicator:null,_create:function(){var e,i;
i=null===this.options.cssClass?"ui-igloadingmsg":this.options.cssClass,this._hgrid=this.element.closest(".ui-iggrid-root").closest(".ui-iggrid"),0===this.element.children("."+i).length&&(this._indicator=t("<span></span>").appendTo("body").attr("id",this.element[0].id+"_loading").addClass(i),e=this.element.offset(),this.refreshPos()),this._yShift=this._indicator?Math.round(this._indicator.height()/2):0},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(e){e!==!1&&this.refreshPos(),this._resId&&clearInterval(this._resId),this._resId=setInterval(t.proxy(this._resizeContainer,this),300),this._indicator.css("display","").css("visibility","visible")},hide:function(){this._indicator.css("display","none").css("visibility","hidden"),clearInterval(this._resId),this._resId=null},_resizeContainer:function(){var t=this.element.offset();t.top+this.element.innerHeight()/2-this._yShift!==this._indicator.css("top")&&this.refreshPos()},refreshPos:function(){var e,i=this.element.offset(),n=i.top+this.element.innerHeight()/2-this._yShift,r=i.left+this.element.innerWidth()/2;this._hgrid.length>0&&n>this._hgrid.offset().top+this._hgrid.height()||this._hgrid.length>0&&r>this._hgrid.offset().left+this._hgrid.width()||(this.options.includeVerticalOffset&&n>t(window).height()&&(e=(t(window).height()-i.top-t(window).scrollTop())/2,n=t(window).height()-e<i.top?i.top+e:t(window).height()-e),this._indicator.css("left",r).css("top",n))},destroy:function(){clearInterval(this._resId),this._indicator.remove()}}),t.extend(t.ui.igLoading,{version:"13.1.20131.2042"}),t.widget("ui.igSlider",t.ui.mouse,{options:{animate:!1,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:!1,css:""}],showBookmarkTitle:!0,syncHandleWithBookmark:!0},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(e,i){this.options.bookmarks=[],t.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var e=this.options,i=this,n=this.css;this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(n.baseClasses),e.disabled&&this.element.addClass(n.sliderDisabledClass),0===t(".ui-igslider-handle",this.element).length&&t("<a href='#'></a>").appendTo(this.element).addClass(n.handleClass),this.handles=t(".ui-igslider-handle",this.element).addClass("ui-state-default ui-corner-all").bind({click:function(t){t.preventDefault()},mouseover:function(){e.disabled||t(this).addClass("ui-state-hover")},mouseout:function(){t(this).removeClass("ui-state-hover")},focus:function(){e.disabled?t(this).blur():(t(".ui-igslider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))},blur:function(){t(this).removeClass("ui-state-focus")},keydown:function(e){var n,r,o,s,a=!0,l=t(this).data("index.ui-igslider-handle");if(!i.options.disabled){switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(a=!1,!i._keySliding&&(i._keySliding=!0,t(this).addClass("ui-state-active"),n=i._start(e,l),n===!1))return}switch(s=i.options.step,r=o=i.value(),e.keyCode){case t.ui.keyCode.HOME:o=i.options.min;break;case t.ui.keyCode.END:o=i.options.max;break;case t.ui.keyCode.PAGE_UP:o=i._trimValue(r+(i.options.max-i.options.min)/this._numpages);break;case t.ui.keyCode.PAGE_DOWN:o=i._trimValue(r-(i.options.max-i.options.min)/this._numpages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===i.options.max)return;o=i._trimValue(r+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===i.options.min)return;o=i._trimValue(r-s)}return i._slide(e,l,o),a}},keyup:function(e){var n=t(this).data("index.ui-igslider-handle");i._keySliding&&(i._keySliding=!1,i._stop(e,n),i._change(e,n),t(this).removeClass("ui-state-active"))}}).each(function(e){t(this).data("index.ui-igslider-handle",e)}),this.handle=this.handles.eq(0),this._renderBookmarks(),this._refreshValue(),this._animateOff=!1},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var e,i=this.options.bookmarks.length,n=0,r=this.options,o=this.css,s=this;for(n;n<i;n++)e=r.bookmarks[n],t("<a href='#'></a>").appendTo(this.element).data("index.ui-igslider-bookmark",n).addClass(e.disabled?o.bookmarkDisabledClass:o.bookmarkClass).addClass(e.css&&e.css.length>0?e.css:"").css("left",r.min!==r.max?(e.value-r.min)/(r.max-r.min)*100+"%":"0%");this.bookmarks=t(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(e){var i=!0,n=t(this).data("index.ui-igslider-bookmark");e.preventDefault(),e.stopPropagation(),i=s._bookmarkClicked(e,n),s.options.syncHandleWithBookmark&&i&&s._slide(e,0,s.options.bookmarks[n].value)},mouseover:function(e){r.disabled||(t(this).addClass("ui-state-hover"),s.options.showBookmarkTitle&&s._showBookmarkTitle(t(this),e))},mouseout:function(){r.disabled||(t(this).removeClass("ui-state-hover"),s.options.showBookmarkTitle&&s._hideBookmarkTitle(t(this)))},click:function(t){t.preventDefault()}}),this._createBookmarkTooltip(),this._buildBookmarkHit()}},destroy:function(){return this.handles.remove(),this.clearBookmarks(),this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal ui-igslider-vertical ui-igslider-disabled").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_id:function(t){return this.element[0].id+t},_showBookmarkTitle:function(e,i){var n=t("#"+this._id("_tooltip")),r=this.options.bookmarks[e.data("index.ui-igslider-bookmark")].title;r&&r.length>0&&(n.igTooltip("option","text",r),n.css("top",i.pageY-n.outerHeight()-5).css("left",i.pageX-n.width()/2+e.width()/2).show())},_hideBookmarkTitle:function(e){t("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var e='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"></div>';t(e).appendTo(t(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){this.bookmarks&&this.bookmarks.remove()},_mouseCapture:function(e){var i,n,r,o,s=this.options,a=0,l=this.handles.eq(a),u=this;return!s.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),this._mouseSliding=!0,u._handleIndex=a,l.addClass("ui-state-active"),t.ig.util.isOpera||l.focus(),r=l.offset(),o=!t(e.target).parents().andSelf().is(".ui-igslider-handle"),this._clickOffset=o?{left:0,top:0}:{left:e.pageX-r.left-l.width()/2,top:e.pageY-r.top-l.height()/2-(parseInt(l.css("borderTopWidth"),10)||0)-(parseInt(l.css("borderBottomWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0)},this._slide(e,a,n),this._animateOff=!0,this._mouseUpHandler=function(t){return u._mouseStop(t)},t(document).bind("mouseup."+this.widgetName,this._mouseUpHandler),!0)},_mouseStart:function(e){return t(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler),this._start(e,this._handleIndex)},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){var e=this;return this.handles.removeClass("ui-state-active"),setTimeout(function(){e._mouseSliding=!1},1e3),this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){var t=this.options,e=this.css;"vertical"===t.orientation?(this.orientation="vertical",this.element.removeClass(e.horizontalOrientationClass).addClass(e.verticalOrientationClass)):(this.orientation="horizontal",this.element.removeClass(e.verticalOrientationClass).addClass(e.horizontalOrientationClass))},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this.options.max-this.options.min,o=this.options.min+n*r,this._trimValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this._trigger(this.events.start,t,i)},_slide:function(t,e,i){var n;i!==this.value()&&(n=this._trigger(this.events.slide,t,{handle:this.handles[e],value:i}),n!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this._trigger(this.events.stop,t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this._trigger(this.events.change,t,i),this._checkBookmarkHit(i.value,t),i.value===this.options.max&&this._marksHit&&0===this._marksHit.length&&this._buildBookmarkHit()}},_checkBookmarkHit:function(t,e){if(this._marksHit&&this._marksHit.length>0&&t>=this._marksHit[0].value){var i=this._marksHit[0].index;this._marksHit.shift(),this._bookmarkHit(e,i)}},_buildBookmarkHit:function(){var e=this.options.bookmarks||[],i=e.length-1;for(this._marksHit=[],i;i>=0;i--)e[i].disabled||this._marksHit.push({value:e[i].value,index:i});this._marksHit.sort(this._sortBookmarksJSON),this._marksHit=t.extend(!0,[],this._marksHit)},_sortBookmarksJSON:function(t,e){return t.value-e.value},_bookmarkClicked:function(t,e){var i={bookmarkElement:this.bookmarks[e],bookmark:this.options.bookmarks[e]};return this._trigger(this.events.bookmarkClick,t,i)},_bookmarkHit:function(t,e){var i={bookmarkElement:this.bookmarks[e],bookmark:this.options.bookmarks[e]};i.bookmarkElement&&this._trigger(this.events.bookmarkHit,t,i)},value:function(t){return arguments.length&&(this.options.value=this._trimValue(t),this._refreshValue(),this._change(null,0)),this._value()},_setOption:function(e,i){switch(t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this._refreshValue();break;case"value":if(this._mouseSliding===!0)return;this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"bookmarks":this.clearBookmarks(),this._renderBookmarks()}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(t){if(t<this.options.min)return this.options.min;if(t>this.options.max)return this.options.max;var e=this.options.step>0?this.options.step:1,i=t%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_normPercentValue:function(t){var e=0,i=t;return"vertical"===this.orientation&&(e=100*(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)),t-e>0&&(i=t-e),i},_refreshValue:function(){var t=this.options,e=this,i=!this._animateOff&&t.animate,n={},r=this.value(),o=this.options.min,s=this.options.max,a=s!==o?(r-o)/(s-o)*100:0;n["horizontal"===e.orientation?"left":"bottom"]=this._normPercentValue(a)+"%",this.handle.stop(1,1)[i?"animate":"css"](n,t.animate)}}),t.extend(t.ui.igSlider,{version:"13.1.20131.2042"}),t.widget("ui.igProgressBar",{options:{animate:!1,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:!1,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:!0,widget:function(){return this.element},_detectOrientation:function(){var t=this.css;"vertical"===this.options.orientation?(this.orientation="vertical",this.element.removeClass(t.horizontalOrientationClass).addClass(t.verticalOrientationClass)):(this.orientation="horizontal",this.element.removeClass(t.verticalOrientationClass).addClass(t.horizontalOrientationClass))},_id:function(t){return this.element[0].id+t},_create:function(){var e=this.options,i=this.css;this._detectOrientation(),this.element.addClass(i.baseClasses),e.disabled&&this.element.addClass(i.disabledClass),"0px"!==e.width&&this.element.css("width",e.width),"0px"!==e.height&&this.element.css("height",e.height),"horizontal"===e.orientation?t('<div id="'+this._id("_progress")+'" class="'+i.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"></div>').appendTo(this.element):t('<div id="'+this._id("_progress")+'" class="'+i.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"></div>').appendTo(this.element),this._refreshValue()},destroy:function(){return this.element.removeClass("ui-igprogressbar ui-igprogressbar-horizontal ui-igprogressbar-vertical ui-igprogressbar-disabled ui-widget ui-widget-content ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar"),t("#"+this._id("_progress")).remove(),this},_change:function(t){var e={value:this.value()};this._trigger(this.events.change,t,e)},value:function(t){return arguments.length&&(this.options.value=this._trimValue(t),this._refreshValue(),this._change(null)),this.options.value},_setOption:function(e,i){t.Widget.prototype._setOption.apply(this,arguments);var n=this.options;switch(e){case"disabled":i?this.element.addClass(this.css.disabledClass):this.element.removeClass(this.css.disabledClass);break;case"orientation":this._detectOrientation(),this._refreshValue();break;case"value":this._animationOff=!0,n.value=this._trimValue(i),this._refreshValue(),this._change(null),this._animationOff=!1;break;case"endValue":n.endValue=this._trimValue(i),this._refreshValue();break;case"max":n.endValue>n.max&&(n.endValue=n.max,this._refreshValue());break;case"width":this.element.css("width",i);break;case"height":this.element.css("height",i);break;case"animate":n.animate=i;break;case"animateTimeout":n.animateTimeout=i}},_trimValue:function(t){return t<this.options.min?this.options.min:t>this.options.max?this.options.max:parseInt(t,10)},_refreshValue:function(){var e=this.options,i=e.value,n=e.min,r=e.max,o=e.endValue,s=r!==n?(i-n)/(r-n)*100:0,a=i!==o?(o-i)/(r-n)*100:0,l=t("#"+this._id("_progress"));e.range?"horizontal"===e.orientation?l.css("left",s+"%").css("width",a+"%"):l.css("bottom",s+"%").css("height",a+"%"):e.animate===!0?"horizontal"===e.orientation?("0%"===l[0].style.width&&l.css({width:"0px"}),l.is(":hidden")===!1?l.animate({width:s+"%"},e.animateTimeout):l.css("width",s+"%")):("0%"===l[0].style.height&&l.css({height:"0px"}),l.is(":hidden")===!1?l.animate({height:s+"%"},e.animateTimeout):l.animate({height:s+"%"},e.animateTimeout)):"horizontal"===e.orientation?l.css("width",s+"%"):l.css("height",s+"%")}}),t.extend(t.ui.igProgressBar,{version:"13.1.20131.2042"}),t.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:!1,css:null,onlyIcons:!1,icons:{primary:null,secondary:null},title:!1},_id:function(t){return this.element[0].id+t},_create:function(){var e,i=this,n=i.options,r=this.element,o={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};if(this._attached=!1,n.css=t.extend(o,n.css),i._getInitValues(),r.is("div"))i._renderDivButton();else if(r.is("a"))i._renderAHref();else if(r.is("input")){if(e=r.attr("type").toUpperCase(),"BUTTON"!==e&&"SUBMIT"!==e&&"RESET"!==e)return;i._renderInput()}else{if(!r.is("button"))return;i._renderButton()}return null!==n.width&&i._setWidth(n.width),null!==n.height&&i._setHeight(n.height),r.addClass(n.css.buttonClasses).addClass(n.css.buttonDefaultClasses),n.centerLabel===!0&&i._centerLabel(),n.disabled?i._disableButton():i._enableButton(),i._setOnlyIcons(),r.attr("role","button"),r.attr("aria-disabled","false"),i._attachButtonEvents(),i.setTitle(n.title),this},setTitle:function(t){var e=this.element;t===!1?e.removeAttr("title"):e.attr("title",t)},widget:function(){return this.element},_isRedirect:function(){return null!==this.options.link.href},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLinkOptions(!0),this._setLabel()},_renderInput:function(){var t=this.element;t.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var t=this,e=t.element;e.addClass(t.options.css.buttonDisabledClass),e.is("a")===!0?(e.removeAttr("href"),e.removeAttr("target"),e.removeAttr("title")):e.attr("disabled","true")},_enableButton:function(){var t=this,e=t.element,i=this.options;e.hasClass(i.css.buttonDisabledClass)&&e.removeClass(i.css.buttonDisabledClass),e.removeAttr("disabled"),e.is("a")===!0&&t._setLinkOptions(!0)},_setLabel:function(){var t=this.element,e=this.options,i=e.icons,n=e.css,r="",o=this._isSetPrimaryIcon(),s=this._isSetSecondaryIcon(),a=null===e.labelText||""===e.labelText?t.text():e.labelText;return t.attr("title",e.labelText),t.is("input")?void t.attr("value",e.labelText):(o&&(r+='<span class="'+n.buttonPrimaryIconClass+" "+i.primary+'" id="'+this._id("_picn")+'"></span>'),r+='<span class="'+e.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+a+"</span>",s&&(r+='<span class="'+n.buttonSecondaryIconClass+" "+i.secondary+'" id="'+this._id("_sicn")+'"></span>'),o&&s&&!e.onlyIcons?t.addClass(n.buttonIcons):e.onlyIcons?this._setOnlyIcons():o?t.addClass(n.buttonMainElementPrimaryIconClass):s?t.addClass(n.buttonMainElementSecondaryIconClass):t.addClass(n.buttonTextOnlyClass),void t.html(r))},_setOnlyIcons:function(){var t=this.element,e=this.options.css;this.options.onlyIcons===!1?(t.hasClass(e.buttonIconsOnly)&&t.removeClass(e.buttonIconsOnly),t.hasClass(e.buttonIconOnly)&&t.removeClass(e.buttonIconOnly),this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()&&t.addClass(e.buttonIcons)):this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()?t.addClass(e.buttonIconsOnly):t.addClass(e.buttonIconOnly)},_setLinkOptions:function(t){var e=this,i=e.element,n=this.options;t&&(null!==n.link&&null!==n.link.href?i.attr("href",n.link.href):i.removeAttr("href"),null!==n.link&&null!==n.link.target?i.attr("target",n.link.target):i.removeAttr("target"),null!==n.link&&null!==n.link.title?i.attr("title",n.link.title):i.removeAttr("title"))},_setWidth:function(t){var e=this.element;null===t?e.css("width",""):e.css("width",t)},_setHeight:function(t){var e=this.element;null===t?e.css("height",""):e.css("height",t)},_setOption:function(e,i){var n=this.element,r=this;switch(t.Widget.prototype._setOption.apply(this,[e,i]),e){case"width":r._setWidth(i);break;case"height":r._setHeight(i);break;case"link":r._setLinkOptions(n.is("a")===!0);break;case"disabled":i=Boolean(i),i===!0?r._disableButton():r._enableButton();break;case"labelText":r._setLabel();break;case"centerLabel":i=Boolean(i),i?r._centerLabel():r._removeCenterLabel();break;case"onlyIcons":i=Boolean(i),r._setOnlyIcons();break;case"icons":r._setLabel();break;case"title":r.setTitle(i)}},_centerLabel:function(){var e=this,i=e.element,n=t("#"+e._id("_lbl")),r=(i.width()-n.width())/2,o=(i.height()-n.height())/2;n.css({position:"relative",top:o+"px",left:r+"px"})},_removeCenterLabel:function(){var e=this,i=t("#"+e._id("_lbl"));i.length>0&&i.css({position:"",top:"",left:""})},_dettachEvents:function(){var t=this,e=t.element;this._attached=!1,e.unbind(this._events)},_onMouseOver:function(t){var e;this.options.disabled!==!0&&(e=this._trigger("mouseover",t),e&&this.element.addClass(this.options.css.buttonHoverClasses))},_onMouseOut:function(t){var e,i=this,n=i.element,r=this.options;r.disabled!==!0&&(e=i._trigger("mouseout",t),e&&n.removeClass(r.css.buttonHoverClasses))},_onClick:function(t){var e,i=this.element,n=this,r=this.options;r.disabled!==!0&&(e=n._trigger("click",t),e&&(this.element.removeClass(r.css.buttonHoverClasses),n._isRedirect()===!0&&i.is("a")===!1&&("_blank"===r.link.target?window.open(r.link.href):window.location=r.link.href)))},_onMouseDown:function(t){var e,i=this.element,n=this.options;n.disabled!==!0&&(e=this._trigger("mousedown",t),e&&(i.removeClass(n.css.buttonHoverClasses),i.addClass(n.css.buttonActiveClasses)))},_onMouseUp:function(t){var e,i=this.options;i.disabled!==!0&&(e=this._trigger("mouseup",t),e&&(this.element.removeClass(i.css.buttonHoverClasses),this.element.removeClass(i.css.buttonActiveClasses)))},_onFocus:function(t){var e,i=this.options;i.disabled!==!0&&(e=this._trigger("focus",t),e&&this.element.addClass(i.css.buttonFocusClasses))},_onBlur:function(t){var e,i=this.options;i.disabled!==!0&&(e=this._trigger("blur",t),e&&(this.element.removeClass(i.css.buttonActiveClasses),this.element.removeClass(i.css.buttonFocusClasses)))},_onKeyDown:function(t){var e=this.options;e.disabled!==!0&&this._trigger("keydown",t)},_attachButtonEvents:function(){var t=this,e=t.element;this._attached!==!0&&(this._attached=!0,this._events={mouseover:function(e){t._onMouseOver(e,t)},click:function(e){t._onClick(e)},mouseout:function(e){t._onMouseOut(e)},mousedown:function(e){t._onMouseDown(e)},mouseup:function(e){t._onMouseUp(e)},focus:function(e){t._onFocus(e)},blur:function(e){t._onBlur(e)},keydown:function(e){t._onKeyDown(e)}},e.bind(this._events))},_isSetPrimaryIcon:function(){var t=this.options.icons.primary,e=!1;return void 0!==t&&null!==t&&(e=!0),e},_isSetSecondaryIcon:function(){var t=this.options.icons.secondary,e=!1;return void 0!==t&&null!==t&&(e=!0),e},_setAttribute:function(t,e,i){void 0!==e&&""!==e&&null!==e?t.attr(i,e):t.removeAttr(i)},destroy:function(){this._dettachEvents(),this._rollbackInitValues(),this._events=null,t.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var t=this.element;this._innerHTML=t.html(),this._cssClasses=t.attr("class"),this._role=t.attr("role"),this._href=t.attr("href"),this._title=t.attr("title"),this._target=t.attr("target"),this._width=t.attr("width"),this._height=t.attr("height"),this._disabled=t.attr("disabled"),this._value=t.val()},_rollbackInitValues:function(){var t=this.element;t.html(this._innerHTML),t.is("a")?(this._setAttribute(t,this._href,"href"),this._setAttribute(t,this._target,"target")):t.is("input")&&t.val(this._value),this._setAttribute(t,this._title,"title"),this._setAttribute(t,this._width,"width"),this._setAttribute(t,this._height,"height"),this._setAttribute(t,this._cssClasses,"class"),this._setAttribute(t,this._role,"role"),this._setAttribute(t,this._disabled,"disabled")}}),t.extend(t.ui.igButton,{version:"13.1.20131.2042"}),t.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igtooltip ui-igplayer-tooltip",arrowImageBaseClass:"ui-igtooltip-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(e,i){switch(t.Widget.prototype._setOption.apply(this,arguments),e){case"text":t("div.ui-widget-content",this.element).html(i);break;case"arrowLocation":t("div",this.element).remove(),this._renderTooltip()}},_create:function(){this.element.is("div")&&(this._renderTooltip(),this.element.addClass(this.css.baseClasses))},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv(),this._createContentDiv();break;case"bottom":this._createContentDiv(),this._createArrowDiv();break;case"left":break;case"right":}},_createContentDiv:function(){var e=this.options.text&&this.options.text.length>0?this.options.text:"";t('<div class="ui-widget-content ui-corner-all">'+e+"</div>").appendTo(this.element)},_createArrowDiv:function(){t('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"></div>').appendTo(this.element)},destroy:function(){this.element.children().remove(),this.element.removeClass(this.css.baseClasses)}}),t.extend(t.ui.igTooltip,{version:"13.1.20131.2042"}),t.widget("ui.igToolbar",{options:{height:null,width:null,allowCollapsing:!0,collapseButtonIcon:"ui-igbutton-collapsed",expandButtonIcon:"ui-igbutton-expanded",name:"",displayName:"",items:[],isExpanded:!0},events:{toolbarButtonClick:"toolbarButtonClick",toolbarComboOpening:"toolbarComboOpening",toolbarComboSelected:"toolbarComboSelected",toolbarMouseDown:"toolbarMouseDown",toolbarCustomItemClick:"toolbarCustomItemClick",itemRemoved:"itemRemoved",itemAdded:"itemAdded",collapsing:"collapsing",collapsed:"collapsed",expanding:"expanding",expanded:"expanded",itemDisable:"itemDisable",itemEnabled:"itemEnabled"},css:{toolbarWidget:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarWrapperConteiner:"ui-widget ui-widget-content ui-igtoolbar ui-corner-all",toolbarCollapsedButton:"ui-state-default ui-igbutton-all-caps",igToolbarSeparator:"ig-toolbar-separator ui-widget-content"},_id:function(t){return this.element[0].id+t},widget:function(){return this.element},_create:function(){this._render(),this._createItems()},_init:function(){this._attachEvents(),this.options.isExpanded||(this.buttonsList.hide(),this.collapseBtn.igToolbarButton("toggle").children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon)),this._width=this.collapseBtn.outerWidth(!0)+this.buttonsList.width(),this._height=this.element.height()},_render:function(){var e=this.options;this.element.addClass(this.css.toolbarWidget),this.element.width(this.options.width).height(this.options.height),this.collapseBtn=t('<div tabIndex="0" id="'+this._id("_collapseButton")+'"></div>').appendTo(this.element).igToolbarButton({onlyIcons:!0,labelText:"&nbsp;",title:t.ig.HtmlEditor.locale.collapseButtonTitle+" "+this.options.displayName,icons:{primary:e.collapseButtonIcon}}),this.toolbarBody=this.element.find("#"+this._id("_toolbar")),this.buttonsList=t('<span id="'+this._id("_toolbar_buttons")+'" style="display:inline-block"></span>').appendTo(this.element)},_onCollapse:function(e){var i,n,r,o,s,a,l=this.options,u=this;l.allowCollapsing&&(l.isExpanded?(n="collapsed",r="collapsing",l.isExpanded=!1,o=this.element.height(),this.collapseBtn.attr("title",t.ig.HtmlEditor.locale.expandButtonTitle+" "+this.options.displayName).children(":first").switchClass(this.options.collapseButtonIcon,this.options.expandButtonIcon),s="hidden",a="0.0"):(n="expanded",r="expanding",l.isExpanded=!0,o=this._width,this.buttonsList.show(),this.collapseBtn.attr("title",t.ig.HtmlEditor.locale.collapseButtonTitle+" "+this.options.displayName).children(":first").switchClass(this.options.expandButtonIcon,this.options.collapseButtonIcon),s="visible",a="1"),e.stopPropagation(),i=this._trigger(this.events[r],e,{owner:this,toolbarElement:this.element,toolbar:{}}),i&&(this.element.css({overflow:"hidden"}),this.element.animate({width:o},300,null,function(){l.isExpanded||u.buttonsList.hide(),7===document.documentMode&&u.buttonsList.attr("style","visibility: "+s+" !important;"),u._trigger(u.events[n],e,{owner:u,toolbarElement:u.element,toolbar:{}})})))},_setOption:function(e,i){switch(t.Widget.prototype._setOption.apply(this,arguments),e){case"allowCollapsing":this.options.allowCollapsing=i;break;case"items":this._updateItems(i)}},_isSelectedAction:function(t,e,i){e.value&&t.addClass("ui-state-active")},_tooltipAction:function(t,e,i){void 0!==i?i.title=e.value:t.igToolbarButton("option","title",e.value)},_buttonIconAction:function(t,e,i){void 0!==i?i.icons={primary:e.value}:t.igToolbarButton("option","icons",{primary:e.value})},_comboDataSourceAction:function(t,e,i){void 0!==i?i.dataSource=e.value:t.igCombo("option","dataSource",e.value)},_comboWidthAction:function(t,e,i){void 0!==i?i.width=e.value:t.igCombo("option","width",e.value)},_comboHeightAction:function(t,e,i){void 0!==i?i.height=e.value:t.igCombo("option","height",e.value)},_spltBtnTooltipAction:function(t,e,i){},_comboSelectedItem:function(t,e,i){void 0!==i?i.selectedItems=[{value:e.value}]:t.igCombo("option","selectedItems",[{value:e.value}])},_spltButtonColorAction:function(t,e,i){void 0!==i?i.defaultColor=e.value:t.igColorPickerSplitButton("option","defaultColor",e.value)},_comboDropDownListWidth:function(t,e,i){void 0!==i?i.dropDownWidth=e.value:t.igCombo("option","dropDownWidth",e.value)},_createItems:function(){var e,i,n=this.options,r=this,o={},s={button:"igToolbarButton",combo:"igCombo",splitButton:"igSplitButton",splitButtonColor:"igColorPickerSplitButton"},a=function(s,a){var l=n.items[e].scope||r;return void 0!==a.action&&t.isFunction(l[a.action])?void l[a.action](i,a,o):void(o[s]=a.value)};for(this.buttonsList.empty(),e=0;e<n.items.length;e++)o={},i=(n.items[e].callbackRenderer()||t('<div tabIndex="0"></div>')).attr("id",this._id("_item_"+n.items[e].name)).appendTo(this.buttonsList),t.each(n.items[e].getProperties(),a),s.hasOwnProperty(n.items[e].type)&&i[s[n.items[e].type]](o)},_updateItems:function(e){var i,n,r,o,s,a,l=this.options;for(n=0;n<e.length;n++)for(i=e[n].getUpdatedProperties(),s=this.getItem(e[n].name),o=l.items[n].scope||this,r=0;r<i.length;r++)void 0!==i[r].action&&t.isFunction(o[i[r].action])?o[i[r].action](s,i[r]):(e[n]instanceof t.ig.igToolbarButtonDescriptor&&s.igToolbarButton("option",a,i[r]),l.items[n]instanceof t.ig.igToolbarComboDescriptor&&s.igCombo("option",a,i[r]))},_getWidgetType:function(t){var e,i;if(void 0!==t){e=t.data();for(i in e)if(e.hasOwnProperty(i)&&e[i].widgetName)return e[i].widgetName}},_isWidgetSupported:function(t){var e;for(e=0;e<this.supportedWidgets.length;e++)if(this.supportedWidgets[e].name===t)return!0},_attachEvents:function(){var e="igtoolbarbuttonclick igsplitbuttonclick igcolorpickersplitbuttoncolorselected";this.element.delegate(".ui-widget",e,t.proxy(this._onToolbarItemInteraction,this)),this.element.delegate(":ui-igCombo","click",t.proxy(this._onComboListItemClick,this)),this.collapseBtn.bind("igtoolbarbuttonclick",t.proxy(this._onCollapse,this))},_onToolbarItemInteraction:function(e,i){var n,r,o,s=t(e.target).parentsUntil(":ui-igToolbar").eq(-2),a=this.options;switch(0===s.length&&(s=t(e.target)),r=this.buttonsList.children().index(s),e.type){case"igcomboselectionchanged":n=i.items[0].value,o=this.events.toolbarComboSelected;break;case"igtoolbarbuttonclick":o=this.events.toolbarButtonClick;break;default:o=this.events.toolbarCustomItemClick,n=i.value}this._trigger(o,e,{name:i.name||a.items[r].name,value:n,handler:a.items[r].handler(),scope:a.items[r].getProperty("scope"),itemProperties:a.items[r].getProperties(),toolbarItem:s,toolbarName:a.name})},_onComboListItemClick:function(e){var i,n,r,o,s,a=t(e.target);(a.hasClass("ui-igcombo-listitem")||a.parent().hasClass("ui-igcombo-listitem"))&&(a.hasClass("ui-igcombo-listitem")?r=a:a.parent().hasClass("ui-igcombo-listitem")&&(r=a.parent()),n=r.data("id")-100,i=t(e.currentTarget).igCombo("option","dataSource"),o=this.buttonsList.children().index(t(e.currentTarget)),s=this.options.items[o],
this._trigger(this.events.toolbarComboSelected,e,{name:s.name,value:i[n].text,handler:s.handler(),scope:s.getProperty("scope"),itemProperties:s.getProperties(),toolbarItem:t(e.currentTarget).data("igCombo"),toolbarName:this.options.name}))},getItem:function(t){var e;return isNaN(parseInt(t,10))?"string"==typeof t&&(e=this.buttonsList.find("#"+this._id("_item_"+t)),e.length)?e:void 0:this.buttonsList.eq(t)},addItem:function(t){this._isWidgetSupported(t.type)&&(this.options.items.push(t),this._createItems(),this._trigger(this.events.itemAdded))},removeItem:function(t){this.buttonsList.eq(t).remove(),this._trigger(this.events.itemremoved)},disableItem:function(t,e){var i=this.getItem(t),n=this._getWidgetType(i);n&&(i[this._getWidgetType(i)]("option","disabled",e),this._trigger(this.events.itemDisable,{isDisabled:e}))},activateItem:function(t,e){var i=this.getItem(t),n=e?i.addClass:i.removeClass;n.call(this,"ui-state-active"),i.igToolbarButton("options","isSelected",e),this._trigger(this.events.itemActivated,{isActivated:e})},deactivateAll:function(){this.buttonsList.find(".ui-igbutton.ui-state-active").removeClass("ui-state-active").igToolbarButton("option","isSelected",!1)},_setCollapseExpandButtonIcon:function(){this.options.collapseButtonIcon&&this.collapseBtn.switchClass("ui-icon-triangle-1-w",this.options.collapseButtonIcon)},destroy:function(){t.Widget.prototype.destroy.apply(this,arguments),this.element.undelegate(),this.element.unbind(),this.element.removeClass(this.css.toolbarWrapperConteiner).find("#"+this._id("_toolbar")).removeClass(this.css.toolbarWidget).end().find("#"+this._id("_collapseButton")).removeClass(this.css.toolbarCollapsedButton).end().find(":ui-igToolbarButton").igToolbarButton("destroy").end().find(":ui-igCombo").igCombo("destroy").end().find(":ui-igSplitButton").igSplitButton("destroy").end().find(":ui-igColorPickerSplitButton").igColorPickerSplitButton("destroy"),delete this.buttonsList,delete this.collapseBtn,delete this.toolbarBody}}),t.ig=t.ig||{},t.ig.igToolbarItemBaseDescriptor=Class.extend({settings:{width:null,height:null,props:{scope:{value:null}}},_updatedProperties:[],init:function(e){this.settings=t.extend(!0,{},this.settings,e),this.name=e.name,this.type=e.type,this.settings.scope&&(this.settings.props.scope=this.settings.scope)},updateProperty:function(t,e){this.settings.props[t].value=e,this._updatedProperties.push(this.settings.props[t])},getProperty:function(t){return this.settings.props[t]},getUpdatedProperties:function(){return this._updatedProperties},getProperties:function(){return this.settings.props},callbackRenderer:function(){if(this.settings.callbackRenderer&&t.isFunction(this.settings.callbackRenderer))return this.settings.callbackRenderer()},handler:function(){return this.settings.handler}}),t.ig.igToolbarButtonDescriptor=t.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{onlyIcons:{value:!0},labelText:{value:"&nbsp;"}}},init:function(t){this._super(t)}}),t.ig.igToolbarSplitButtonDescriptor=t.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{items:[]}},init:function(t){this._super(t)}}),t.ig.igToolbarComboDescriptor=t.ig.igToolbarItemBaseDescriptor.extend({settings:{props:{valueKey:{value:"text"},textKey:{value:"value"},enableCheckboxes:{value:!1},dropDownOnFocus:{value:!0},selectedItems:{value:[{index:0}]},enableClearButton:{value:!1},dataSource:{value:null},mode:{value:"dropdown"},dropDownAsChild:{value:!0},focusOnSelect:{value:!1}}},init:function(t){this._super(t),this.settings.dataSource&&(this.settings.props.dataSource.value=this.settings.dataSource)}}),t.widget("ui.igToolbarButton",t.ui.igButton,{options:{allowToggling:!0,isSelected:!1},ENTER:13,_setOption:function(e,i){switch(t.ui.igButton.prototype._setOption.apply(this,arguments),e){case"allowToggling":this._setToggling(i);break;case"isSelected":this.options.isSelected=i}},_init:function(){var e=this,i=this.options;t.ui.igButton.prototype._init.apply(this),this._isToggled=!1,this._setToggling(this.options.allowToggling),this.element.bind("keypress",t.proxy(this._onEnterKey,this)),this.element.unbind("blur"),this.element.bind("blur",function(t){e.element.removeClass(i.css.buttonFocusClasses)})},_setToggling:function(t){var e=this.options,i=this;e.allowToggling=t,e.allowToggling?(this.element.unbind("mouseup"),this.element.bind("click",function(){e.isSelected&&i.element.removeClass(e.css.buttonActiveClasses),i.element.removeClass(e.css.buttonFocusClasses),e.isSelected=!e.isSelected})):(this.element.bind("mouseup",this._events.mouseup),this.element.unbind("mousedown"),this.element.bind("mousedown",this._events.mousedown))},toggle:function(){var t=this,e=t.element,i=this.options;i.disabled!==!0&&i.allowToggling!==!1&&(i.isSelected=!i.isSelected,e.toggleClass(i.css.buttonActiveClasses))},_onEnterKey:function(t){t.keyCode===this.ENTER&&this.element.mousedown()},destroy:function(){t.ui.igButton.prototype.destroy.call(this),this.element.unbind(),this.element.removeClass("")}}),t.widget("ui.mouseWrapper",t.ui.mouse,{options:{cancel:":input,option",distance:1,delay:0},events:{start:"start",drag:"drag",stop:"stop",capture:"capture"},_create:function(){var e=this,i=this._mouseDown;t.ig.util.isIE9&&(this._mouseDown=function(t){var n,r=t.preventDefault;return t.preventDefault=function(){},n=i.apply(e,[t]),t.preventDefault=r,n}),this._mouseInit()},destroy:function(){return this._mouseDestroy(),this},_mouseStart:function(t){return this._trigger(this.events.start,t)},_mouseDrag:function(t){return this._trigger(this.events.drag,t)},_mouseStop:function(t){return this._trigger(this.events.stop,t)},_mouseCapture:function(t){return this._trigger(this.events.capture,t)}}),t.widget("ui.igPopover",{css:{baseClasses:"ui-widget ui-igtooltip",arrowImageBaseClass:"ui-igtooltip-arrow-",closeButtonClass:"ui-icon ui-icon-close"},options:{renderHeader:!1,renderCloseButton:!0,closeOnBlur:!0,direction:"auto",position:"auto",width:null,height:null,defaultMaxWidth:200,target:null,fadeTimespan:150},events:{popoverShowing:"popoverShowing",popoverShown:"popoverShown",popoverHiding:"popoverHiding",popoverHidden:"popoverHidden"},_create:function(){this._priorityDir=["top","bottom","right","left"],this._arrowDir=["bottom","top","left","right"],this._positions=["balanced","start","end"],this._directionIndex=-1,this._positionIndex=-1,this._forced="auto"!==this.options.direction&&"auto"!==this.options.position},_createWidget:function(e,i){t.Widget.prototype._createWidget.apply(this,arguments),this.element=t(i),i&&void 0!==i.nodeType&&(this._renderPopover(),this._attachEventsToTarget()),"auto"===this.options.direction&&"auto"===this.options.position||this._getPrioritiesIndex()},_setOption:function(e,i){switch(e){case"direction":this.options.direction=i,"auto"!==this.options.direction&&this._getPrioritiesIndex(),this._forced="auto"!==this.options.direction&&"auto"!==this.options.position;break;case"position":this.options.position=i,"auto"!==this.options.position&&this._getPrioritiesIndex(),this._forced="auto"!==this.options.direction&&"auto"!==this.options.position;break;case"target":this._detachEventsFromTarget(),this.options.target=i,this._attachEventsToTarget();break;case"fadeTimespan":"number"==typeof i&&(this.options.fadeTimespan=i);break;case"renderHeader":case"renderCloseButton":case"closeOnBlur":case"width":case"height":case"defaultMaxWidth":throw new Error(t.ig.SharedLocale.locale.popoverOptionChangeNotSupported+" "+e)}},destroy:function(){return this._detachEventsFromTarget(),t("#"+this.id()+"_popover").remove(),t.Widget.prototype.destroy.call(this),this},id:function(){return this.element[0].id},container:function(){return t("#"+this.id()+"_popover_contentInner")},show:function(t,e){var i=t||this.options.target;e&&this._setNewContent(e),this._openPopover(i)},hide:function(){this._closePopover()},getContent:function(){return t("#"+this.id()+"_popover_contentInner").html()},setContent:function(t){"string"==typeof t&&this._setNewContent(t)},_renderPopover:function(){this.popover=t("<div></div>").attr("id",this.id()+"_popover").css({display:"none","white-space":"normal","word-wrap":"break-word",position:"absolute"}).addClass(this.css.baseClasses).appendTo(this.element),this._createContentDiv()},_createContentDiv:function(){var e;e=t("<div></div>").attr("id",this.id()+"_popover_contentFrame").css("position","relative").css("max-width",this.options.defaultMaxWidth).addClass("ui-widget-content ui-corner-all").appendTo(this.popover),this.options.renderCloseButton===!0&&t("<div></div>").attr("id",this.id()+"_popover_closeBtn").addClass(this.css.closeButtonClass).css({display:"block",float:"right",position:"relative",top:"-5px",left:"5px"}).bind("click.popover",t.proxy(this._closeBtnClick,this)).appendTo(e),t("<div></div>").attr("id",this.id()+"_popover_contentInner").css("position","relative").appendTo(e),t("<div></div>").css("clear","both").appendTo(e)},_updateArrowDiv:function(e,i){var n,r=t("#"+this.id()+"_popover_arrow"),o=t("#"+this.id()+"_popover_contentFrame");switch(0===r.length?r=t("<div></div>").attr("id",this.id()+"_popover_arrow").attr("position","relative").addClass(this.css.arrowImageBaseClass+this._arrowDir[i]).appendTo(this.popover):r.removeClass().addClass(this.css.arrowImageBaseClass+this._arrowDir[i]),n=this._getHiddenElementsDimensions([r,o]),e){case"top":o.css({left:"",top:"",float:""}),r.css({left:"",top:"",float:""});break;case"bottom":o.css({left:"",top:n[0].height,float:""}),r.css({left:"",top:n[1].height*-1,float:""});break;case"left":o.css({left:"",top:"",float:"left"}),r.css({left:"",top:"",float:"left"});break;case"right":o.css({left:n[0].width,top:"",float:"left"}),r.css({left:n[1].width*-1,top:"",float:"left"})}this.oDir=e},_targetMouseLeave:function(){this.options.closeOnBlur===!0&&this._closePopover()},_targetMouseMove:function(){this._openPopover(t(this.options.target))},_closeBtnClick:function(t,e){this._closePopover(),t.stopPropagation()},_attachEventsToTarget:function(){var e=this.options.target;e&&void 0!==window.HTMLElement&&e instanceof HTMLElement&&(t(e).unbind("mouseenter.popover").bind("mouseenter.popover",t.proxy(this._targetMouseMove,this)),t(e).unbind("mouseleave.popover").bind("mouseleave.popover",t.proxy(this._targetMouseLeave,this)))},_detachEventsFromTarget:function(){var e=this.options.target;e&&void 0!==window.HTMLElement&&e instanceof HTMLElement&&t(e).unbind("popover")},_positionPopover:function(t){var e,i,n=0;if("auto"===this.options.direction){do this._updateArrowDiv(this._priorityDir[n],n),e="_"+this._priorityDir[n]+"Position",i=this[e](t),n++;while(i===!1&&n<this._priorityDir.length);if(i===!1)return}else if(this._updateArrowDiv(this.options.direction,this._directionIndex),e="_"+this.options.direction+"Position",!this[e](t))return},_findProperPosition:function(e,i,n){var r,o,s,a,l,u,h,d=0,c=t(window);if("left"===e?(a="left",s="outerWidth",u=c.scrollLeft()):(a="top",s="outerHeight",u=c.scrollTop()),l=n.offset()[a]+n[s]()>u+c[0][s]?c[0][s]+u-n.offset()[a]:n[s](),n[s]()>this.popover[s]())o=n.offset()[a]+l/2-this.popover[s]()/2,r="left"===e?this._checkCollision(i,o):this._checkCollision(o,i);else if("auto"===this.options.position){do h=this._positions[d],o=this._getCounterPosition(n,l,h,a,s),r="left"===e?this._checkCollision(i,o):this._checkCollision(o,i);while(r===!1&&++d<this._positions.length)}else o=this._getCounterPosition(n,l,this.options.position,a,s),r="left"===e?this._checkCollision(i,o):this._checkCollision(o,i);return r===!0&&this._adjustArrowPosition(n,e,a,s),r},_getCounterPosition:function(t,e,i,n,r){var o;switch(i){case"balanced":o=t.offset()[n]+e/2-this.popover[r]()/2;break;case"start":o=t.offset()[n];break;case"end":o=t.offset()[n]-this.popover[r]()+e}return o},_topPosition:function(t){var e=t.offset().top-this.popover.outerHeight();return this._findProperPosition("left",e,t)},_bottomPosition:function(t){var e=t.offset().top+t.outerHeight();return this._findProperPosition("left",e,t)},_leftPosition:function(t){var e=t.offset().left-this.popover.outerWidth();return this._findProperPosition("top",e,t)},_rightPosition:function(t){var e=t.offset().left+t.outerWidth();return this._findProperPosition("top",e,t)},_checkCollision:function(e,i){var n,r,o,s=this.popover.outerWidth(),a=this.popover.outerHeight(),l=t(window);return r=l.width()+l.scrollLeft(),n=l.height()+l.scrollTop(),(!(i<l.scrollLeft()||i+s>r||e<l.scrollTop()||e+a>n)||this._forced!==!1)&&(o=this._getRelativeOffset(),this.popover.css({top:e-o.top,left:i-o.left}),!0)},_getPrioritiesIndex:function(){var t;if("auto"!==this.options.direction)for(t=0;t<this._priorityDir.length;t++)if(this.options.direction===this._priorityDir[t]){this._directionIndex=t;break}if("auto"!==this.options.position)for(t=0;t<this._positions.length;t++)if(this.options.position===this._positions[t]){this._positionIndex=t;break}},_openPopover:function(t){var e,i,n=this.getContent();e={element:t,content:n,popover:this.popover},i=this._trigger(this.events.popoverShowing,this,e),i===!0&&(e.content!==n&&"string"==typeof e.content&&this._setNewContent(e.content),this._positionPopover(t),this._currentTarget=t,this.popover.fadeIn(this.options.fadeTimespan),this._trigger(this.events.popoverShown,this,e))},_closePopover:function(){var t,e;t={element:this._currentTarget,content:this.getContent(),popover:this.popover},e=this._trigger(this.events.popoverHiding,this,t),e===!0&&(this.popover.fadeOut(this.options.fadeTimespan),this._trigger(this.events.popoverHidden,this,t))},_adjustArrowPosition:function(t,e,i,n){},_getRelativeOffset:function(){for(var t={left:0,top:0},e=this.popover;null!==e[0]&&void 0!==e[0]&&"#document"!==e[0].nodeName;){if("relative"===e.css("position")){t.left=e.offset().left,t.top=e.offset().top;break}e=e.parent()}return t},_getHiddenElementsDimensions:function(e){var i,n,r=[];for(t("#"+this.id()+"_popover").show(),i=0;i<e.length;i++)n=e[i],r.push({width:n.outerWidth(),height:n.outerHeight()});return t("#"+this.id()+"_popover").hide(),r},_setNewContent:function(e){t("#"+this.id()+"_popover_contentInner").html(e)}}),t.widget("ui.igResponsiveContainer",{options:{pollingInterval:500},_createWidget:function(e,i){this._callbacks=[],this._element=i,this._pollerHandler=t.proxy(this._pollerTick,this),this._startPoller(),this._width=this._getCurrentWidth(),this._height=this._getCurrentHeight(),t.Widget.prototype._createWidget.apply(this,arguments)},destroy:function(){return this._stopPoller(),this._callbacks=[],t.Widget.prototype.destroy.call(this),this},startPoller:function(){this._startPoller()},stopPoller:function(){this._stopPoller()},removeCallback:function(t){t>=0&&t<this._callbacks.length&&this._callbacks.splice(t,1)},addCallback:function(t,e,i,n){return this._callbacks.push({callback:t,owner:e,step:i,left:"xy"===n||"x"===n,top:"xy"===n||"y"===n,cWidth:this._getCurrentWidth(),cHeight:this._getCurrentHeight()})-1},_startPoller:function(){this._intervalId=setInterval(this._pollerHandler,this.options.pollingInterval)},_stopPoller:function(){this._intervalId&&(clearInterval(this._intervalId),delete this._intervalId)},_pollerTick:function(){var t,e,i=this._getCurrentWidth(),n=this._getCurrentHeight(),r=!1;for(e=0;e<this._callbacks.length;e++)t=this._callbacks[e],t.left===!0&&Math.abs(t.cWidth-i)>t.step&&(t.callback.apply(t.owner,[i,n]),t.cWidth=i,t.cHeight=n,r=!0),t.top===!0&&r===!1&&Math.abs(t.cHeight-n)>t.step&&(t.callback.apply(t.owner,[i,n]),t.cWidth=i,t.cHeight=n);this._width=i,this._height=n},_getCurrentWidth:function(){return this._element.offsetWidth},_getCurrentHeight:function(){return this._element.offsetHeight}}),t.extend(t.ui.igResponsiveContainer,{version:"13.1.20131.2042"}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("ig.ui.shared",["ig.util","jquery.ui.core","jquery.ui.widget"],function(){return t.ui.igLoading})}(jQuery),define("igShared",["igUtil"],function(){}),function(t){var e="data-scroll",i=function(t){try{t.preventDefault(),t.stopPropagation()}catch(t){}},n=function(t){return null===t||void 0===t||"number"==typeof t&&isNaN(t)},r=function(t){return isNaN(t=parseInt(t,10))?0:t},o=function(t,e){return r(t.css(e))},s=function(t){return"draggable"===t},a=function(t){return"show"===t},l=function(t){return isNaN(t)||t<5},u=function(t){return t=t.originalEvent,t=t?t.touches:null,t&&1===t.length?t[0]:null},h=function(t){return t=t.target,"#text"===t.nodeName?t.parentNode:t},d=function(t,e){return t&&(t.has(e).length>0||t[0]===e)},c=function(t){return t&&t[0].parentNode?t:null},p=function(t){c(t)&&t.remove()},f=function(i){setTimeout(function(){var i=window.Modernizr;i&&!i.touch||t("body").find("["+e+"]").each(function(){var e=t(this),i=e.data("igScroll");i&&i.evts||e.data("igScroll")||e.data("scrollview")||e.igScroll({_find:!0})})},i===!0?1e3:100)};t.widget("ui.igScroll",{options:{thumbOpacityDrag:null,thumbOpacity:null,cancelStart:null,oneDirection:null,direction:null,animateShowDuration:null,animateHideDuration:null,hideThumbsDelay:null,hideDragThumbsDelay:null,xInertia:null,yInertia:null,xThumb:null,yThumb:null,xLabel:null,yLabel:null,marginLeft:null,marginRight:null,marginTop:null,marginBottom:null,xScroller:null,yScroller:null},events:{starting:null,started:null,scrolling:null,scrolled:null,stopped:null},scrollLeft:function(t){return n(t)?this._getScroll(!0):(this._scroll(t),this)},scrollTop:function(t){return n(t)?this._getScroll():(this._scroll(null,t),this)},scrollWidth:function(){return this._getScroll(!0,!0)},scrollHeight:function(){return this._getScroll(!1,!0)},_create:function(){var r,o,s=this,a=s.element,l=s.options;if(l._find){for(o in l)l.hasOwnProperty(o)&&n(l[o])&&(n(r=a.attr("data-"+o))&&(r=a.attr("data-"+o.replace("S","-s").replace("D","-d").replace("O","-o").replace("R","-r").replace("T","-t").replace("I","-i").replace("B","-b").replace("L","-l").replace("H","-h").replace("D","-d"))),n(r)||(l[o]=r));l.direction=l.direction||a.attr(e)}r=t.ui.igScroll.defaults;for(o in r)r.hasOwnProperty(o)&&null===l[o]&&(l[o]=r[o]);a.css("msTouchAction","none"),r=l.direction,s.dir=l.oneDirection&&"x"!==r&&"y"!==r,s.evts={MSPointerDown:function(t){var e=t.originalEvent;e&&2===e.pointerType&&(t.target.msSetPointerCapture(s._pointer=e.pointerId),s.evts.touchstart(t))},MSPointerMove:function(t){s._pointer&&s._move(t)},MSPointerUp:function(t){s._pointer&&(t.target.msReleasePointerCapture(s._pointer),s.evts.touchend(t),delete s._pointer)},touchstart:function(t){delete s.skip;var e=s._pointer?t.originalEvent:u(t);e?(s.x=e.pageX,s.y=e.pageY,s.click=!0,s._isCancel(l)&&i(t)):s._move(t,"start")},touchmove:function(t){s._move(t)},touchend:function(e){s.click?s._isCancel(l)&&t(h(e)).trigger("mousedown").trigger("mouseup").trigger("click"):s._move(e,"end")}},a.bind(s.evts)},_isCancel:function(t){return t=t.cancelStart,t===!0||"ms"===t&&this._pointer},_createBar:function(e,i,n){var r,l,u,h,d,c,p=17,f=5,g=30,m=a(n),v=i?"inline-block":"block",_="margin"+(i?"Top":"Left"),y=i?"height":"width";(m||s(n))&&(r=t("<span />").css({position:"absolute",zIndex:o(e,"zIndex")+2,background:"transparent",border:"0px",opacity:0,display:"block"}).addClass("ui-widget").css(y,"1px").insertAfter(e),h=m?f:g,l=t("<span />").css("position","relative").css(y,h).css("display","block").appendTo(r),m?l.css("background","#101010"):(r.css("msTouchAction","none"),l.addClass("ui-corner-all ui-state-hover"),u=l.css("borderTopColor"),h=i?l[0].offsetHeight:l[0].offsetWidth,d=t("<span />").css({display:v,borderStyle:"solid",borderColor:u,borderWidth:i?"0px 1px 0px 0px":"0px 0px 1px 0px"}).addClass("ui-corner-"+(i?"left":"top")).css(y,"100%").appendTo(l),c=t("<span />").css("display","block").css(_,Math.floor((h-p)/2)+"px").addClass("ui-icon ui-icon-carat-1-"+(i?"w":"n")).appendTo(d),d=t("<span />").css("display",v).css(y,"100%").appendTo(l),c=t("<span />").css("display","block").css(_,Math.floor((h-p)/2)+"px").addClass("ui-icon ui-icon-grip-dotted-"+(i?"vertical":"horizontal")).appendTo(d),d=t("<span />").css({display:v,borderStyle:"solid",borderColor:u,borderWidth:i?"0px 0px 0px 1px":"1px 0px 0px 0px"}).addClass("ui-corner-"+(i?"right":"bottom")).css(y,"100%").appendTo(l),c=t("<span />").css("display","block").css(_,Math.floor((h-p)/2)+"px").addClass("ui-icon ui-icon-carat-1-"+(i?"e":"s")).appendTo(d)),l.css(_,-(h+1)+"px")),i?(this.barX=r,this.thumbX=l):(this.barY=r,this.thumbY=l)},_bar:function(t,e){var i,n,l,u,h,d,p,f,g,m,v=this.options,_=2,y=r(e?v.marginLeft:v.marginTop),b=r(e?v.marginRight:v.marginBottom),w=4,x=15,C=e?this.barX:this.barY,T=e?v.xThumb:v.yThumb,S=e?t[0].offsetWidth:t[0].offsetHeight,k=Math.max(S-y-b,w),P=Math.max(this._getScroll(e,!0),w+y+b);if(!S||P-S<1)return void(C&&(C.remove(),delete this.bar));if(C){if(c(C))return C;C.insertAfter(t)}return C||this._createBar(t,e,T),(C=e?this.barX:this.barY)?(u=e?this.thumbX:this.thumbY,s(T)&&u&&u.bind(this.evts),p=(e?t[0].offsetHeight:t[0].offsetWidth)-_,n=o(t,"marginLeft")+(e?y:p),l=o(t,"marginTop")+(e?p:y),C.css({left:t.css("left"),top:t.css("top"),marginLeft:n+"px",marginTop:l+"px"}),a(T)&&u.css(e?"width":"height",Math.floor(Math.max(S*S/P,x))+"px"),m=e?u[0].offsetWidth:u[0].offsetHeight,i=(P-k-y-b+_)/(k-m),e?this.ratioX=i:this.ratioY=i,h=t.offset(),d=C.offset(),g=d.top-h.top-(e?p:y),f=d.left-h.left-(e?y:p),Math.abs(g)>0&&C.css("marginTop",l-g+o(t,"borderTopWidth")+"px"),Math.abs(f)>0&&C.css("marginLeft",n-f+o(t,"borderLeftWidth")+"px"),C):void 0},_scroller:function(e){var i=this.options,n=i.direction;if(!(!this.evts||e&&"y"===n||!e&&"x"===n))return n=e?i.xScroller:i.yScroller,n&&"string"==typeof n&&(n=t(n)[0],e?i.xScroller=n:i.yScroller=n),n&&n.length&&(n=n[0]),n||this.element[0]},_getScroll:function(t,e){var i=this._scroller(t);return i?t?e?i.scrollWidth:i.scrollLeft:e?i.scrollHeight:i.scrollTop:0},_scroll:function(t,e){var i=this._scroller(!0);!i||this.inBarY||"y"===this.dir||n(t)||(i.scrollLeft=t,this.thumbX&&this.thumbX.css("marginLeft",Math.floor(i.scrollLeft/this.ratioX)+"px")),i=this._scroller(),!i||this.inBarX||"x"===this.dir||n(e)||(i.scrollTop=e,this.thumbY&&this.thumbY.css("marginTop",Math.floor(i.scrollTop/this.ratioY)+"px"))},_vis:function(){return this.evts&&this.element[0].offsetWidth},_inertia:function(){var t=this,e={owner:t},i=.97,n=.8,r=t.speedX,o=t.speedY,s=t.options,a=17,l=Math.max(Math.min(parseFloat(s.xInertia),i),0),u=Math.max(Math.min(parseFloat(s.yInertia),i),0),h=(r?r[0]+r[1]+r[2]:0)*a,d=(o?o[0]+o[1]+o[2]:0)*a,c=t._getScroll(!0),p=t._getScroll(),f=function(){t.timer=setTimeout(function(){return delete t.timer,e.deltaX=-Math.floor(h),e.deltaY=-Math.floor(d),t._vis()&&t._trigger("scrolling",null,e)?(c+=e.deltaX,p+=e.deltaY,t._scroll(Math.floor(c),Math.floor(p)),t._trigger("scrolled",null,e),d*=u,h*=l,void(Math.abs(d)>n&&p>0||Math.abs(h)>n&&c>0?f():t._end())):void t._end()},3*a)};f()},_show:function(t){var e,i=this,n=i.options,o=parseFloat(n.thumbOpacity),s=parseFloat(n.thumbOpacityDrag),a=t?0:r(n.animateShowDuration),u=c(i.barX),h=c(i.barY);return i.hiding&&(i.hiding.stop(!0),delete i.hiding),l(a)?(u&&u.css("opacity",i.inBarX?s:o),void(h&&h.css("opacity",i.inBarY?s:o))):(e=u||h,void(e&&(i.showing=e.animate({opacity:o},{duration:a,complete:function(){delete i.showing},step:function(t){u&&h&&h.css("opacity",t)}}))))},_hide:function(t){var e=this;e.time&&(e.showing&&(e.showing.stop(!0),delete e.showing),setTimeout(function(){(e.hiding||t)&&(p(e.barX),p(e.barY),delete e.hiding,e._fixSB())},0))},_end:function(){var t=this,e=t.options,i=t.thumbX&&s(e.xThumb)||t.thumbY&&s(e.yThumb),n=r(e.animateHideDuration);return t._trigger("stopped",null,{owner:t}),t.skip||!t._vis()?t._hide(!0):(i=r(i?e.hideDragThumbsDelay:e.hideThumbsDelay),void(t.timerEnd=setTimeout(function(){if(!t.timer&&t.timerEnd)if(l(n))t._hide(!0);else{var e=c(t.barX),i=c(t.barY);e||(e=i,i=null),e&&(t.hiding=e.animate({opacity:0},{duration:n,complete:function(){t._hide()},step:function(e){i&&i.css("opacity",e),t.skip&&t.hiding&&t.hiding.stop()}}))}delete t.timerEnd},l(i)?5:i)))},_clear:function(){this.timer&&(clearTimeout(this.timer),delete this.timer),this.timerEnd&&(clearTimeout(this.timerEnd),delete this.timerEnd)},_fire:function(t,e,i,n){return this._trigger(t,e,{owner:this,left:i,top:n})},_skip:function(t,e){var i=this.options.direction,n=this._scroller(!0)||0,r=this._scroller()||0,o=0,s=0,a=0,l=0;return n&&(s=n.clientWidth,l=n.scrollWidth,n=n.scrollLeft),r&&(o=r.clientHeight,a=r.scrollHeight,r=r.scrollTop),("y"===i||s>=l)&&("x"===i||o>=a)||((Math.abs(e)>Math.abs(t)||"y"===i)&&"x"!==i?e>0&&!r||e<0&&r+o>=a:t>0&&!n||t<0&&n+s>=l)},_fixSB:function(e){var i,r,o=this._on;if(!(e&&o||!o&&!e)){if(i=this._scroller(),r=this._scroller(!0),o)return i&&!n(o.y)&&(i.style.overflowY=o.y),r&&!n(o.x)&&(r.style.overflowX=o.x),void delete this._on;o=this._on={},i&&(o.y=t(i).css("overflowY"),i.style.overflowY="hidden"),r&&(o.x=t(r).css("overflowX"),r.style.overflowX="hidden")}},_move:function(t,e){if(this.evts){var n,r={owner:this},o=(new Date).getTime(),s=this,a=3,l=s.x0,p=s.y0,f=s.speedX,g=s.speedY,m=s.top,v=s.left,_=s.inBarY,y=s.inBarX,b=s.barX,w=s.barY,x=!s.drag,C=s.element,T=s._pointer?t.originalEvent:u(t),S=T?T.pageX:0,k=T?T.pageY:0,P=h(t);if(!(s.click&&s._pointer&&Math.abs(s.x-S)<3&&Math.abs(s.y-k)<3||(delete s.click,s.skip))){if(s._fixSB(!0),s._clear(),e||!T)return s.skip||"end"!==e||x||(s.inBarX||s.inBarY?s._end():s._inertia()),void delete s.drag;x?(s.skip=s._skip(S-s.x,k-s.y),s.skip&&s._end()):(r.deltaX=s.x-S,r.deltaY=s.y-k),!s.skip&&this._trigger(x?"starting":"scrolling",t,r)&&(x?(n=c(b)||c(w),l=s.x0=S,v=s.left=s._getScroll(!0),delete s.speedX,b=s._bar(C,!0),y=s.inBarX=d(b,P),p=s.y0=k,m=s.top=s._getScroll(),delete s.speedY,w=s._bar(C),_=s.inBarY=d(w,P),s._show(n||y||_)):(S=s.x-r.deltaX,n=(S-s.x)/(o-s.time),Math.abs(n)>a&&(n=n>0?a:-a),f?(f[0]=f[1],f[1]=f[2],f[2]=n):s.speedX=[0,0,n],k=s.y-r.deltaY,n=(k-s.y)/(o-s.time),Math.abs(n)>a&&(n=n>0?a:-a),g?(g=s.speedY=[0,0,n],g[0]=g[1],g[1]=g[2],g[2]=n):(s.speedY=[0,0,n],s.dir&&(s.dir=Math.abs(n)>=Math.abs(s.speedX[2])?"y":"x"))),s.drag=!0,s.x=S,s.y=k,s.time=o,i(t),S=y?v+Math.floor((S-l)*s.ratioX):v-S+l,k=_?m+Math.floor((k-p)*s.ratioY):m-k+p,s._scroll(S,k),this._trigger(x?"started":"scrolled",t))}}},destroy:function(){return this.evts&&(this.element.unbind(this.evts),delete this.evts,this.showing&&this.showing.stop(!0),this.hiding&&this.hiding.stop(!0),this._clear(),p(this.barX),p(this.barY),t.Widget.prototype.destroy.apply(this,arguments)),this}}),t.extend(t.ui.igScroll,{version:"13.1.20131.2042"}),t.ui.igScroll.defaults={thumbOpacityDrag:1,thumbOpacity:.5,animateShowDuration:300,animateHideDuration:500,hideThumbsDelay:200,hideDragThumbsDelay:1e3,xInertia:.8,yInertia:.85,marginLeft:2,marginRight:2,marginTop:2,marginBottom:2,xThumb:"show",yThumb:"show"};try{t(":jqmData(role='page')").live("pageshow",f)}catch(e){f(!0),t(document).bind("igcontrolcreated",function(t,e){e.owner.scrollContainer().igScroll({_find:!0})})}}(jQuery),define("igScroll",["jquery","jquery_ui"],function(){}),$.ig=$.ig||{},$.ig.Grid||($.ig.Grid={},$.extend($.ig.Grid,{locale:{noSuchWidget:"No such widget loaded: ",autoGenerateColumnsNoRecords:"autoGenerateColumns is enabled, but there are no records in the data source in order to determine the columns",optionChangeNotSupported:"Changing the following option after the igGrid has been created is not supported:",optionChangeNotScrollingGrid:"The following option cannot be changed after the grid is created because your initial grid is not scrolling and full re-rendering is required:",noPrimaryKeyDefined:"There is no primary key defined for the grid. In order to use features such as Grid Editing, you will need to define a primary key.",indexOutOfRange:"The row index you have specified is out of range.",noSuchColumnDefined:"The specified column key does not match any of the defined grid columns.",columnIndexOutOfRange:"The specified column index is out of range.",recordNotFound:"The record with the specified id could not be found in the data view:",columnNotFound:"No column was found matching key:",colPrefix:"Column ",columnVirtualizationRequiresWidth:"You have virtualization / columnVirtualization set to true, but no width could be inferred for grid columns. You should set one of a) grid width, b) defaultColumnWidth, c) define width for each column",virtualizationRequiresHeight:"You have virtualization set to true which requires grid height to be set too.",colVirtualizationDenied:"columnVirtualization is applicable for fixed virtualization only",noColumnsButAutoGenerateTrue:"You have autoGenerateColumns set to false, but there are no columns defined in the grid. Please set autoGenerateColumns to true, or specify columns manually",noPrimaryKey:"the igHierarchicalGrid widget requires a primary key to be defined.",templatingEnabledButNoTemplate:"You have jQueryTemplating set to true, but there is no rowTemplate defined.",expandTooltip:"Expand Row",collapseTooltip:"Collapse Row",movingNotAllowedOrIncompatible:"Moving of the requested column could not be completed. The column was not found or the result was not compatible with the column layout."}}),$.ig.GridFiltering=$.ig.GridFiltering||{},$.extend($.ig.GridFiltering,{locale:{startsWithNullText:"Starts with...",endsWithNullText:"Ends with...",containsNullText:"Contains...",doesNotContainNullText:"Does not contain...",equalsNullText:"Equals...",doesNotEqualNullText:"Does not equal...",greaterThanNullText:"Greater than...",lessThanNullText:"Less than...",greaterThanOrEqualToNullText:"Greater than or equal to...",lessThanOrEqualToNullText:"Less than or equal to...",onNullText:"On...",notOnNullText:"Not on...",emptyNullText:"Empty",notEmptyNullText:"Not empty",nullNullText:"Null",notNullNullText:"Not null",startsWithLabel:"Starts with",endsWithLabel:"Ends with",containsLabel:"Contains",doesNotContainLabel:"Does not contain",equalsLabel:"Equals",doesNotEqualLabel:"Does not equal",greaterThanLabel:"Greater than",lessThanLabel:"Less than",greaterThanOrEqualToLabel:"Greater than or equal to",lessThanOrEqualToLabel:"Less than or equal to",trueLabel:"True",falseLabel:"False",afterLabel:"After",beforeLabel:"Before",todayLabel:"Today",yesterdayLabel:"Yesterday",thisMonthLabel:"This month",lastMonthLabel:"Last month",nextMonthLabel:"Next month",thisYearLabel:"This year",lastYearLabel:"Last year",nextYearLabel:"Next year",clearLabel:"Clear Filter",noFilterLabel:"No",onLabel:"On",notOnLabel:"Not on",advancedButtonLabel:"Advanced",filterDialogCaptionLabel:"ADVANCED SEARCH",filterDialogConditionLabel1:"Show records matching ",filterDialogConditionLabel2:" of the following criteria",filterDialogOkLabel:"Search",filterDialogCancelLabel:"Cancel",filterDialogAnyLabel:"ANY",filterDialogAllLabel:"ALL",filterDialogAddLabel:"Add",filterDialogErrorLabel:"Maximum filters count exceeded.",filterSummaryTitleLabel:"Search results",filterSummaryTemplate:"${matches} matching records",filterDialogClearAllLabel:"Clear ALL",tooltipTemplate:"${condition} filter applied",featureChooserText:"Hide Filter",featureChooserTextHide:"Show Filter",featureChooserTextAdvancedFilter:"Advanced Filter",virtualizationSimpleFilteringNotAllowed:"When horizontal virtualization is enabled, simple filtering (filter row) is not supported. Please set mode to 'advanced' and/or do not enable advancedModeEditorsVisible",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use loader or use one of the combined script files."}}),$.ig.GridGroupBy=$.ig.GridGroupBy||{},$.extend($.ig.GridGroupBy,{locale:{emptyGroupByAreaContent:"Drag a column here or {0} to Group By",emptyGroupByAreaContentSelectColumns:"select columns",emptyGroupByAreaContentSelectColumnsCaption:"select columns",expandTooltip:"Expand Grouped Row",collapseTooltip:"Collapse Grouped Row",removeButtonTooltip:"Remove Grouped Column",featureChooserText:"Ungroup By",featureChooserTextHide:"Group By",modalDialogCaptionButtonDesc:"Click to sort ascending",modalDialogCaptionButtonAsc:"Click to sort descending",
modalDialogCaptionButtonUngroup:"Click to ungroup",modalDialogGroupByButtonText:"Group By",modalDialogCaptionText:"Add to Group By",modalDialogDropDownLabel:"Showing:",modalDialogClearAllButtonLabel:"clear all",modalDialogRootLevelHierarchicalGrid:"root",modalDialogDropDownButtonCaption:"Click to show/hide",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel"}}),$.ig.GridHiding=$.ig.GridHiding||{},$.extend($.ig.GridHiding,{locale:{columnChooserDisplayText:"Column Chooser",hiddenColumnIndicatorTooltipText:"Hidden Column(s)",columnHideText:"Hide",columnChooserCaptionLabel:"Column Chooser",columnChooserCheckboxesHeader:"view",columnChooserColumnsHeader:"column",columnChooserCloseButtonTooltip:"Close",hideColumnIconTooltip:"Hide",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",columnChooserShowText:"Show",columnChooserHideText:"Hide",columnChooserResetButtonLabel:"reset",columnChooserButtonApplyText:"Apply",columnChooserButtonCancelText:"Cancel"}}),$.ig.GridPaging=$.ig.GridPaging||{},$.extend($.ig.GridPaging,{locale:{pageSizeDropDownLabel:"Show ",pageSizeDropDownTrailingLabel:"records",nextPageLabelText:"next",prevPageLabelText:"prev",firstPageLabelText:"",lastPageLabelText:"",currentPageDropDownLeadingLabel:"Pg",currentPageDropDownTrailingLabel:"of ${count}",currentPageDropDownTooltip:"Choose page index",pageSizeDropDownTooltip:"Choose number of records per page",pagerRecordsLabelTooltip:"Current records range",prevPageTooltip:"go to the previous page",nextPageTooltip:"go to the next page",firstPageTooltip:"go to the first page",lastPageTooltip:"go to the last page",pageTooltipFormat:"page ${index}",pagerRecordsLabelTemplate:"${startRecord} - ${endRecord} of ${recordCount} records"}}),$.ig.GridRowSelectors=$.ig.GridRowSelectors||{},$.extend($.ig.GridRowSelectors,{locale:{selectionNotLoaded:"igGridSelection is not initialized. To avoid receiving this error message please enable the Selection feature for the grid or set the requireSelection property of the Row Selectors feature to false."}}),$.ig.GridSorting=$.ig.GridSorting||{},$.extend($.ig.GridSorting,{locale:{sortedColumnTooltipFormat:"sorted ${direction}",unsortedColumnTooltip:"click to sort column",ascending:"ascending",descending:"descending",modalDialogSortByButtonText:"sort by",modalDialogResetButton:"reset",modalDialogCaptionButtonDesc:"Click to sort descending",modalDialogCaptionButtonAsc:"Click to sort ascending",modalDialogCaptionButtonUnsort:"Click to remove sorting",featureChooserText:"Sort on Multiple",modalDialogCaptionText:"Sort Multiple",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel",sortingHiddenColumnNotSupport:"Sorting hidden column is not supported"}}),$.ig.GridSummaries=$.ig.GridSummaries||{},$.extend($.ig.GridSummaries,{locale:{featureChooserText:"Hide Summaries",featureChooserTextHide:"Show Summaries",dialogButtonOKText:"OK",dialogButtonCancelText:"Cancel",emptyCellText:"",summariesHeaderButtonTooltip:"Show/hide summaries",defaultSummaryRowDisplayLabelCount:"Count",defaultSummaryRowDisplayLabelMin:"Min",defaultSummaryRowDisplayLabelMax:"Max",defaultSummaryRowDisplayLabelSum:"Sum",defaultSummaryRowDisplayLabelAvg:"Avg",defaultSummaryRowDisplayLabelCustom:"Custom",calculateSummaryColumnKeyNotSpecified:"Please specify column key to calculate summary",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files."}}),$.ig.GridUpdating=$.ig.GridUpdating||{},$.extend($.ig.GridUpdating,{locale:{doneLabel:"Done",doneTooltip:"Stop editing and update",cancelLabel:"Cancel",cancelTooltip:"Stop editing and do not update",addRowLabel:"Add new row",addRowTooltip:"Click to start adding new row",deleteRowLabel:"",deleteRowTooltip:"Delete row",igEditorException:"The updating for ui.igGrid requires ui.igEditor to be loaded",igComboException:"In order to use the combo type for ui.igGrid, the ui.igCombo should be loaded",igRatingException:"In order to use the igRating as editor for ui.igGrid, the ui.igRating should be loaded",igValidatorException:"Validation options defined in igGridUpdating require ui.igValidator to be loaded",noPrimaryKeyException:'In order to support update operations after a row was deleted, application should define "primaryKey" in options of igGrid.',hiddenColumnValidationException:"Cannot edit row which has a hidden column with enabled validation.",dataDirtyException:'Grid has pending transactions which may affect rendering of data. To prevent exception, application may enable "autoCommit" option of igGrid, or it should process "dataDirty" event of igGridUpdating and return false. While processing that event, application also may do "commit()" data in igGrid.',rowEditDialogCaptionLabel:"Edit row data"}}),$.ig.ColumnMoving=$.ig.ColumnMoving||{},$.extend($.ig.ColumnMoving,{locale:{movingDialogButtonApplyText:"Apply",movingDialogButtonCancelText:"Cancel",movingDialogCaptionButtonDesc:"Move Down",movingDialogCaptionButtonAsc:"Move Up",movingDialogCaptionText:"Move Columns",movingDialogDisplayText:"Move Columns",dropDownMoveLeftText:"Move Left",dropDownMoveRightText:"Move Right",dropDownMoveFirstText:"Move First",dropDownMoveLastText:"Move Last",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",movingToolTipMove:"Move"}}),$.ig.ColumnFixing=$.ig.ColumnFixing||{},$.extend($.ig.ColumnFixing,{locale:{headerFixButtonText:"Click to fix this column",headerUnfixButtonText:"Click to unfix this column"}})),define("igGrid_en",["regional"],function(){}),$.ig=$.ig||{},$.ig.Grid||($.ig.Grid={},$.extend($.ig.Grid,{locale:{noSuchWidget:"No such widget loaded: ",autoGenerateColumnsNoRecords:"autoGenerateColumns is enabled, but there are no records in the data source in order to determine the columns",optionChangeNotSupported:"Changing the following option after the igGrid has been created is not supported:",optionChangeNotScrollingGrid:"The following option cannot be changed after the grid is created because your initial grid is not scrolling and full re-rendering is required:",noPrimaryKeyDefined:"There is no primary key defined for the grid. In order to use features such as Grid Editing, you will need to define a primary key.",indexOutOfRange:"The row index you have specified is out of range.",noSuchColumnDefined:"The specified column key does not match any of the defined grid columns.",columnIndexOutOfRange:"The specified column index is out of range.",recordNotFound:"The record with the specified id could not be found in the data view:",columnNotFound:"No column was found matching key:",colPrefix:"Column ",columnVirtualizationRequiresWidth:"You have virtualization / columnVirtualization set to true, but no width could be inferred for grid columns. You should set one of a) grid width, b) defaultColumnWidth, c) define width for each column",virtualizationRequiresHeight:"You have virtualization set to true which requires grid height to be set too.",colVirtualizationDenied:"columnVirtualization is applicable for fixed virtualization only",noColumnsButAutoGenerateTrue:"You have autoGenerateColumns set to false, but there are no columns defined in the grid. Please set autoGenerateColumns to true, or specify columns manually",noPrimaryKey:"the igHierarchicalGrid widget requires a primary key to be defined.",templatingEnabledButNoTemplate:"You have jQueryTemplating set to true, but there is no rowTemplate defined.",expandTooltip:"Expand Row",collapseTooltip:"Collapse Row",movingNotAllowedOrIncompatible:"Moving of the requested column could not be completed. The column was not found or the result was not compatible with the column layout."}}),$.ig.GridFiltering=$.ig.GridFiltering||{},$.extend($.ig.GridFiltering,{locale:{startsWithNullText:"Starts with...",endsWithNullText:"Ends with...",containsNullText:"Contains...",doesNotContainNullText:"Does not contain...",equalsNullText:"Equals...",doesNotEqualNullText:"Does not equal...",greaterThanNullText:"Greater than...",lessThanNullText:"Less than...",greaterThanOrEqualToNullText:"Greater than or equal to...",lessThanOrEqualToNullText:"Less than or equal to...",onNullText:"On...",notOnNullText:"Not on...",emptyNullText:"Empty",notEmptyNullText:"Not empty",nullNullText:"Null",notNullNullText:"Not null",startsWithLabel:"Starts with",endsWithLabel:"Ends with",containsLabel:"Contains",doesNotContainLabel:"Does not contain",equalsLabel:"Equals",doesNotEqualLabel:"Does not equal",greaterThanLabel:"Greater than",lessThanLabel:"Less than",greaterThanOrEqualToLabel:"Greater than or equal to",lessThanOrEqualToLabel:"Less than or equal to",trueLabel:"True",falseLabel:"False",afterLabel:"After",beforeLabel:"Before",todayLabel:"Today",yesterdayLabel:"Yesterday",thisMonthLabel:"This month",lastMonthLabel:"Last month",nextMonthLabel:"Next month",thisYearLabel:"This year",lastYearLabel:"Last year",nextYearLabel:"Next year",clearLabel:"Clear Filter",noFilterLabel:"No",onLabel:"On",notOnLabel:"Not on",advancedButtonLabel:"Advanced",filterDialogCaptionLabel:"ADVANCED SEARCH",filterDialogConditionLabel1:"Show records matching ",filterDialogConditionLabel2:" of the following criteria",filterDialogOkLabel:"Search",filterDialogCancelLabel:"Cancel",filterDialogAnyLabel:"ANY",filterDialogAllLabel:"ALL",filterDialogAddLabel:"Add",filterDialogErrorLabel:"Maximum filters count exceeded.",filterSummaryTitleLabel:"Search results",filterSummaryTemplate:"${matches} matching records",filterDialogClearAllLabel:"Clear ALL",tooltipTemplate:"${condition} filter applied",featureChooserText:"Hide Filter",featureChooserTextHide:"Show Filter",featureChooserTextAdvancedFilter:"Advanced Filter",virtualizationSimpleFilteringNotAllowed:"When horizontal virtualization is enabled, simple filtering (filter row) is not supported. Please set mode to 'advanced' and/or do not enable advancedModeEditorsVisible",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use loader or use one of the combined script files."}}),$.ig.GridGroupBy=$.ig.GridGroupBy||{},$.extend($.ig.GridGroupBy,{locale:{emptyGroupByAreaContent:"Drag a column here or {0} to Group By",emptyGroupByAreaContentSelectColumns:"select columns",emptyGroupByAreaContentSelectColumnsCaption:"select columns",expandTooltip:"Expand Grouped Row",collapseTooltip:"Collapse Grouped Row",removeButtonTooltip:"Remove Grouped Column",featureChooserText:"Ungroup By",featureChooserTextHide:"Group By",modalDialogCaptionButtonDesc:"Click to sort ascending",modalDialogCaptionButtonAsc:"Click to sort descending",modalDialogCaptionButtonUngroup:"Click to ungroup",modalDialogGroupByButtonText:"Group By",modalDialogCaptionText:"Add to Group By",modalDialogDropDownLabel:"Showing:",modalDialogClearAllButtonLabel:"clear all",modalDialogRootLevelHierarchicalGrid:"root",modalDialogDropDownButtonCaption:"Click to show/hide",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel"}}),$.ig.GridHiding=$.ig.GridHiding||{},$.extend($.ig.GridHiding,{locale:{columnChooserDisplayText:"Column Chooser",hiddenColumnIndicatorTooltipText:"Hidden Column(s)",columnHideText:"Hide",columnChooserCaptionLabel:"Column Chooser",columnChooserCheckboxesHeader:"view",columnChooserColumnsHeader:"column",columnChooserCloseButtonTooltip:"Close",hideColumnIconTooltip:"Hide",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",columnChooserShowText:"Show",columnChooserHideText:"Hide",columnChooserResetButtonLabel:"reset",columnChooserButtonApplyText:"Apply",columnChooserButtonCancelText:"Cancel"}}),$.ig.GridPaging=$.ig.GridPaging||{},$.extend($.ig.GridPaging,{locale:{pageSizeDropDownLabel:"Show ",pageSizeDropDownTrailingLabel:"records",nextPageLabelText:"next",prevPageLabelText:"prev",firstPageLabelText:"",lastPageLabelText:"",currentPageDropDownLeadingLabel:"Pg",currentPageDropDownTrailingLabel:"of ${count}",currentPageDropDownTooltip:"Choose page index",pageSizeDropDownTooltip:"Choose number of records per page",pagerRecordsLabelTooltip:"Current records range",prevPageTooltip:"go to the previous page",nextPageTooltip:"go to the next page",firstPageTooltip:"go to the first page",lastPageTooltip:"go to the last page",pageTooltipFormat:"page ${index}",pagerRecordsLabelTemplate:"${startRecord} - ${endRecord} of ${recordCount} records"}}),$.ig.GridRowSelectors=$.ig.GridRowSelectors||{},$.extend($.ig.GridRowSelectors,{locale:{selectionNotLoaded:"igGridSelection is not initialized. To avoid receiving this error message please enable the Selection feature for the grid or set the requireSelection property of the Row Selectors feature to false."}}),$.ig.GridSorting=$.ig.GridSorting||{},$.extend($.ig.GridSorting,{locale:{sortedColumnTooltipFormat:"sorted ${direction}",unsortedColumnTooltip:"click to sort column",ascending:"ascending",descending:"descending",modalDialogSortByButtonText:"sort by",modalDialogResetButton:"reset",modalDialogCaptionButtonDesc:"Click to sort descending",modalDialogCaptionButtonAsc:"Click to sort ascending",modalDialogCaptionButtonUnsort:"Click to remove sorting",featureChooserText:"Sort on Multiple",modalDialogCaptionText:"Sort Multiple",modalDialogButtonApplyText:"Apply",modalDialogButtonCancelText:"Cancel",sortingHiddenColumnNotSupport:"Sorting hidden column is not supported"}}),$.ig.GridSummaries=$.ig.GridSummaries||{},$.extend($.ig.GridSummaries,{locale:{featureChooserText:"Hide Summaries",featureChooserTextHide:"Show Summaries",dialogButtonOKText:"OK",dialogButtonCancelText:"Cancel",emptyCellText:"",summariesHeaderButtonTooltip:"Show/hide summaries",defaultSummaryRowDisplayLabelCount:"Count",defaultSummaryRowDisplayLabelMin:"Min",defaultSummaryRowDisplayLabelMax:"Max",defaultSummaryRowDisplayLabelSum:"Sum",defaultSummaryRowDisplayLabelAvg:"Avg",defaultSummaryRowDisplayLabelCustom:"Custom",calculateSummaryColumnKeyNotSpecified:"Please specify column key to calculate summary",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files."}}),$.ig.GridUpdating=$.ig.GridUpdating||{},$.extend($.ig.GridUpdating,{locale:{doneLabel:"Done",doneTooltip:"Stop editing and update",cancelLabel:"Cancel",cancelTooltip:"Stop editing and do not update",addRowLabel:"Add new row",addRowTooltip:"Click to start adding new row",deleteRowLabel:"",deleteRowTooltip:"Delete row",igEditorException:"The updating for ui.igGrid requires ui.igEditor to be loaded",igComboException:"In order to use the combo type for ui.igGrid, the ui.igCombo should be loaded",igRatingException:"In order to use the igRating as editor for ui.igGrid, the ui.igRating should be loaded",igValidatorException:"Validation options defined in igGridUpdating require ui.igValidator to be loaded",noPrimaryKeyException:'In order to support update operations after a row was deleted, application should define "primaryKey" in options of igGrid.',hiddenColumnValidationException:"Cannot edit row which has a hidden column with enabled validation.",dataDirtyException:'Grid has pending transactions which may affect rendering of data. To prevent exception, application may enable "autoCommit" option of igGrid, or it should process "dataDirty" event of igGridUpdating and return false. While processing that event, application also may do "commit()" data in igGrid.',rowEditDialogCaptionLabel:"Edit row data"}}),$.ig.ColumnMoving=$.ig.ColumnMoving||{},$.extend($.ig.ColumnMoving,{locale:{movingDialogButtonApplyText:"Apply",movingDialogButtonCancelText:"Cancel",movingDialogCaptionButtonDesc:"Move Down",movingDialogCaptionButtonAsc:"Move Up",movingDialogCaptionText:"Move Columns",movingDialogDisplayText:"Move Columns",dropDownMoveLeftText:"Move Left",dropDownMoveRightText:"Move Right",dropDownMoveFirstText:"Move First",dropDownMoveLastText:"Move Last",featureChooserNotReferenced:"Feature Chooser script is not referenced. To avoid receiving this error message please include the file ig.ui.grid.featurechooser.js or use one of the combined script files.",movingToolTipMove:"Move"}}),$.ig.ColumnFixing=$.ig.ColumnFixing||{},$.extend($.ig.ColumnFixing,{locale:{headerFixButtonText:"Click to fix this column",headerUnfixButtonText:"Click to unfix this column"}})),"function"!=typeof jQuery)throw new Error("jQuery is undefined");!function($){var _hovTR,_aNull=function(t){return null===t||void 0===t};$.widget("ui.igGrid",{css:{baseClass:"ui-widget ui-helper-clearfix ui-corner-all",baseContentClass:"ui-widget-content",gridClasses:"ui-iggrid",recordClass:"ui-ig-record ui-iggrid-record",recordAltClass:"ui-ig-altrecord ui-iggrid-altrecord",headerClass:"ui-iggrid-header ui-widget-header",headerTextClass:"ui-iggrid-headertext",baseHeaderClass:"ui-widget-header",gridTableClass:"ui-iggrid-table ui-widget-content",gridHeaderTableClass:"ui-iggrid-headertable",gridFooterTableClass:"ui-iggrid-footertable ui-widget-footer",gridFooterClass:"",gridCaptionTableClass:"ui-iggrid-captiontable",gridHeaderCaptionClass:"ui-iggrid-headercaption ui-widget-header ui-corner-top",gridTableBodyClass:"ui-iggrid-tablebody",gridScrollDivClass:"ui-iggrid-scrolldiv ui-widget-content",gridFooterCaptionClass:"ui-iggrid-footercaption",deletedRecord:"ui-iggrid-deletedrecord",modifiedRecord:"ui-iggrid-modifiedrecord",rtl:"ui-iggrid-rtl"},options:{width:null,height:null,autoAdjustHeight:!0,avgRowHeight:25,avgColumnWidth:null,defaultColumnWidth:null,autoGenerateColumns:!0,virtualization:!1,virtualizationMode:"fixed",requiresDataBinding:!0,rowVirtualization:!1,columnVirtualization:!1,virtualizationMouseWheelStep:null,adjustVirtualHeights:!1,rowTemplate:null,jQueryTemplating:!1,columns:[{headerText:null,key:null,formatter:null,format:null,dataType:"string",width:null,hidden:!1,template:null,unbound:!1,group:[],rowspan:0,formula:null,unboundValues:null}],dataSource:null,dataSourceUrl:null,dataSourceType:null,responseDataKey:null,responseTotalRecCountKey:null,requestType:"GET",responseContentType:null,showHeader:!0,showFooter:!0,fixedHeaders:!0,fixedFooters:!0,caption:null,features:[{}],tabIndex:0,accessibilityRendering:!1,localSchemaTransform:!0,primaryKey:null,serializeTransactionLog:!0,autoCommit:!1,aggregateTransactions:!1,autoFormat:"date",renderCheckboxes:!1,updateUrl:null,restSettings:{create:{url:null,template:null,batch:!1},update:{url:null,template:null,batch:!1},remove:{url:null,template:null,batch:!1},encodeRemoveInRequestUri:!0,contentSerializer:null,contentType:"application/json; charset=utf-8"},alternateRowStyles:!0,autofitLastColumn:!0,enableHoverStyles:!0,enableUTCDates:!1,mergeUnboundColumns:!1},events:{cellClick:"cellClick",dataBinding:"dataBinding",dataBound:"dataBound",rendering:"rendering",rendered:"rendered",dataRendering:"dataRendering",dataRendered:"dataRendered",headerRendering:"headerRendering",headerRendered:"headerRendered",footerRendering:"footerRendering",footerRendered:"footerRendered",headerCellRendered:"headerCellRendered",rowsRendering:"rowsRendering",rowsRendered:"rowsRendered",schemaGenerated:"schemaGenerated",columnsCollectionModified:"columnsCollectionModified",requestError:"requestError",created:"igcontrolcreated",destroyed:"igcontroldestroyed"},resizeTimeout:300,speedupDOMCleanup:!1,widget:function(){return this.element},_createWidget:function(t,e){this.options.columns=[],this.options.features=[],!t.dataSource||"array"!==$.type(t.dataSource)&&"object"!==$.type(t.dataSource)||(this.tmpDataSource=t.dataSource,t.dataSource=null,this._originalOptions=t),$.Widget.prototype._createWidget.apply(this,arguments)},_init:function(){},_setOption:function(t,e){var i,n,r=this.element[0].id+"_scroll";if(e!==this.options[t]){if(n=null!==this.options.height||null!==this.options.width,$.Widget.prototype._setOption.apply(this,arguments),"virtualization"===t||"autoGenerateColumns"===t||"accessibilityRendering"===t||"rowVirtualization"===t||"columnVirtualization"===t||"fixedHeaders"===t||"scrollbars"===t)throw new Error($.ig.Grid.locale.optionChangeNotSupported+" "+t);if("width"===t){if(n!==!0)throw new Error($.ig.Grid.locale.optionChangeNotScrollingGrid+" "+t);this.container().css("width",e),this.element.css("width",e),this.options.fixedHeaders&&this.headersTable().css("width",e),this._allColumnWidthsInPercentage&&hasWidthInPercent||(this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0?this._gridInnerWidth=$("#"+this.element[0].id+"_displayContainer").width()+this._scrollbarWidth():this._gridInnerWidth=this.scrollContainer().width()),null!==this.options.width&&null!==this.options.height&&this._updateHScrollbarVisibility()}else if("height"===t){if(n!==!0)throw new Error($.ig.Grid.locale.optionChangeNotScrollingGrid+" "+t);$("#"+r).css("overflow-y","auto"),this.options.autoAdjustHeight?(this.container().css("height",e),this._virtualHeightReset=!0,this._initializeHeights()):this.scrollContainer().css("height",e)}else"dataSource"===t?(this.options.dataSource=e,this.dataBind(),this._adjustLastColumnWidth(!0)):"showHeader"===t?(i=$("#"+this.id()+"_headers"),i.length>0&&i.is("table")?e===!0?i.show():i.hide():(i=this.element.find("thead tr"),e===!0?i.show():i.hide())):"caption"===t&&$("#"+this.id()+"_caption").text(e)}},_initialized:!1,_headersInitialized:!1,_footerInitialized:!1,_create:function(){var t,e=this;if(this._isHierarchicalGrid=!1,this._hasUnboundColumns=!1,this.options._isHierarchicalGrid===!0&&(this._isHierarchicalGrid=!0),this._rtl="rtl"===this.element.css("direction"),this._padding=this._rtl?"padding-left":"padding-right",this._tmap=null,null!==this.tmpDataSource&&void 0!==this.tmpDataSource&&(this.options.dataSource=this.tmpDataSource,this._originalOptions.dataSource=this.tmpDataSource),this._testInnerHtml(),this._headerInitCallbacks=[],this._footerInitCallbacks=[],this._firstBind=!0,this._hasOptionsRowTemplate=null!==e.options.rowTemplate&&void 0!==e.options.rowTemplate,this._isMultiColumnGrid=!1,this._unboundValues={},this._isMultiColumnHeader()===!0&&(this._isMultiColumnGrid=!0,this._generateColumnFlatStructure(this.options.columns),this._headerCells=[]),this.options.rowVirtualization===!0&&"continuous"===this.options.virtualizationMode&&(this.options.virtualization=!0),this.options.columnVirtualization===!0){if(this.options.virtualization=!0,"continuous"===this.options.virtualizationMode)throw new Error($.ig.Grid.locale.colVirtualizationDenied);this.options.virtualizationMode="fixed"}for(this.options.virtualization!==!0&&this.options.columnVirtualization!==!0&&this.options.rowVirtualization!==!0||(void 0!==this.options.virtualizationMode&&""!==this.options.virtualizationMode||(this.options.virtualizationMode="fixed"),"fixed"===this.options.virtualizationMode&&(this.options.fixedHeaders=!0,this.options.fixedFooters=!0)),this.options.virtualization===!0&&"continuous"===this.options.virtualizationMode&&(this.options.fixedHeaders=!0),(null===this.options.height||parseInt(this.options.height,10)<=0)&&this.options.fixedHeaders===!0&&(this.options.fixedHeaders=!1),(null===this.options.height||parseInt(this.options.height,10)<=0)&&this.options.fixedFooters===!0&&(this.options.fixedFooters=!1),this.dataBind(!0),this._cellClickHandler=function(t){var i,n=$(t.target).closest("tr"),r=n.attr("data-id"),o=$(t.target).closest("td").index();""!==r&&null!==r&&void 0!==r||(r=n.index()),o>=0&&o<e._visibleColumns().length&&(i=e._visibleColumns()[o].key),($(t.target).is("td")||1===$(t.target).closest("td").length&&"true"!==$(t.target).closest("td").parent().attr("data-container"))&&e._trigger(e.events.cellClick,t,{rowIndex:n.index(),rowKey:r,colIndex:o,colKey:i,cellElement:t.target,owner:e})},this.element.bind({click:this._cellClickHandler}),(null!==this.options.height&&this.options.height.indexOf&&this.options.height.indexOf("%")!==-1||null!==this.options.height&&null!==this.options.width)&&(this._resId=setInterval($.proxy(this._resizeContainer,this),this.resizeTimeout)),t=0;t<this.options.columns.length;t++)void 0===this.options.columns[t].hidden&&(this.options.columns[t].hidden=!1);this._uiSoftDirtyHandler=$.proxy(this._onFeaturesSoftDirty,this),this.element.bind("iggriduisoftdirty",this._uiSoftDirtyHandler),this._oldScrollTop=0,this.element.trigger(this.events.created,{owner:this}),this._rtl&&this.container().addClass(this.css.rtl)},hasFixedColumns:function(){return null!==this._fixedColumns&&void 0!==this._fixedColumns&&this._fixedColumns.length>0},_onColumnFixed:function(t,e){this._fireInternalEvent("_columnFixed",{colInd:t,isFixed:e})},_testInnerHtml:function(){var t=document.createElement("table");try{t.innerHTML="<tr><td> t </td></tr>",this._canreplaceinner=!0}catch(t){this._canreplaceinner=!1}},_resizeContainer:function(){var t,e=this.options,i=e.virtualization===!0||e.rowVirtualization===!0||e.columnVirtualization===!0;e.autoAdjustHeight&&this.container().height()!==this._prevContainerHeight&&this._initializeHeights(),null!==e.width&&null!==e.height&&(t=i===!1?this.scrollContainer().width():$("#"+this.element[0].id+"_displayContainer").width()+this._scrollbarWidth(),this._gridInnerWidth!==t&&(this._gridInnerWidth>0||t>0)&&(this._gridInnerWidth=t,this._updateHScrollbarVisibility()))},_isMultiColumnHeader:function(){var t,e=this.options.columns;for(t=0;t<e.length;t++)if(void 0!==e[t].group&&null!==e[t].group)return!0;return!1},_analyzeMultiColumnHeaders:function(t,e,i,n,r,o){var s,a,l,u,h,d=t.length,c=0,p=[],f=!1,g=[];for(s=0;s<d;s++)if(void 0!==t[s].group&&null!==t[s].group){for(u=void 0!==t[s].key&&null!==t[s].key?t[s].key.toString():(this._multiColumnIdentifier++).toString(),t[s].identifier||(t[s].identifier=u),f=!0,g=[],h=!1,o!==!0&&t[s].hidden!==!0||(h=!0),l=this._analyzeMultiColumnHeaders(t[s].group,e,i+1,n[s].group,g,h),n[s].colspan=l.colspan,n[s].children=g,a=0;a<g.length;a++)r.push(g[a]);p.push(s),c+=l.colspan}else c++,n[s].level=0,n[s].level0=!0,o===!0&&(t[s].hidden=!0),r.push(t[s]),e.push(t[s]);for(a=0;a<p.length;a++)n[p[a]].level=this._maxLevel-i;return{colspan:c}},_getMultiHeaderColumnById:function(t,e,i){var n,r,o=null;if(null===i||void 0===i){if(null===this._oldCols||void 0===this._oldCols)return null;i=this._oldCols}for(r=i.length,n=0;n<r;n++){if(i[n].identifier===t&&(void 0===e||i[n].level===e))return i[n];if(null!==i[n].group&&void 0!==i[n].group&&(o=this._getMultiHeaderColumnById(t,e,i[n].group),null!==o))return o}return null},_getMaxLevelRecursive:function(t,e){var i,n,r,o=e.length,s=t,a=!1;for(i=0;i<o;i++)r=1,null!==e[i].rowspan&&void 0!==e[i].rowspan&&e[i].rowspan>0&&(r=e[i].rowspan),void 0!==e[i].group&&null!==e[i].group?(a=!0,n=this._getMaxLevelRecursive(t+r,e[i].group),n>s&&(s=n)):r>0&&(n=t+r-1,n>s&&(s=n));return s},_headerInit:function(t,e,i){var n;for(n=0;n<this._headerInitCallbacks.length;n++)this._headerInitCallbacks[n].func(t,e,i)},_footerInit:function(t,e,i,n){var r;for(r=0;r<this._footerInitCallbacks.length;r++)this._footerInitCallbacks[r].func(t,e,i,n)},id:function(){return this.element[0].id},container:function(){return $("#"+this.element[0].id+"_container")},headersTable:function(){return this.options.fixedHeaders===!0&&null!==this.options.height?$("#"+this.element[0].id+"_headers"):this.element},footersTable:function(){return this.options.fixedFooters===!0&&null!==this.options.height?$("#"+this.element[0].id+"_footers"):this.element},scrollContainer:function(){return $("#"+this.element[0].id+"_scroll")},fixedContainer:function(){return $("#"+this.element[0].id+"_fixedBodyContainer")},fixedHeadersTable:function(){return $(this.options.fixedHeaders===!0&&null!==this.options.height?"#"+this.element[0].id+"_headers_fixed":"#"+this.element[0].id+"_fixed")},fixedFootersTable:function(){return $(this.options.fixedFooters===!0&&null!==this.options.height?"#"+this.element[0].id+"_footers_fixed":"#"+this.element[0].id+"_fixed")},cellAt:function(t,e,i){var n;return void 0===t||void 0===e?null:(void 0===this.table&&(this.table=this.element[0]),n=this._dataRowIndex(e),i===!0?(void 0===this._fixedTable&&(this._fixedTable=this.element),this._fixedTable[0].rows[n].cells[t]):this.table.rows[n].cells[t])},fixedTable:function(){return void 0===this._fixedTable&&(this._fixedTable=this.element[0]),this._fixedTable},_calculateHeaderFooterRows:function(){var t=0,e=0;return t=this.element.children("thead").children("tr").length,$.ig.util.isOpera&&(e=this.element.children("tfoot").children("tr").length),t+e},_dataRowIndex:function(t){var e,i;if(void 0===this.table&&(this.table=this.element[0]),void 0!==this._additionalTrCount&&null!==this._additionalTrCount||(this._additionalTrCount=this._calculateHeaderFooterRows()),this._hc===!0)for(e=this.element.children("tbody").children("tr[data-container]"),i=0;i<e.length;i++)$(e[i]).index()<=t&&(t+=1);return t+=this._additionalTrCount,t>=this.table.rows.length?t=this.table.rows.length-1:t<0&&(t=0),t},immediateChildrenWidgets:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){return $(this).children(".ui-iggrid-scrolldiv").length>0?$(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table").data("igGrid"):$(this).children(".ui-iggrid-table").data("igGrid")})},childrenWidgets:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table").map(function(){return $(this).data("igGrid")})},children:function(){return this.element.find("tbody > tr > .ui-iggrid-childarea").find(".ui-iggrid-table")},immediateChildren:function(){return this.element.children("tbody").children("tr").children(".ui-iggrid-childarea").children("div").children("div").map(function(){return $(this).children(".ui-iggrid-scrolldiv").length>0?$(this).children(".ui-iggrid-scrolldiv").children(".ui-iggrid-table"):$(this).children(".ui-iggrid-table")})},rowAt:function(t){return t=this._dataRowIndex(t),this.table.rows[t]},rows:function(){return this.element.children("tbody").children("tr")},allRows:function(){return this.element.find("tbody tr")},columnByKey:function(t){var e,i=this.options.columns;for(e=0;e<i.length;e++)if(String(i[e].key)===String(t))return i[e];return null},columnByText:function(t){var e,i=this.options.columns;for(e=0;e<i.length;e++)if(i[e].headerText===t)return i[e];return null},activeCell:function(){return this._activeCell},activeRow:function(){return this._activeRow},selectedCell:function(){return this._selectedCell},selectedRow:function(){return this._selectedRow},selectedCells:function(){return this._selectedCells},selectedRows:function(){return this._selectedRows},getCellValue:function(t,e){var i,n,r,o,s,a=parseInt(t,10),l=this.options.columns,u=!1;if(s=this.dataSource.pendingTransactions(),this.options.autoCommit===!1&&s.length>0)for(n=0;n<s.length;n++)if(s[n].rowId===t){if("cell"===s[n].type&&s[n].col===e)return s[n].value;if("row"===s[n].type||"newrow"===s[n].type)return s[n].row[e]}if(null!==this.options.primaryKey){if(o=this.columnByKey(this.options.primaryKey),r="number"===o.dataType||"numeric"===o.dataType?this.dataSource.findRecordByKey(parseInt(t,10)):this.dataSource.findRecordByKey(t),null===r||void 0===r)throw new Error($.ig.Grid.locale.recordNotFound+" "+t);return r[e]}if(a>=this.dataSource.dataView().length)throw new Error($.ig.Grid.locale.indexOutOfRange);if("string"===$.type(e)){for(n=0;n<l.length;n++)if(l[n].key===e){i=l[n],u=!0;break}if(u===!1)throw new Error($.ig.Grid.locale.noSuchColumnDefined);
return this.dataSource.dataView()[a][e]}if(l.length<=e)throw new Error($.ig.Grid.locale.columnIndexOutOfRange);return this.dataSource.dataView()[a][e]},getCellText:function(t,e){var i,n,r,o,s=this.options.columns,a=0;if("string"===$.type(e)){for(i=0;i<s.length;i++)if(s[i].key===e){n=i;break}}else n=e;if(void 0===n)throw new Error($.ig.Grid.locale.columnNotFound+" "+e);if(null!==this.options.primaryKey){for(i=0;i<s.length;i++)if(s[i].key===this.options.primaryKey){r=i;break}if(void 0===r)throw new Error($.ig.Grid.locale.columnNotFound+" "+this.options.primaryKey);return o=this.element.find("[data-id="+t+"]"),a=o.children("[data-skip=true]").length,a+=o.children("[data-parent=true]").length,o.children("td:nth-child("+(n+1+a)+")").text()}return $(this.cellAt(n,parseInt(t,10))).text()},commit:function(t){var e;e=this._normalizedKey(t),this.dataSource.commit(e),this._renderData()},rollback:function(t,e){var i,n,r,o,s,a=this.options.columns;if(o=this._normalizedKey(t),this.dataSource.rollback(o),e===!0&&null!==t&&void 0!==t){if(null!==this.options.primaryKey){if(i=this.dataSource.findRecordByKey(o),void 0===i||null===i)throw new Error($.ig.Grid.locale.recordNotFound+" "+t);for(s=0;s<a.length;s++)if(a[s].key===this.options.primaryKey){r=s;break}if(void 0===r)throw new Error($.ig.Grid.locale.columnNotFound+" "+this.options.primaryKey);n=this.element.find("td:nth-child("+(r+1)+"):contains('"+t+"')").parent()[0]}else{if(parseInt(t,10)>=this.dataSource.dataView().length)throw new Error($.ig.Grid.locale.indexOutOfRange);i=this.dataSource.dataView()[parseInt(t,10)],n=this.rowAt(parseInt(t,10))}$(n).removeClass(this.css.deletedRecord),n._deleted=null,this._renderRow(i,n)}else t!==!0&&e!==!0||this.dataBind();e!==!0&&void 0!==e||void 0!==t&&null!==t||this._renderData()},findRecordByKey:function(t){return this.dataSource.findRecordByKey(t)},getDetachedRecord:function(t){return this.dataSource.getDetachedRecord(t)},pendingTransactions:function(){return this.dataSource.pendingTransactions()},allTransactions:function(){return this.dataSource.allTransactions()},transactionsAsString:function(){return this.dataSource.transactionsAsString()},_normalizedKey:function(t){var e,i;return void 0===t||null===t?null:(e=t,null!==this.options.primaryKey?(i=this.columnByKey(this.options.primaryKey),"number"!==i.dataType&&"numeric"!==i.dataType||(e=parseInt(t,10))):e=parseInt(t,10),e)},saveChanges:function(){this.dataSource.saveChanges()},_renderRow:function(t,e,i){var n,r,o,s,a,l,u=0,h=this.options.columns;for(n=0;n<e.cells.length;n++)if(r=$(e.cells[n]),s=r[0].className,u>0||!(r.attr("data-skip")||s&&(s.indexOf("-expandcolumn")>0||s.indexOf("-rowselector")>0))){for(;;){if(o=h[u],!o)return e;if(!o.hidden)break;u++}this.options.rowTemplate&&this.options.rowTemplate.length>0?(a=this._renderTemplatedCell(t,o),l=a.indexOf(">"),a=a.substring(l+1,a.length),r.html(a)):r.html(this._renderCell(t[o.key],o,t)),u++}return e},renderNewRow:function(t,e){var i=this.element.children("tbody"),n=i.children('[data-container!="true"]').length,r=this;MSApp.execUnsafeLocalFunction(function(){i.append(r._renderRecord(t,n))})},_findTableRowByKey:function(t){var e,i,n,r=this.options.columns;if(null!==this.options.primaryKey){for(n=0;n<r.length;n++)if(r[n].key===this.options.primaryKey){e=n;break}if(void 0===e)throw new Error($.ig.Grid.locale.columnNotFound+" "+this.options.primaryKey);return i=this.element.find("td:nth-child('"+(e+1)+"'):contains('"+t+"')").parent(),0===i.length?null:i[0]}return this.rowAt(parseInt(t,10))},dataSourceObject:function(t){return void 0===t?this.options.dataSource:void(this.options.dataSource=t)},totalRecordsCount:function(){return this.dataSource.totalRecordsCount()},dataBind:function(t){var e,i,n=!0,r=!0;if(this._initialized||(r=this._trigger(this.events.rendering,null,{owner:this})),r){if(n=this._trigger(this.events.dataBinding,null,{owner:this}),void 0===t&&(this.options.requiresDataBinding=!0),n)if(this.options.requiresDataBinding){if(this._hasUnboundColumns&&(this._rebindUnboundColumns=!0),e=this._generateDataSourceOptions(this.options),this._setupDataSource(e),this._dataOptions=e,this._initialized){for(this._isDataBoundCalled=!0,this.element.trigger("iggriduidirty",{owner:this}),i=0;i<this.options.features.length;i++)this._initFeatureSettings(this.options.features[i]);this._trigger("headerExtraCellsModified",null,{owner:this})}else{for(this.element.is("div")&&(this._isWrapped=!0,this.element=$("<table></table>").appendTo(this.element).attr("id",this.element[0].id+"_table"),this.element.data("igGrid",this)),i=0;i<this.options.features.length;i++)this._initFeature(this.options.features[i],e);this.options.autoGenerateColumns!==!0&&this._captureInitiallyHiddenColumns(),this._visibleColumnsArray=void 0}this._renderGrid(),void 0===this._loadingIndicator&&this._initLoadingIndicator(),this._loadingIndicator&&this._loadingIndicator.show(),this.dataSource.dataBind(),this.options.requiresDataBinding=!1}else this._renderGrid()}else this._cancelRendering=!0},_mergeUnboundValues:function(){var t,e,i,n,r,o,s,a,l,u,h,d,c,p,f,g=this.options.primaryKey,m=this.dataSource.metadata("unboundValues"),v=this,_=null!==g&&void 0!==g;if(void 0!==m&&null!==m&&0!==m.length&&this._unboundColumns)for(_&&(f=function(t,e){return n=o?v.dataSource.findRecordByKey(parseInt(t,10)):v.dataSource.findRecordByKey(t),null===n||void 0===n||(void 0!==a&&null!==a&&(e=a._convertType(l,e,n[g],d)),v._addUnboundColumnValue(d,e),void(n[d]=e))},e=this.columnByKey(g),o="number"===e.dataType),r=this._unboundColumns.length,a=this.dataSource.schema(),t=0;t<r;t++)if(d=this._unboundColumns[t].key,i=m[d],null!==i&&void 0!==i&&(s=this.getUnboundColumnByKey(d),l=null,null!==s&&s.dataType&&(l=s.dataType),_?$.each(i,f):v.setUnboundValues(d,i),"bool"===l||"boolean"===l)){if(h=this.dataSource.data(),c=a._convertType(l,void 0),u=h.length,u<=i.length)continue;for(p=0;p<u;p++)void 0===h[p][d]&&(h[p][d]=c)}},_generateDataSourceOptions:function(t){var e,i,n,r,o;if(!this.options.dataSource&&!this.options.dataSourceUrl&&this.element.is("table")&&this.element.find("tbody").children().length>0&&(this.options.dataSource=this.element[0]),this.options.dataSource&&this.options.dataSource.tagName&&this.options.dataSource.nodeType&&(n=$(this.options.dataSource),n.is("table")&&n.find("thead th").length>0))for(r=n.find("thead tr th"),this._tb_h=!0,this._tb_h_arr=[],o=0;o<r.length;o++)this._tb_h_arr.push($(r[o]).text());return i={callback:$.proxy(this._renderData,this),callee:this,responseDataKey:this.options.responseDataKey,responseTotalRecCountKey:this.options.responseTotalRecCountKey,dataSource:this.options.dataSource,requestType:this.options.requestType,responseContentType:this.options.responseContentType,primaryKey:this.options.primaryKey,localSchemaTransform:this.options.localSchemaTransform,autoCommit:this.options.autoCommit,aggregateTransactions:this.options.aggregateTransactions,serializeTransactionLog:this.options.serializeTransactionLog,updateUrl:this.options.updateUrl,restSettings:this.options.restSettings},null!==this.options.dataSourceType&&(i.type=this.options.dataSourceType),this.options.dataSource&&this.options.dataSource.schema&&this.options.dataSource.schema()&&"xml"===this.options.dataSource.schema()._type||(e=this._generateDataSourceSchema()),!(this.options.dataSource instanceof $.ig.DataSource&&(null===this.options.dataSource.settings.schema||!this.options.dataSource.settings.schema.fields||this.options.dataSource.settings.schema.fields&&this.options.dataSource.settings.schema.fields.length>=0))&&this.options.dataSource instanceof $.ig.DataSource||(i=$.extend(i,{schema:e})),i},_insertUnboundColumn:function(t){null!==this._unboundColumns&&void 0!==this._unboundColumns||(this._unboundColumns=[]),this._unboundColumns.push(t),!t.key||null!==this._unboundValues[t.key]&&void 0!==this._unboundValues[t.key]||(this._unboundValues[t.key]=[]),t.unboundValues&&t.unboundValues.length>0&&(this._isToSetUnboundColumns=!0),this._hasUnboundColumns=!0},_addUnboundColumnValue:function(t,e,i){null!==this._unboundValues[t]&&void 0!==this._unboundValues[t]||(this._unboundValues[t]=[]),void 0!==i&&null!==i?this._unboundValues[t][i]=e:this._unboundValues[t].push(e)},_generateDataSourceSchema:function(){var t,e,i,n,r,o=0,s=this.options.columns,a=this.options.dataSource,l=0;if(a instanceof $.ig.DataSource&&(a="array"===$.type(a.settings.dataSource)||"object"===$.type(a.settings.dataSource)?a.settings.dataSource:"string"!==$.type(a.settings.dataSource)?a.data():[]),"object"===$.type(a)&&this.options.responseDataKey&&(a=$.ig.findPath(a,this.options.responseDataKey)),t={},t.fields=[],t.searchField=this.options.responseDataKey,s.length>0&&!this.options.autoGenerateColumns)for(e=0;e<s.length;e++)(s[e].unbound!==!0&&s[e].unboundDS!==!0||(this._insertUnboundColumn(s[e]),s[e].unbound!==!0))&&(t.fields[l]={},t.fields[l].name=s[e].key,t.fields[l].type=s[e].dataType,l++);else if(this.options.autoGenerateColumns){if(a&&a.tagName&&$(a).is("table")&&$(a).find("tbody tr").length>0)i=$(a).find("tbody tr")[0],$(i).find("td").each(function(){s.length>o?t.fields.push({name:s[o].key||o+1,type:s[o].dataType||"string"}):t.fields.push({name:o+1,type:"string"}),o++});else if(a&&a.length&&a.length>0&&"array"===$.type(a))for(e=0;e<a.length;e++){i=a[e];for(n in i)i.hasOwnProperty(n)&&(null!==this.columnByKey(n)||this._fieldExists(n,t)||"object"===$.type(i[n])||"array"===$.type(i[n])?null!==this.columnByKey(n)&&t.fields.push({name:n,type:this.columnByKey(n).dataType}):t.fields.push({name:n,type:$.ig.getColType(i[n])}),o++);if(!this.options._recurseSchema)break}for(e=0;e<s.length;e++)s[e].unbound!==!0&&s[e].unboundDS!==!0||this._insertUnboundColumn(s[e])}if(this._trigger(this.events.schemaGenerated,null,{owner:this,schema:t,dataSource:a}),r=this.options.columnLayouts,r&&r.length&&r.length>0)for(e=0;e<r.length;e++)t.fields.push({name:r[e].key});return t},_fieldExists:function(t,e){var i;for(i=0;i<e.fields.length;i++)if(e.fields[i].name===t)return!0;return!1},_setupDataSource:function(t){var e;this.options.dataSource instanceof $.ig.DataSource?(this.dataSource=this.options.dataSource,null!==this.dataSource.settings.responseDataKey&&(delete t.responseDataKey,t.schema&&(t.schema.searchField=this.dataSource.settings.responseDataKey)),this._tds=this.dataSource.settings.dataSource,this.dataSource.settings.dataSource=null,$.ig.util.isIE8&&t.callee&&(e=t.callee,t.callee=null),this.dataSource.settings=$.extend(!0,{},this.dataSource.settings,t),$.ig.util.isIE8&&e&&(this.dataSource.settings.callee=e),this.dataSource.settings.dataSource=this._tds,this._tds=null,t.schema&&this.dataSource._initSchema()):"string"===$.type(t.dataSource)&&t.dataSource.indexOf("$callback=?")!==-1?this.dataSource=new $.ig.JSONPDataSource(t):null!==this.options.restSettings.update.url||null!==this.options.restSettings.update.template||null!==this.options.restSettings.create.url||null!==this.options.restSettings.create.template||null!==this.options.restSettings.remove.url||null!==this.options.restSettings.remove.template?this.dataSource=new $.ig.RESTDataSource(t):this.dataSource=new $.ig.DataSource(t)},_generateColumns:function(){var t,e,i,n,r,o,s,a=this.options.columns.length>0,l=!1,u=!1,h=[],d=this.options.dataSource,c=this.options.childrenDataProperty;if(d instanceof $.ig.DataSource?d=d.data():"string"==typeof d&&(d=this.dataSource.data()),"object"===$.type(d)&&this.options.responseDataKey&&(o=$.ig.findPath(d,this.options.responseDataKey),"array"===$.type(o)&&(d=o)),d&&d.tagName&&$(d).is("table")?(n=$(d).find("tbody tr").length,u=!0):d&&d.length&&(n=d.length),d&&n&&0===n&&0===this.options.columns.length)throw new Error($.ig.Grid.locale.autoGenerateColumnsNoRecords);if(d&&n&&n>0)if(t=u?$(d).find("tbody tr")[0]:d[0],"array"===$.type(t)||u)for(l=this._tb_h,u&&($(t).find("td").each(function(){h.push($(this).text())}),t=h),i=0;i<t.length;i++)null===this.columnByKey(i+1)&&"object"!==$.ig.getColType(t[i])?(r={headerText:l?this._tb_h_arr[i]:$.ig.Grid.locale.colPrefix+(i+1),key:i+1,dataType:$.ig.getColType(t[i]),hidden:!1},r.headerText=(r.headerText||"").toString().trim(),this._isMultiColumnGrid&&(r.level0=!0,r.level=0,this._oldCols.push(r)),this.options.columns.push(r),this._visibleColumnsArray=void 0):l&&!this.columnByKey(i+1).headerText&&(this.columnByKey(i+1).headerText=this._tb_h_arr[i]);else for(e in t)t.hasOwnProperty(e)&&null===this.columnByKey(e)&&(s=$.ig.getColType(t[e]),(!c||c===e)&&c||"object"===s&&null!==t[e]||"ig_pk"===e||(r={headerText:e,key:e,dataType:$.ig.getColType(t[e]),hidden:!1},this.options.columns.push(r),this._isMultiColumnGrid&&(r.level0=!0,r.level=0,this._oldCols.push(r)),this._visibleColumnsArray=void 0));null!==this.dataSource.schema()&&0!==this.dataSource.schema().fields().length||a||(this.dataSource.settings.schema=this._generateDataSourceSchema(),this.dataSource._initSchema()),null===this.options.width&&this._setContainerWidth(this.element[0].id+"_container"),this._trigger("columnsgenerated",null,{owner:this,key:this.options.key})},_renderGrid:function(){var t,e,i=this.element[0],n=this.element.children("tbody"),r=this.options.accessibilityRendering;if(this._cancelRendering=!1,!this._initialized){if("number"===$.type(this.options.virtualization)&&this.dataSource.dataView().length>this.options.virtualization&&null!==this.options.height&&(this.options.virtualization=!0),r&&this.element.attr("role","grid"),this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization===!0){if(void 0===this.options.height||null===this.options.height)throw new Error($.ig.Grid.locale.virtualizationRequiresHeight);this._createVirtualGrid()}else null!==this.options.height||null!==this.options.width?this._createScrollingGrid():(t=i.id+"_container",e='<div id="'+t+'" class="'+this.css.gridClasses+" "+this.css.baseClass+'"> </div>',this.element.wrap(e),this.element.addClass(this.css.gridTableClass),r&&this.element.attr("aria-describedby",t),this._setContainerWidth(t),$("#"+t).attr("tabIndex",this.options.tabIndex),null!==this.options.height&&$("#"+t).css("overflow-y","hidden"));this._touch(),this.options.columns.length>0&&this.options.virtualization!==!0&&this.options.rowVirtualization!==!0&&this.options.columnVirtualization!==!0&&this.options.autogenerateColumns===!1&&this.options.columns.length>0&&this._renderColgroup(this.element[0],!1,!1,this.options.autofitLastColumn),$(i).attr("cellpadding","0"),$(i).attr("cellspacing","0"),$(i).attr("border","0"),$(i).css("table-layout","fixed"),$(i).addClass(this.css.gridTableClass),this.options.autoGenerateColumns===!1&&this.options.columns.length>0&&this._headerRenderCancel!==!0&&this._renderHeader(),this._renderCaption(),this.options.autoAdjustHeight&&this._initializeHeights()}0===n.length&&(n=$("<tbody></tbody>").appendTo(i).addClass(this.css.baseContentClass).addClass(this.css.gridTableBodyClass).addClass(this.css.recordClass)),"htmlTableDom"!==this.dataSource.type()&&"htmlTableId"!==this.dataSource.type()&&n.empty()},_setContainerWidth:function(t,e){var i=this._visibleColumns(),n=0;i.length>0?(n=this._calculateContainerWidth(!0),n>0&&(e?(n=0,this.container().find(".ui-iggrid-header").each(function(){n+=$(this).outerWidth()}),$("#"+t).width(n)):(n+=this._calculateSpecialColumnsWidth(),$("#"+t).css("width",n)))):null!==this.options.width&&$("#"+t).css("width",this.options.width)},_calculateContainerWidth:function(t){var e,i=0,n=this.options.columns;for(e=0;e<n.length;e++)n[e].hidden===!0||void 0!==this._initialHiddenColumns&&$.inArray(n[e],this._initialHiddenColumns)!==-1||(i+=n[e].width?parseInt(n[e].width,10):null===this.options.defaultColumnWidth?0:parseInt(this.options.defaultColumnWidth,10));return null!==this.options.height&&i>0&&t===!0&&(i+=this._scrollbarWidth()),i},_createScrollingGrid:function(){var t=this.element[0].id+"_scroll",e='<div id="'+t+'"></div>';this.element.wrap(e),this.options.accessibilityRendering&&this.element.attr("aria-describedby",t),$("#"+t).addClass(this.css.gridScrollDivClass).wrap("<div id='"+this.element[0].id+"_container'></div>"),$.ig.util.isIE7&&$("#"+t).css("padding-bottom",this._scrollbarWidth()),this.container().attr("tabIndex",this.options.tabIndex).addClass(this.css.baseClass).addClass(this.css.gridClasses),null!==this.options.width?(this.container().css("width",this.options.width),this.options.width.indexOf&&this.options.width.indexOf("%")!==-1&&this.element.css("width","100%"),null!==this.options.height&&(this._addHorizontalScrollBar($("#"+t)),$("#"+this.element[0].id+"_scroll").css("overflow-x","hidden"))):(this._setContainerWidth(this.element[0].id+"_container"),$("#"+this.element[0].id+"_scroll").css("overflow-x","hidden")),null!==this.options.height&&($("#"+t).css("overflow-y","auto"),this.options.autoAdjustHeight?this.container().css("height",this.options.height):this.scrollContainer().css("height",this.options.height))},_touch:function(){var t=this.element[0].id,e=$("#"+t+"_scroll");1!==e.length&&(e=$("#"+t+"_displayContainer")),e.length&&(e.attr("data-scroll","true").attr("data-oneDirection","true"),$("#"+t+"_hscroller")[0]?e.attr("data-xScroller","#"+t+"_hscroller"):$("#"+t+"_horizontalScrollContainer")[0]&&e.attr("data-xScroller","#"+t+"_horizontalScrollContainer"),$("#"+t+"_scrollContainer")[0]&&e.attr("data-yScroller","#"+t+"_scrollContainer"),"object"==typeof Modernizr&&Modernizr.touch===!0&&void 0!==this.element.igScroll&&e.css("overflow-y","hidden"))},_createVirtualGrid:function(){var t,e,i,n,r,o,s=this.element[0].id,a=$.ig.util.isWebKit?"width=100%":"",l=0,u='<div id="'+s+'_container" style="margin:0px; border:0px; padding:0px;"><table border="0" cellspacing="0" cellpadding="0" class="ui-iggrid-layout-helper" style="border-spacing:0px" id="'+s+'_virtualContainer" ><tbody><tr><td colspan="2" style="border-width:0px"><div id="'+s+'_headers_v" style="overflow:hidden;"></div></td></tr><tr><td style="border-width:0px;"><div id="'+s+'_displayContainer"></td>$verticalMarkup$</tr>$horizontalMarkup$</tbody></table></div>',h='<tr><td colspan="2" style="border-width: 0px"><div id="'+s+'_horizontalScrollContainer"></div></td></tr>';n=this._scrollbarWidth(),$.ig.util.isIE&&(n+=1),o=parseInt(this.options.height,10)>0?'<td style="border-width: 0px;"><div id="'+s+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+n+"px; height:"+this.options.height+';"></div></td>':'<td style="border-width: 0px;"><div id="'+s+'_scrollContainer" style="overflow:scroll; overflow-x:hidden; width: '+n+'px;"></div></td>',this.options.virtualization===!0?u=u.replace("$verticalMarkup$",o).replace("$horizontalMarkup$",h):this.options.rowVirtualization===!0?u=u.replace("$verticalMarkup$",o).replace("$horizontalMarkup$",""):this.options.columnVirtualization===!0&&(u=u.replace("$horizontalMarkup$",h).replace("$verticalMarkup$","")),this.options.virtualization!==!0&&this.options.columnVirtualization!==!0||this.element.css("width","100%"),this.element.wrap(u),this.container().addClass(this.css.baseClass).addClass(this.css.gridClasses),null!==this.options.width?this.container().width(this.options.width):this._setContainerWidth(this.container()[0].id),$("#"+s+"_displayContainer").append(this.element[0]),t=this,e=this._calculateContainerWidth(!1),l=null!==this.options.width?parseInt(this.options.width,10):e,null!==this.options.height&&null!==this.options.width&&(l-=this._scrollbarWidth()),l<=0&&(l=void 0),l>0&&this.options.expandColWidth&&!this.options.width&&(l+=this.options.expandColWidth),$("<colgroup><col "+(l<=0?a:'width="'+l+'"')+'></col><col width="'+this._scrollbarWidth()+'"></col></colgroup>').prependTo("#"+s+"_virtualContainer"),$("#"+s+"_virtualContainer").css("width",this.options.width).css("max-width",this.options.width),i='<div style="width:1px; overflow:hidden; height:'+this._totalRowCount*parseInt(this.options.avgRowHeight,10)+'px;"></div>',$("#"+s+"_scrollContainer").append(i),(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&this.options.width&&e>parseInt(this.options.width,10)&&($("#"+s+"_horizontalScrollContainer").css("height",this._scrollbarWidth()+"px").css("overflow","scroll"),$.ig.util.isIE?$("#"+s+"_horizontalScrollContainer").css("width",parseInt(this.options.width,10)+1).css("height","100%"):$("#"+s+"_horizontalScrollContainer").css("width",this.options.width),r='<div style="width:'+e+'px;height:1px;"></div>',$("#"+s+"_horizontalScrollContainer").append(r)),parseInt(this.options.height,10)>0&&$("#"+s+"_displayContainer").css("height",this.options.height).css("vertical-align","top"),$("#"+s+"_displayContainer").css("position","relative").css("width",l).css("maxWidth",l),this.options.virtualization===!0&&$("#"+s+"_headers_v").append("<a href='#' id='"+s+"_displayContainer_a' tabindex='-1' style='position:absolute;top:-100px;left:-100px'>&nbsp;</a>"),this.options.width&&this.options.virtualization===!1&&this.options.columnVirtualization===!1?$("#"+s+"_displayContainer").css({"overflow-y":"hidden","overflow-x":"auto"}):$("#"+s+"_displayContainer").css("overflow","hidden"),$("#"+s+"_displayContainer").parent().bind({mouseenter:function(e){t._isMouseOverVirtualTable=!0},mouseleave:function(e){t._isMouseOverVirtualTable=!1}}),$(document).bind({DOMMouseScroll:function(e){var i,n,r="down";n=null===t.options.virtualizationMouseWheelStep?parseInt(t.options.avgRowHeight,10):t.options.virtualizationMouseWheelStep,i=-e.originalEvent.detail/3,i>0&&(r="up"),t._isMouseOverVirtualTable&&(t._onVirtualVerticalScroll(e,n,r),e.preventDefault())},mousewheel:function(e){var i,n,r="down";n=null===t.options.virtualizationMouseWheelStep?parseInt(t.options.avgRowHeight,10):t.options.virtualizationMouseWheelStep,i=e.originalEvent.wheelDelta/120,i>0&&(r="up"),t._isMouseOverVirtualTable&&(t._onVirtualVerticalScroll(e,n,r),e.preventDefault())}}),this.options.virtualization!==!0&&this.options.rowVirtualization!==!0||$("#"+s+"_scrollContainer").bind({scroll:function(e){t._onVirtualVerticalScroll(e),t._virtualScrollMouseDown=!1},mousedown:function(e){t._virtualScrollMouseDown=!0}}),this.options.virtualization!==!0&&this.options.columnVirtualization!==!0||$("#"+s+"_horizontalScrollContainer").bind({scroll:function(e){t._onVirtualHorizontalScroll(e)}}),0===$("#"+s+"_horizontalScrollContainer").length&&null!==this.options.width&&(this._addHorizontalScrollBar($("#"+s+"_virtualContainer")),$("#"+s+"_displayContainer").css("overflow-x","hidden")),this.element.height($("#"+s+"_scrollContainer").height()),this.options.width&&this.options.width.indexOf&&this.options.width.indexOf("%")!==-1&&($("#"+s+"_virtualContainer > colgroup > col:first").css("width","100%"),$("#"+s+"_horizontalScrollContainer").css("width","100%"),$("#"+s+"_displayContainer").css("width","100%").css("max-width","100%"))},_onVirtualVerticalScroll:function(t,e,i){if(this._ignoreScroll&&t)return!1;this._isHorizontal=!1;var n,r=this._scrollContainer(),o=r.scrollTop(),s=this.options.virtualizationMode;void 0!==e&&("down"===i?r.scrollTop(o+e):r.scrollTop(o-e),o=r.scrollTop()),n=r.scrollTop()-this._oldScrollTop,Math.abs(n)<5&&$.ig.util.isFF&&!$.ig.util.isIE||(void 0!==s&&""!==s||(s="continuous"),"fixed"===s?(this._startRowIndex=Math.ceil(r.scrollTop()/parseInt(this.options.avgRowHeight,10)),!$.ig.util.isIE&&this._startRowIndex===this._oldStartRowIndex&&this._virtualScrollMouseDown&&(n>0&&n<parseInt(this.options.avgRowHeight,10)?(this._startRowIndex++,r.scrollTop(r.scrollTop()-n+parseInt(this.options.avgRowHeight,10))):n<0&&Math.abs(n)<parseInt(this.options.avgRowHeight,10)&&(this._startRowIndex--,r.scrollTop(r.scrollTop()-n-parseInt(this.options.avgRowHeight,10)))),this._startRowIndex>this._totalRowCount-this._virtualRowCount&&(this._startRowIndex=this._totalRowCount-this._virtualRowCount),this._startRowIndex<0&&(this._startRowIndex=0),this._oldStartRowIndex=this._startRowIndex,this._renderVirtualRecords()):"continuous"===s&&this.virtualScrollTo(o),this._oldScrollTop=r.scrollTop())},_scrollContainer:function(){return this._scrollContainerObj||(this._scrollContainerObj=$("#"+this.element[0].id+"_scrollContainer")),this._scrollContainerObj},_onVirtualHorizontalScroll:function(t){var e=this.element[0].id,i=void 0===t,n=$("#"+e+"_horizontalScrollContainer"),r=n.scrollLeft(),o=n[0].scrollWidth-n[0].offsetWidth,s=r-this._oldScrollLeft;if(!(!i&&Math.abs(s)<5&&$.ig.util.isIE)||$.ig.util.isIE){if(this.options.virtualization===!0&&"continuous"===this.options.virtualizationMode)return this._setDisplayContainerScrollLeft(this._getDisplayContainerScrollLeft()+s),this._oldScrollLeft=n.scrollLeft(),$("#"+e+"_headers_v").scrollLeft($("#"+e+"_headers_v").scrollLeft()+s),void $("#"+e+"_footer_container").scrollLeft($("#"+e+"_footer_container").scrollLeft()+s);this._isHorizontal=!0,o>0?(this._startColIndex=Math.ceil(r*this._totalColumnCount/o),this._startColIndex=Math.min(this._startColIndex,this._totalColumnCount-this._virtualColumnCount)):this._startColIndex=0,(i||this._oldStartColIndex!==this._startColIndex)&&(this._renderVirtualRecords(),this._trigger("virtualhorizontalscroll",null,{startColIndex:this._startColIndex,endColIndex:this._startColIndex+this._virtualColumnCount-1})),this._oldScrollLeft=n.scrollLeft(),this._oldStartColIndex=this._startColIndex}},_initLoadingIndicator:function(){var t;this.container().data("igLoading")?this._loadingIndicator=this.container().data("igLoading").indicator():(t=this.container().igLoading().data("igLoading"),t&&(this._loadingIndicator=t.indicator()))},_addHorizontalScrollBar:function(t){var e=$("<div id='"+this.element[0].id+"_hscroller_container' ></div>").css("height",this._scrollbarWidth()+"px").css("position","relative").css("display","none").css("overflow","hidden").append($("<div id='"+this.element[0].id+"_hscroller' ></div>").css("width","100%").css("position","absolute").css("bottom","0px").css("overflow-x","scroll").css("overflow-y","scroll").append($("<div id='"+this.element[0].id+"_hscroller_inner' ></div>").css("height","1px")).bind("scroll",$.proxy(this._scrollData,this)));t&&e.insertAfter(t)},_updateVirtualHorizontalScrollbar:function(){var t,e;t=$("#"+this.element[0].id+"_horizontalScrollContainer div"),t.css("width",this._calculateContainerWidth(!1)),e=$("#"+this.element[0].id+"_horizontalScrollContainer"),e.width()>t.width()?e.css("display","none"):e.css("display","")},_generateColumnFlatStructure:function(t){var e,i,n=[];e=t.slice(0),i=t.slice(0),this._multiColumnIdentifier=0,this._maxLevel=this._getMaxLevelRecursive(0,e),this._hiddenColumns={},this._analyzeMultiColumnHeaders(e,n,0,i,[]),this._oldCols=i,this.options.columns=n},moveColumn:function(t,e,i,n){var r,o,s,a,l=this;if(o=this._buildColumnLayoutArray(),i=null===i||void 0===i||i,n=null===n||void 0===n||n,s={column:t,target:e,after:i},this._oldCols?(r=this._performInternalMove(s,this._oldCols),a=jQuery.extend(!0,{},this._hiddenColumns),this._generateColumnFlatStructure(this._oldCols),this._hiddenColumns=a,this._preserveColspans(this._oldCols)):r=this._performInternalMove(s,this.options.columns),t=s.column,e=s.target,i=s.after,r===!1)throw new Error($.ig.Grid.locale.movingNotAllowedOrIncompatible);n===!0?(this._loadingIndicator.show(),setTimeout(function(){l._columnMovingResets(),l._performDomColumnMove(t,e,i,o),l._loadingIndicator.hide()},0)):(this._columnMovingResets(),this._performColumnMove(t,e,i,o))},_columnMovingResets:function(){var t,e;for(this._updateHeaderColumnIndexes(),delete this._virtualDom,delete this._visibleColumnsArray,this._headerCells=[],t=0;t<this.options.columns.length;t++)e=$("#"+this.element[0].id+"_"+this.options.columns[t].key).data("columnIndex",t),e.data("data-mch-order",t),e.is(":visible")&&this._headerCells.push(e)},_preserveColspans:function(t){var e,i,n,r=0;for(e=0;e<t.length;e++)i=t[e],void 0!==i.group&&null!==i.group?(n=this._preserveColspans(i.group),i.colspan=n,r+=n):i.hidden!==!0&&r++;return r},_columnVisible:function(t){return!t.hidden},_buildColumnLayoutArray:function(){var t,e,i,n,r,o=0,s=0,a=0,l=this._oldCols?jQuery.extend(!0,[],this._oldCols):jQuery.extend(!0,[],this.options.columns),u=0,h=$("#"+this.id()+" colgroup:first>col").not("[data-skip=true]").length,d=$("#"+this.id()+(this.options.fixedHeaders===!0?"_headers ":" ")+"thead tr").length,c=[];for(0===d&&this.options.showHeader===!1&&(d=1),o=0;o<h;o++)c[o]=[];for(o=0;u<d;){for(r=[];o<l.length;)if(t=l[o],t.hidden!==!0){for(i=t.rowspan||1,e=this._getColMarkForLevel(t),n=t.colspan||1,s=0;s<n;s++)c[a+s][u]=e;t.crs===i&&t.group?r.push.apply(r,$.grep(t.group,this._columnVisible).slice(0)):r.push(t),a+=n,o++}else o++;l=r,u++,a=0,o=0}return c},_getColMarkForLevel:function(t){return t.crs||(t.crs=0),t.crs++,t.crs>1?-1:t.key||t.identifier},_performInternalMove:function(t,e){var i,n=0,r=!0;if(n=this._getColIdxById(e,t.column),"number"==typeof t.column&&(t.column=e[n].key||e[n].identifier),n||0===n)return i=this._getColIdxById(e,t.target),"number"==typeof t.target&&(t.target=e[i].key||e[i].identifier,i<n?t.after=!1:t.after=!0),!(!i&&0!==i)&&(r=r&&this._rearrangeArray(e,n,1,t.after===!0?i+1:i));for(n=0;n<e.length;n++)if(e[n].group&&this._performInternalMove(t,e[n].group)===!0)return!0;return!1},_getColIdxById:function(t,e){var i,n;if("number"==typeof e)return e;for(i=0;i<t.length;i++)if(n=t[i],n.key){if(n.key===e)return i}else if(n.identifier&&n.identifier===e)return i},_findColAreaInLayout:function(t,e,i){var n,r,o={};for(n=0;n<e.length;n++)if(e[n][i]===t){for(o.start=n,r=n;r<e.length&&e[r][i]===t;r++);return o.length=r-n,o}return null},_rearrangeArray:function(t,e,i,n){var r,o,s=e<n;if(e===n||e<0||n<0||e>=t.length||n>t.length)return!1;for(r=t.splice(e,i),o=0;o<r.length;o++)t.splice(s?n-i+o:n+o,0,r[o]);return!0},_moveColumnInHeader:function(t,e,i,n){var r,o,s,a,l,u,h,d,c,p,f,g;for(g=$("#"+this.id()+(this.options.fixedHeaders===!0?"_headers ":" ")+"thead"),c=0;c<n[0].length&&(o=this._findColAreaInLayout(t,n,c),!o||!(s=this._findColAreaInLayout(e,n,c)));c++);if(r=[o,s],this.options.showHeader===!1)return r;for(this._moveThs(g,t,e,i);++c<n[0].length;){for(p=[],f=null,d=o.start;d<o.start+o.length;d++)n[d][c]!==-1&&n[d][c]!==f&&(f=n[d][c],p.push(f));a=i===!0?s.start+s.length-1:s.start,n[a][c]===-1?(i===!0?(u=s.start+s.length,h=o.start>s.start+s.length-1?o.start:n.length,l=this._findTargetRight(u,h,c,n),l||(u=s.start+s.length-2,h=o.start>s.start+s.length-1?-1:o.start+o.length,l=this._findTargetLeft(u,h,c,n))):(u=s.start-1,h=o.start>s.start+s.length-1?-1:o.start+o.length,l=this._findTargetLeft(u,h,c,n),l||(u=s.start+1,h=o.start>s.start+s.length-1?o.start:n.length,l=this._findTargetRight(u,h,c,n))),l&&l.pos&&void 0!==l.left&&null!==l.left&&this._moveThs(g,p,n[l.pos][c],l.left)):this._moveThs(g,p,n[a][c],i)}return r},_moveColumnInBodyFooter:function(t,e,i,n){var r,o,s,a,l,u,h;for(s=t.find(">tr:not([data-container='true'],[data-grouprow='true'])"),s.length>0&&(h=s.eq(0).find("[data-parent],[data-skip='true'],th").length),o=0;o<s.length;o++){for(l=$(),a=s.eq(o),r=e.start;r<e.start+e.length;r++)l=l.add(a.children().eq(r+h));n===!0?(u=a.children().eq(i.start+i.length+h-1),l.detach().insertAfter(u)):(u=a.children().eq(i.start+h),l.detach().insertBefore(u))}},_findTargetRight:function(t,e,i,n){var r,o={};for(r=t;r>=0&&r<e&&r<n.length;r++)if(n[r][i]!==-1)return o.pos=r,o.left=!1,o},_findTargetLeft:function(t,e,i,n){var r,o={};for(r=t;r>=0&&r>e&&r<n.length;r--)if(n[r][i]!==-1)return o.pos=r,o.left=!0,o},_moveCols:function(t,e,i,n){var r,o,s=$(),a=t.children("[data-skip='true']").length;for(r=e.start;r<e.start+e.length;r++)s=s.add(t.children().eq(r+a));n===!0?(o=t.children().eq(i.start+i.length+a-1),s.detach().insertAfter(o)):(o=t.children().eq(i.start+a),s.detach().insertBefore(o))},_moveThs:function(t,e,i,n){var r,o,s,a,l=$();if(r=t.find("th[data-mch-id='"+i+"'],th[id='"+this.id()+"_"+i+"']"),"object"==typeof e)for(s=0;s<e.length;s++)o=t.find("th[data-mch-id='"+e[s]+"'],th[id='"+this.id()+"_"+e[s]+"']"),o.attr("data-vscr-padding-icrement")&&(a=o),l=l.add(o);else l=t.find("th[data-mch-id='"+e+"'],th[id='"+this.id()+"_"+e+"']"),
l.attr("data-vscr-padding-icrement")&&(a=l);l.detach(),n?l.insertAfter(r):l.insertBefore(r),r.attr("data-vscr-padding-icrement")&&n===!0?(l.last().css(this._padding,r.css(this._padding)).attr("data-vscr-padding-icrement",r.attr("data-vscr-padding-icrement")),r.css(this._padding,""),r.removeAttr("data-vscr-padding-icrement")):a&&(a.parent().children(":last").css(this._padding,a.css(this._padding)).attr("data-vscr-padding-icrement",a.attr("data-vscr-padding-icrement")),a.css(this._padding,""),a.removeAttr("data-vscr-padding-icrement"))},_moveSpecialThs:function(t,e,i){var n,r,o,s,a,l,u,h;for(s=$("#"+this.id()+(this.options.fixedHeaders===!0?"_headers ":" ")+"thead"),o=s.find(">tr[data-role]"),o.length>0&&(a=o.eq(0).find("[data-parent],[data-skip='true']").length),r=0;r<o.length;r++){for(l=$(),u=$(o[r]),n=t.start;n<t.start+t.length;n++)l=l.add(u.find("td:eq("+(n+a)+")"));i===!0?(h=u.children().eq(e.start+e.length+a-1),l.detach().insertAfter(h)):(h=u.children().eq(e.start+a),l.detach().insertBefore(h))}},_performDomColumnMove:function(t,e,i,n){var r,o,s=this._moveColumnInHeader(t,e,i,n),a=s[0],l=s[1];this._moveSpecialThs(a,l,i),this.options.fixedHeaders===!0&&this._moveCols($("#"+this.id()+"_headers>colgroup"),a,l,i),o=i===!0?l.start+l.length:l.start,this._moveColumnInBodyFooter(this.element.find(">tbody"),a,l,i),this._moveCols(this.element.find(">colgroup"),a,l,i),this.options.fixedFooters===!0?(r=$("#"+this.id()+"_footers"),this._moveColumnInBodyFooter(r.children("tfoot"),a,l,i),this._moveCols(r.children("colgroup"),a,l,i)):this._moveColumnInBodyFooter(this.element.find("tfoot"),a,l,i),this._trigger("_columnsmoved",null,{owner:this,start:a.start,len:a.length,index:i===!0?l.start+l.length:l.start})},_performColumnMove:function(t,e,i,n){var r=this._moveColumnInHeader(t,e,i,n),o=r[0],s=r[1];this.options.fixedHeaders===!0&&this._moveCols($("#"+this.id()+"_headers>colgroup"),o,s,i),this._renderData(),this._renderFooter(),this._rerenderColgroups()},showColumn:function(t){var e=this;this._loadingIndicator.show(),setTimeout(function(){e._setHidden(t,!1),e._loadingIndicator.hide()},0)},hideColumn:function(t){var e=this;this._loadingIndicator.show(),setTimeout(function(){e._setHidden(t,!0),e._loadingIndicator.hide()},0)},_setHidden:function(t,e){var i,n;"number"==typeof t?(i=this.options.columns[t],n=t):(i=this.columnByKey(t),n=$.inArray(i,this.options.columns)),i&&i.hidden!==e&&this._setHiddenColumns([i],e,!1),null!==this.options.rowTemplate&&(this.options.rowTemplate=this._buildRowTemplateRaw(!0),this._tmpl=null)},_setHiddenColumns:function(t,e,i){var n,r,o,s,a,l,u=!1,h=this,d=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0,c="continuous"!==this.options.virtualizationMode&&(this.options.virtualization===!0&&this.options.width||this.options.columnVirtualization===!0),p=!1;0!==t.length&&(this._fireInternalEvent("_hidingFinishing"),d&&(p="continuous"===this.options.virtualizationMode,h._updateVirtColCounters(),p||($.each(t,function(t,i){var n=h._virtualColumnCount;i.hidden=e,h._visibleColumnsArray=void 0,h._updateVirtColCounters(),h._virtualColumnCount!==n&&(h._virtualColumnCount<n?h._detachColumn(i):h._virtualColumnCount>n&&h._attachColumn(i),u=!0,h._virtualDom=null)}),c&&(this._vheaders=void 0,this._updateVirtualHorizontalScrollbar(),n=$("#"+this.element[0].id+"_horizontalScrollContainer"),this._onVirtualHorizontalScroll()),this._renderVirtualRecords())),d&&!p||($.each(t,function(t,i){i.hidden=e,h._visibleColumnsArray=void 0,i.hidden?h._detachColumn(i):h._attachColumn(i)}),this._cleanupTBody(),u=!0,d?this._renderVirtualRecords():this._renderRecords()),u&&(this._initialized?this._visibleColumns().length>0&&(this._rerenderColgroups(i),this._adjustLastColumnWidth(!0),r=this._visibleColumns().length,o=$.grep(this._visibleColumns(),function(t){return t.width}).length,o===r&&(this.options.width&&parseInt(this.options.width,10)>0?this._updateGridContentWidth():(this._setContainerWidth(this.element[0].id+"_container"),d&&(a=this.element.parents(".ui-widget").css("width"),s=this._calculateContainerWidth(!0),null!==this.options.height&&(s-=this._scrollbarWidth()),$("#"+this.element[0].id+"_displayContainer").css("width",s).css("max-width",s))))):(this._rerenderColgroups(i),this._adjustLastColumnWidth(!0))),this._fireInternalEvent("_hidingFinished"),this.element.trigger("iggriduisoftdirty",{owner:this}),this._trigger(this.events.columnsCollectionModified,null,{owner:this}),u&&d&&this._visibleColumns().length>0&&o===r&&("continuous"===this.options.virtualizationMode&&(s+=this._calculateSpecialColumnsWidth(),$("#"+this.element[0].id+"_displayContainer").css("width",s).css("max-width",s)),$("#"+this.element[0].id+"_virtualContainer>colgroup col").eq(0).attr("width",s),null!==this.options.width&&void 0!==this.options.width||this._setContainerWidth(this.element[0].id+"_headers_v")),this._origWidth=parseInt(this.container().css("width"),10),u&&($.ig.util.isFF||$.ig.util.isIE8)&&(this.options.showHeader&&(l=this.headersTable().children("colgroup").detach(),this.headersTable().prepend(l)),(this.options.fixedHeaders===!0&&null!==this.options.height||this.options.showHeader===!1)&&(l=this.element.children("colgroup").detach(),this.element.prepend(l)),this.options.fixedFooters===!0&&null!==this.options.height&&(l=this.footersTable().children("colgroup").detach(),this.footersTable().prepend(l))))},_calculateSpecialColumnsWidth:function(){var t=0;return this.headersTable().find("> colgroup > col[data-skip=true]").each(function(){var e=this.style.width;e&&(t+=parseInt(e,10))}),t>0&&(this._origSum=t),t},_allSpecialColumnsInPercentage:function(){return this.headersTable().find("> colgroup > col[data-skip=true]").each(function(){if(!this.style.width.endsWith("%"))return!1}),!0},_synchronizeHScroll:function(){var t,e,i=this.options.showHeader&&this.options.fixedHeaders===!0&&null!==this.options.height,n=this.options.showFooter&&this.options.fixedFooters===!0&&null!==this.options.height,r=$("#"+this.element[0].id+"_hscroller"),o=$("#"+this.element[0].id+"_scroll"),s=r.scrollLeft();o.scrollLeft(s),s=o.scrollLeft(),r.scrollLeft(s),i&&(t=$("#"+this.element[0].id+"_headers").parent(),t.scrollLeft(s)),n&&(e=$("#"+this.element[0].id+"_footer_container"),e.scrollLeft(s))},_updateGridContentWidth:function(){var t,e,i=0,n=null!==this.options.height&&this.options.fixedHeaders===!0&&this.options.showHeader&&this._headerParent;$.each(this._visibleColumns(),function(t,e){void 0===i||!e.width||e.width.charAt&&e.width.endsWith("%")?i=void 0:i+=parseInt(e.width,10)}),void 0!==i&&(i+=this._calculateSpecialColumnsWidth(),!n&&this._hasVerticalScrollbar&&(i-=this._scrollbarWidth()),null!==this.options.width&&null!==this.options.height&&(t=$("#"+this.element[0].id+"_hscroller"),e=t.scrollLeft()),this._setGridContentWidth(i),null!==this.options.height&&null!==this.options.width&&this._updateVerticalScrollbarCellPadding(),null!==this.options.width&&null!==this.options.height&&(t.scrollLeft(e),this._synchronizeHScroll()))},_updateVerticalScrollbarCellPadding:function(){var t,e,i=this.options.showHeader&&this.options.fixedHeaders===!0&&null!==this.options.height,n=this.options.showFooter&&this.options.fixedFooters===!0&&null!==this.options.height;null!==this.options.height&&(i||n)&&(t=void 0===this._gridInnerWidth||void 0===this._gridContentWidth?0:this._gridInnerWidth-this._gridContentWidth,e=this._hasVerticalScrollbar?this._scrollbarWidth():0,t>=0&&(e-=t),e<0&&(e=0),i&&this._increaseLastHeaderCellVScrollbarPadding(this.headersTable(),e),n&&this._increaseLastCellVScrollbarPadding(this.footersTable(),"tfoot","td",e),this._increaseLastCellVScrollbarPadding(this.element,"tbody","td",e))},_increaseLastHeaderCellVScrollbarPadding:function(t,e){var i,n=t.children("thead").children("tr").not("[data-skip=true]").children("th:last-child").not("[data-skip=true]"),r=parseInt(n.first().attr("data-vscr-padding-icrement"),10);i=parseInt(n.first().css(this._padding),10),r&&(i-=r),n.css(this._padding,i+e),n.first().attr("data-vscr-padding-icrement",e),n.find("[data-nonpaddedindicator=right]").css(this._rtl?"margin-left":"margin-right",-parseInt(n.css(this._padding),10)+"px")},_increaseLastCellVScrollbarPadding:function(t,e,i,n){var r,o=t.find(" > "+e+" > tr > "+i+":last-child"),s=parseInt(o.first().attr("data-vscr-padding-icrement"),10);r=parseInt(o.first().css("padding-left"),10),s&&(r-=s),o.css(this._padding,r+n),o.first().attr("data-vscr-padding-icrement",n)},_updateHScrollbarVisibility:function(){var t=$("#"+this.element[0].id+"_hscroller_container"),e="none"===t.css("display");t.css("display",""),this._gridInnerWidth<this._gridContentWidth?e&&this.options.autoAdjustHeight&&this._initializeHeights():(t.css("display","none"),e||this.options.autoAdjustHeight&&this._initializeHeights())},_setGridContentWidth:function(t){var e=this.options,i=e.virtualization===!0||e.rowVirtualization===!0||e.columnVirtualization===!0;null!==this.options.height&&(t&&(this._gridContentWidth=t),this._gridContentWidth&&this._getHScrollContainerInner().css("width",this._hasVerticalScrollbar&&this.options.fixedHeaders?this._gridContentWidth-this._scrollbarWidth():this._gridContentWidth),this._updateHScrollbarVisibility()),i===!1&&this._setGridTablesWidth(t)},_setGridTablesWidth:function(t){var e=this.options.showHeader&&this.options.fixedHeaders===!0&&null!==this.options.height,i=this.options.showFooter&&this.options.fixedFooters===!0&&null!==this.options.height;this.element.width(t),e&&this.headersTable().width(t),i&&this.footersTable().width(t)},_detachHiddenColumns:function(){var t,e;for(e=0;e<this.options.columns.length;e++)t=this.options.columns[e],t.hidden&&this._detachColumn(t)},_rerenderColgroups:function(t){var e=null!==this.options.height&&this.options.fixedHeaders===!0&&this.options.showHeader,i=null!==this.options.height&&this.options.fixedFooters===!0&&this.options.showFooter;e&&(this.headersTable().children("colgroup").remove(),this._renderColgroup(this.headersTable()[0],!0,!1,t)),i&&(this.footersTable().children("colgroup").remove(),this._renderColgroup(this.footersTable()[0],!1,!0,t)),this.element.children("colgroup").remove(),this._renderColgroup(this.element[0],!1,!1,t)},_detachColumn:function(t){var e,i,n,r=this._isMultiColumnGrid;t.hidden=!1,this._visibleColumnsArray=void 0,i=this._visibleColumns(),e=$.inArray(t,i),t.hidden=!0,this._visibleColumnsArray=void 0,this._initializeDetachedContainers(),n=this.headersTable().children("thead").children("tr").not("[data-skip=true]"),r?(this._hideMultiHeaderCells(this._headerCells,e,t.key),n=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"),this._detachCells(n,function(t){return t.children("th, td").not("[data-skip=true]")},e,this._detachedHeaderCells,t.key)):this._detachCells(n,function(t){return t.children("th, td").not("[data-skip=true]")},e,this._detachedHeaderCells,t.key),this._detachCells(this.footersTable().children("tfoot").children("tr"),function(t){return t.children("td").not("[data-skip=true]")},e,this._detachedFooterCells,t.key)},_attachColumn:function(t){var e,i=this._visibleColumns(),n=$.inArray(t,i);this._initializeDetachedContainers(),this._isMultiColumnGrid?(this._showMultiHeaderCells(t.key),e=this.headersTable().children("thead").children("tr:not([data-mch-level])").not("[data-skip=true]"),this._attachCells(e,function(t){return t.children("th, td").not("[data-skip=true]")},n,this._detachedHeaderCells,t.key)):this._attachCells(this.headersTable().children("thead").children("tr").not("[data-skip=true]"),function(t){return t.children("th, td").not("[data-skip=true]")},n,this._detachedHeaderCells,t.key),this._attachCells(this.footersTable().children("tfoot").children("tr"),function(t){return t.children("td").not("[data-skip=true]")},n,this._detachedFooterCells,t.key)},_initializeDetachedContainers:function(){this._detachedContainersInitialized||(this._detachedHeaderCells={},this._detachedFooterCells={},this._detachedContainersInitialized=!0)},_getParentsMultiHeader:function(t){var e,i=this._oldCols,n=i.length,r=[];for(e=0;e<n;e++){if(i[e].key===t||i[e].identifier===t){r.push(i[e]);break}if(i[e].group&&this._getParentsMultiHeaderRecursive(t,i[e].group,r)===!0){r.push(i[e]);break}}return r},_getParentsMultiHeaderRecursive:function(t,e,i){var n,r=e,o=e.length,s=!1;for(n=0;n<o;n++){if(r[n].key===t||r[n].identifier===t){i.push(r[n]),s=!0;break}if(r[n].group&&this._getParentsMultiHeaderRecursive(t,r[n].group,i)===!0){i.push(r[n]),s=!0;break}}return s},_hideMultiHeaderCells:function(t,e,i){var n,r,o,s,a,l=this._getParentsMultiHeader(i),u=this.headersTable().find("thead > tr");if(r=t[e],this._headerCells.splice(e,1),r.css("display","none"),this._hiddenColumns[i]=r,l.length>0)for(n=0;n<l.length;n++)o=l[n],0!==o.level&&(a=u.find("th[data-mch-id="+o.identifier+"]"),s=parseInt(a.attr("colspan"),10),s>1?(a.attr("colspan",--s),o.colspan=s):(a.attr("ishidden",1),a.css("display","none"),o.hidden=!0,o.colspan=0))},_detachCells:function(t,e,i,n,r){var o,s,a,l=[];if(t.length>0){for(o=0;o<t.length;o++)s=e(t.eq(o)),a=s.eq(i),1===s.length&&a.after($("<"+a[0].tagName+"></"+a[0].tagName+">").attr("data-hiddenreplacement","true").css("height",a.height()).attr("class",a.attr("class"))),l.push(a.detach());n[r]=l}},_showMultiHeaderCells:function(t){var e,i,n,r,o,s,a,l=this._hiddenColumns[t],u=this._getParentsMultiHeader(t),h=this._headerCells.length,d=this.headersTable().find("thead > tr");if(null!==l&&void 0!==l){for(o=l.data("data-mch-order"),e=0;e<h;e++)if(s=this._headerCells[e].data("data-mch-order"),o<s){this._headerCells.splice(e,0,l);break}if(e===h&&this._headerCells.push(l),l.css("display",""),l.removeAttr("ishidden"),u.length>0)for(e=0;e<u.length;e++)i=u[e],0!==i.level&&(r=d.find("th[data-mch-id="+i.identifier+"]"),a="1"===r.attr("ishidden"),n=parseInt(r.attr("colspan"),10),a?(r.removeAttr("ishidden"),r.css("display",""),i.hidden=!1,i.colspan=1):(r.attr("colspan",++n),i.colspan=n))}},_attachCells:function(t,e,i,n,r){var o,s,a,l,u;if(t.length>0){if(this.options.virtualization===!0||this.options.columnVirtualization===!0){if(o=n[r],null===o||void 0===o)for(u in n)if(n.hasOwnProperty(u)){o=n[u],delete n[u];break}}else o=n[r],delete n[r];if(void 0===o||null===o)return;for(s=0;s<t.length;s++)a=e(t.eq(s)).not("[data-hiddenreplacement=true]"),0===i?0===a.length?(l=t.eq(s).find("[data-hiddenreplacement=true]"),l.after(o[s]),l.remove()):a.eq(0).before(o[s]):a.eq(i-1).after(o[s])}},_cleanupTBody:function(){var t=this.element.children("tbody");return $.ui.igGrid.speedupDOMCleanup===!1?t.empty():t.children().length>0&&(this.element[0].removeChild(t[0]),t=$("<tbody></tbody>").appendTo(this.element).addClass(this.css.baseContentClass).addClass(this.css.gridTableBodyClass).addClass(this.css.recordClass)),t},_captureInitiallyHiddenColumns:function(){this._initialHiddenColumns=$.grep(this.options.columns,function(t,e){var i=t.hidden;return t.hidden=!1,i})},getUnboundValues:function(t){var e;return void 0===t||null===t?this._unboundValues:(e=this._unboundValues[t],void 0!==e&&null!==e||(e=null!==this.getUnboundColumnByKey(t)?[]:null),e)},setUnboundValues:function(t,e){this._setRenderUndobundValues(e,t)},_setRenderUndobundValues:function(t,e,i){var n,r,o,s,a=this.dataSource.data(),l=a.length,u=t.length,h=!1,d="string",c=this.options.primaryKey;if(0!==u&&(r=this.getUnboundColumnByKey(e),null!==r)){for(this.dataSource&&this.dataSource.schema&&r.dataType&&(d=r.dataType,h=!0,o=this.dataSource.schema()),void 0===c&&(c=null),n=0;n<u&&(void 0!==a[n]&&null!==a[n]);n++)h&&(s=null===c?n:a[n][c],t[n]=o._convertType(d,t[n],s,e)),a[n][e]=t[n],this._addUnboundColumnValue(e,t[n],n);if(("bool"===d||"boolean"===d)&&u<l)for(n=u;n<l;n++)a[n][e]=o._convertType(d,null,s,e);this.options.virtualization!==!0&&this.options.rowVirtualization!==!0||this._scrollTo(0),i!==!0&&this._renderColumnData(e,this.dataSource.dataView())}},getUnboundColumnByKey:function(t){if(void 0===this._unboundColumns||null===this._unboundColumns||0===this._unboundColumns.length||null===t||void 0===t)return null;var e=null;return $.each(this._unboundColumns,function(i,n){if(n.key===t)return e=n,!1}),e},_renderColumnData:function(t,e){if(0!==e.length){var i,n,r,o,s,a=this._visibleColumns(),l=this,u=!1,h=l.options.rowTemplate&&l.options.rowTemplate.length>0;n=this._getVisibleIndexByKey(t),o=a[n],void 0!==o&&null!==o&&(u="bool"===o.dataType,h&&(s=this.dataSource.dataView()),i=n+this.headersTable().find(">thead>tr:eq(0)>th[data-skip=true]").length,r=this.element.find(">tbody> tr > td:not([data-skip]):nth-child("+(i+1)+")"),$.each(e,function(e,i){var n;return void 0===i[t]||(h?n=l._renderTemplatedCell(s[e],o).substring(1):(n=l._renderCell(i[t],o,i),u===!0&&(n=n.toString())),!!r[e]&&void $(r[e]).html(n))}))}},_renderData:function(success,errmsg){this._isDataBoundCalled===!0&&void 0===success&&void 0===success||(this._trigger(this.events.dataBound,null,{owner:this}),this._isDataBoundCalled=!1);var gridElement=this.element,self=this,noCancel=!0,sum=0,cols,colsToUnbound,colsLength,data,key,j,i,diff=0,isTable=!1,noCancelError=!0,isRemoteDS="remote"===this._inferOpType(),ucFormulaFunction,tbody,newW,displayCont;if((this.options.requiresDataBinding===!0||this._isToSetUnboundColumns===!0||isRemoteDS)&&this._hasUnboundColumns){for(this._isToSetUnboundColumns=!1,null!==this._hasInitialUnboundValues&&void 0!==this._hasInitialUnboundValues||(this._hasInitialUnboundValues={}),cols=this.options.columns,colsLength=cols.length,data=this.dataSource.data(),ucFormulaFunction=function(ind,val){"function"===$.type(cols[i].formula)?val[key]=cols[i].formula(val,gridElement):val[key]=eval(cols[i].formula+"(val, gridElement)"),self._addUnboundColumnValue(key,val[key],ind)},colsToUnbound=[],isRemoteDS&&(this._unboundValues={}),i=0;i<colsLength;i++)cols[i].unbound===!0&&(key=cols[i].key,null!==cols[i].unboundValues&&void 0!==cols[i].unboundValues&&"array"===$.type(cols[i].unboundValues)?(this._rebindUnboundColumns===!0||cols[i].unboundValues.length>0&&void 0===this._hasInitialUnboundValues[key])&&(this._hasInitialUnboundValues[key]=!0,this._setRenderUndobundValues(cols[i].unboundValues,key,!0)):null!==cols[i].formula&&void 0!==cols[i].formula?$.each(data,ucFormulaFunction):this._unboundValues[key]&&this._unboundValues[key].length>0&&colsToUnbound.push(key));if(this.options.localSchemaTransform===!0&&colsToUnbound.length>0&&data.length>0)for(i=0;i<colsToUnbound.length;i++)key=colsToUnbound[i],void 0===data[0][key]&&this.setUnboundValues(key,this._unboundValues[key]);this.options.mergeUnboundColumns===!1&&this._mergeUnboundValues()}if(success===!1&&(noCancelError=this._trigger(this.events.requestError,null,{owner:this,message:errmsg})))throw new Error(errmsg);if(this._cancelRendering===!0)return void(this._cancelRendering=!1);if(this.element.trigger("iggriduisoftdirty",{owner:this}),!this._initialized&&this.options.autoGenerateColumns===!0)for(this._generateColumns(),i=0;i<this.options.features.length;i++)this._initFeature(this.options.features[i],this._dataOptions);if(tbody=gridElement.children("tbody"),noCancel=this._trigger(this.events.dataRendering,null,{owner:this,tbody:tbody})){if(this.options.dataSource&&this.options.dataSource.tagName&&$(this.options.dataSource).is("table")?isTable=!0:tbody=this._cleanupTBody(),this._virtualDom=null,this._initialized||(this.options.autoGenerateColumns===!0&&(this._captureInitiallyHiddenColumns(),this._visibleColumnsArray=void 0,this._updateVirtColCounters()),isTable&&tbody.empty(),this._renderHeaderCalled!==!0?(this._renderHeader(),this._renderCaption()):null!==this.options.width&&null===this.options.height&&this.scrollContainer().css("overflow-y","hidden").css("overflow-x","auto"),0!==this.element.find("colgroup").length&&0!==this.element.find("colgroup").children().length||this._renderColgroup(this.element[0],!1,!1,this.options.autofitLastColumn),this._renderFooter()),this._trigger("dataEmpty",null,{owner:this,tbody:tbody}),this.options.autoGenerateColumns===!1&&(this.options.columns&&0===this.options.columns.length||!this.options.columns))throw new Error($.ig.Grid.locale.noColumnsButAutoGenerateTrue);this._hasColumnTemplates()&&null===this.options.rowTemplate&&(this.options.rowTemplate=this._buildRowTemplateRaw()),void 0!==this._initialHiddenColumns&&0!==this._initialHiddenColumns.length||this.options.columns.length>0&&(this.options.virtualization===!0||this.options.rowVirtualization===!0||this.options.columnVirtualization===!0?this._renderVirtualRecords():this._renderRecords(),this._initialized?(this._adjustLastColumnWidth(!1),null!==this.options.width&&null!==this.options.height&&this._synchronizeHScroll()):(null!==this.options.height&&this.options.autoAdjustHeight&&this._initializeHeights(),this._adjustLastColumnWidth(!0))),this._initialized||this.options.autoAdjustHeight&&this._initializeHeights(),void 0!==this._initialHiddenColumns&&this._initialHiddenColumns.length>0&&(this._setHiddenColumns(this._initialHiddenColumns,!0,!0),void 0!==this._initialHiddenCells&&this._initialHiddenCells.length>0&&$.each(this._initialHiddenCells,function(t,e){e.css("display","")}),$.each(this._initialHiddenColumns,function(t,e){e._initiallyHidden=!0}),this._initialHiddenCells=void 0,this._initialHiddenColumns=void 0),null!==this.options.rowTemplate&&this._hasOptionsRowTemplate===!1&&(this.options.rowTemplate=this._buildRowTemplateRaw(!0),this._tmpl=null),this._registerAdditionalEvents(),this._trigger(this.events.dataRendered,null,{owner:this}),this._fireInternalEvent("_dataRendered"),void 0===this._loadingIndicator&&this._initLoadingIndicator(),this._loadingIndicator.hide()}if(this._fixScrollY&&this.scrollContainer().css("overflow-y",this.rows().length>1?"hidden":"visible"),null===this.options.width&&this.container()[0]&&this.container()[0].style.width){if(cols=this.element.find("colgroup > col[data-skip]"),cols.length>0)for(j=0;j<cols.length;j++)sum+=parseInt(cols[j].style.width,10);this._origSum||(this._origSum=0),diff=sum-this._origSum,diff<0&&(diff=0),newW=parseInt(this.container()[0].style.width,10)+diff,this.container().css("width",newW),displayCont=$("#"+this.id()+"_displayContainer"),displayCont.length>0&&(displayCont.css("width",newW-this._scrollbarWidth()).css("max-width",newW-this._scrollbarWidth()),$("#"+this.id()+"_headers_v").css("width",newW),$("#"+this.id()+"_footer_container").css("width",newW)),this._origSum=sum}null!==this.options.dataSourceUrl&&this._firstBind&&(this.options.dataSource=this.options.dataSourceUrl,this.dataSource.settings.dataSource=this.options.dataSourceUrl,this.dataSource.settings.type="remoteUrl",this.dataSource._runtimeType=this.dataSource.analyzeDataSource(),this._firstBind=!1),this._initialized||(this._trigger(this.events.rendered,null,{owner:this}),this._hc=this.container().find(".ui-iggrid-expandheadercell").length>0,this._initialized=!0,(7===document.documentMode||$.ig.util.isIE7)&&$.each($("#"+this.element[0].id+"_container colgroup col"),function(){var t=$(this),e=parseInt(this.style.width,10),i=t.outerWidth();e&&e<i&&t.width(2*e-i)})),this._fireInternalEvent("_gridRendered",$("#"+gridElement[0].id+"_container"))},_hasColumnTemplates:function(){var t,e,i=!1;for(t=0;t<this.options.columns.length;t++)if(e=this.options.columns[t].template,null!==e&&void 0!==e&&""!==e&&e.length>0){i=!0;break}return i},_gridHasWidthInPixels:function(){return("string"!=typeof this.options.width||this.options.width.indexOf("%")===-1)&&parseInt(this.options.width,10)>0},_gridHasWidthInPercent:function(){return"string"==typeof this.options.width&&this.options.width.indexOf("%")!==-1},_adjustLastColumnWidth:function(t){var e,i,n=this,r=null!==this.options.height&&this.options.fixedHeaders===!0&&this.options.showHeader&&this._headerParent,o=null!==this.options.height&&this.options.fixedFooters===!0&&this.options.showFooter&&this._footerParent,s=this.options.height&&parseInt(this.options.height,10)>0,a=this._gridHasWidthInPixels(),l=this._gridHasWidthInPercent(),u=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0;s&&!u&&(this.options.autoAdjustHeight&&this.element.height()<=$("#"+this.element[0].id+"_scroll").height()||!this.options.autoAdjustHeight&&this.options.avgRowHeight*this.element[0].rows.length<parseInt(this.options.height,10)?this._hasVerticalScrollbar=!1:this._hasVerticalScrollbar=!0),t?(u&&(r&&this._headerParent.css(this._padding,this._scrollbarWidth()),o&&this._footerParent.css(this._padding,this._scrollbarWidth())),(a||l)&&(this._allColumnWidthsInPixels?(e=this._totalColPixelWidth,i=this._calculateSpecialColumnsWidth(),i>0&&(this._autoadjustedColumn&&this._lastColPixelWidth?(this._autoadjustedColumn.difference<i?(this._lastColPixelWidth-=this._autoadjustedColumn.difference,e-=this._autoadjustedColumn.difference-i):this._lastColPixelWidth-=i,this._autoadjustedColumn.width=this._lastColPixelWidth,r&&this._lastHeaderCol.css("width",this._lastColPixelWidth+"px"),o&&this._lastFooterCol.css("width",this._lastColPixelWidth+"px"),this._lastDataCol.css("width",this._lastColPixelWidth+"px")):e+=i),!r&&this._gridWidthGTColWidth&&this._hasVerticalScrollbar&&(e-=this._scrollbarWidth(),this._lastColPixelWidth-=this._scrollbarWidth(),this._lastDataCol.css("width",this._lastColPixelWidth+"px"))):this._allColumnWidthsInPercentage?(e=this.container().width(),i=this._calculateSpecialColumnsWidth(),this._allSpecialColumnsInPercentage()===!0&&i>0&&(this._lastColPercentWidth=this._lastColPercentWidth-i),this._lastDataCol.css("width",this._lastColPercentWidth+"%"),r&&this._lastHeaderCol.css("width",this._lastColPercentWidth+"%"),o&&this._lastFooterCol.css("width",this._lastColPercentWidth+"%")):a?e=parseInt(n.options.width,10):l&&(e=this.container().width()),this._allColumnWidthsInPercentage&&l||(u===!1?this._gridInnerWidth=this.scrollContainer().width():this._gridInnerWidth=$("#"+this.element[0].id+"_displayContainer").width()+this._scrollbarWidth(),this._setGridContentWidth(e)))):this._setGridContentWidth(),s&&!u&&(null!==this.options.width&&null!==this.options.height&&(this._hasVerticalScrollbar?$.ig.util.isFF?$("#"+this.element[0].id+"_hscroller").css("overflow-y","hidden"):$("#"+this.element[0].id+"_hscroller").css("overflow-y","scroll"):$("#"+this.element[0].id+"_hscroller").css("overflow-y","hidden")),this._allColumnWidthsInPercentage&&l||!a&&!l?this._hasVerticalScrollbar?(r&&this._headerParent.css(this._padding,this._scrollbarWidth()),o&&this._footerParent.css(this._padding,this._scrollbarWidth())):(r&&this._headerParent.css(this._padding,""),o&&this._footerParent.css(this._padding,"")):this._updateVerticalScrollbarCellPadding())},_initializeHeights:function(){var t,e;null!==this.options.height&&void 0!==this.options.height&&(t=parseInt(this.options.height,10),this.hasFixedColumns()&&(this.options.showHeader&&this.options.fixedHeaders===!0&&null!==this.options.height&&(t-=$("#"+this.element[0].id+"_headers_fixed").height()),e=$("#"+this.element[0].id+"_hscroller_container").height(),$("#"+this.element[0].id+"_fixedBodyContainer").height()<t+e&&(t-=e)),this.options.height.indexOf&&this.options.height.indexOf("%")!==-1?$("#"+this.element[0].id+"_scroll").height("100%"):$("#"+this.element[0].id+"_scroll").height(t),this._initializeHeightsInternal())},_initializeHeightsInternal:function(){var t,e,i,n,r,o=!1,s=$("#"+this.id()+"_displayContainer"),a=$("#"+this.id()+"_scrollContainer");if(r=this.container().height(),this._prevContainerHeight=r,null!==this.options.height){for(t=this.container().children(),e=0,i=0;i<t.length;i++)n=$(t[i]),(void 0===n.attr("id")||n.attr("id").endsWith("_scroll")||n.attr("data-fixed-container")||n.attr("id").endsWith("_virtualContainer")||n.attr("id").endsWith("_loading"))&&n.attr("id")||!n.is(":visible")||"1"===n.data("efh")||(e+=n.is("table")&&n.children().first().is("caption")?n.children().first().outerHeight():n.outerHeight());e>0&&($("#"+this.element[0].id+"_scroll").height(r-e),o=!0),(this.options.virtualization||this.options.rowVirtualization)&&(("string"===$.type(this.options.height)&&this.options.height.indexOf("%")!==-1||r!==parseInt(this.options.height,10))&&(this.container().height(this.options.height),"string"===$.type(this.options.height)&&this.options.height.indexOf("%")!==-1&&(r=parseInt(this.container().height(),10))),e+=$("#"+this.id()+"_headers_v").outerHeight(),e+=$("#"+this.id()+"_footers_v").outerHeight(),this._virtualHeightReset||(e*=2,this._virtualHeightReset=!0),e>0&&s.height()!==r-e&&(s.height(r-e),a.height(r-e),$("#"+this.id()).height(r-e),this._virtualDom=null,o=!0)),o&&this._trigger("_heightChanged",null,{})}},_registerAdditionalEvents:function(){var t="ui-state-hover",e=this.element.closest(".ui-iggrid-root").data("igGrid");void 0!==e&&null!==e||(e=this),$("#"+this.element[0].id+" th.ui-state-default").hover(function(){e._cancelHoveringEffects||$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.options.enableHoverStyles&&this.element.bind(this._hovEvts={mousemove:function(i){for(var n,r,o=i.target;o&&(n=o.parentNode,"TR"!==(r=o.nodeName)||"TBODY"!==n.nodeName);)o="TABLE"===r?null:n;_hovTR!==o&&(_hovTR&&"true"!==$(_hovTR).attr("data-container")&&$("td",_hovTR).removeClass(t),o&&"true"!==$(o).attr("data-container")&&i.target.id.indexOf("_scrollContainer")===-1&&i.target.parentNode.id.indexOf("_scrollContainer")===-1&&(e._cancelHoveringEffects||$("td",o).addClass(t)),_hovTR=o)},mouseleave:function(e){_hovTR&&($("td",_hovTR).removeClass(t),_hovTR=null)}})},_renderColgroup:function(t,e,i,n){var r,o,s,a,l,u,h,d,c=this._visibleColumns(),p=this.options.defaultColumnWidth,f=0,g=this._gridHasWidthInPixels(),m=this._gridHasWidthInPercent(),v=g||m,_=this.options.virtualization===!0||this.options.columnVirtualization===!0||this.options.rowVirtualization===!0,y=this.options.virtualization===!0&&"fixed"===this.options.virtualizationMode||this.options.columnVirtualization===!0,b=!1,w=!0;for(r=$(t).find("colgroup"),0===r.length&&(r=$("<colgroup></colgroup>").prependTo(t)),(_&&"fixed"===this.options.virtualizationMode||y)&&(this._updateVirtColCounters(),c=c.slice(0,this._virtualColumnCount)),o=0;o<c.length;o++)c[o].width?a=c[o].width:(a=p,c[o].width=p),a?(a.charAt&&a.endsWith("%")||(w=!1),l=parseInt(a,10),l<=0&&(l=void 0)):(l=void 0,w=!1),l?(u=$("<col></col>").appendTo(r).css("width",a),h=l,f+=l):(u=$("<col></col>").appendTo(r),h=void 0,b=!0);!y&&n&&v&&!b&&h?w?f<100&&(h+=100-f,u.css("width",h+"%"),this._autoadjustedColumn=c.slice(-1)[0],this._autoadjustedColumn.width=h+"%"):(g?s=parseInt(this.options.width,10):m&&(s=this.container().width()),s&&s>f&&(d=s-f,h+=d,f+=d,u.css("width",h+"px"),this._autoadjustedColumn=c.slice(-1)[0],this._autoadjustedColumn.width=h+"px",this._autoadjustedColumn.difference=d,this._gridWidthGTColWidth=!0)):this._autoadjustedColumn=void 0,v&&_&&!b&&h&&(w||(h-=this._scrollbarWidth(),u.css("width",h+"px"))),e&&(this._lastHeaderCol=u),i&&(this._lastFooterCol=u),e||i||(this._lastDataCol=u),this._allColumnWidthsInPercentage=w&&!b&&c.length>0,this._allColumnWidthsInPixels=!w&&!b&&c.length>0,this._allColumnWidthsInPixels?(this._lastColPixelWidth=h,this._totalColPixelWidth=f):this._allColumnWidthsInPercentage?(this._lastColPercentWidth=h,this._totalColPixelWidth=void 0):(this._lastColPixelWidth=void 0,this._totalColPixelWidth=void 0)},_buildRowTemplateRaw:function(t){var e,i="<tr>",n=this.options.columns;for(e=0;e<n.length;e++)i+=n[e].template?"<td>"+n[e].template+"</td>":"<td>{{html "+n[e].key+"}}</td>";return i+="</tr>"},_generateRowTemplate:function(){var t,e,i,n,r,o,s=this.options.autoFormat,a=this.options.accessibilityRendering,l=null,u=this,h=u.options.rowTemplate,d=u.options.columns,c='data-id="${ig_pk}"';if(this.options.virtualization&&"continuous"===this.options.virtualizationMode&&(c+=' data-row-idx="${ig_abs_idx}"'),this._tmpl)return this._tmpl;if(u.dataSource.dataView().length>0&&(l=u.dataSource.dataView()[0]),h)for(n=h.indexOf("<tr"),
n>=0&&h.indexOf(".ig_pk")<0&&(h=h.substring(0,n+3)+" "+c+h.substring(n+3)),n=0;n<d.length;n++)t=d[n].key,d[n].formatter?i="${$item."+t+"Formatter(this.data ? this.data."+t+" : undefined)}":(i=d[n].format,e=d[n].dataType,e="date"===e||"number"===e?e:"",(i||(s===!0||"dateandnumber"===s)&&e||s&&s===e)&&(i="${"+t+"}")),i&&(h=h.replace(new RegExp("\\$ *\\{ *"+t+" *\\}","g"),i));else{if(h=a?'<tr role="row" ':"<tr ",h+=c,h+=this.options.alternateRowStyles?"class=\"{{if $i % 2 === 0}}''{{else}}"+this.css.recordAltClass+'{{/if}}">':">",d.length>0)if(null===l||l.hasOwnProperty(d[0].key)&&"array"!==$.type(l))for(n=0;n<d.length;n++)t=d[n].key,h+=a?'<td role=gridcell aria-describedby="'+t+'">':"<td>",void 0!==d[n].formatter?h+="${$item."+t+"Formatter(this.data ? this.data."+t+" : undefined)}</td>":(i=d[n].format,e=d[n].dataType,e="date"===e||"number"===e?e:"",h+=i||(s===!0||"dateandnumber"===s)&&e||s&&s===e?"${"+t+"}</td>":"bool"===e?"${"+t+"}</td>":"${"+t+"}</td>");else h+="{{each $data}}",h+=a?'<td role="gridcell">${this}</td>':"<td>${this}</td>",h+="{{/each}}";else{if(!(u.dataSource.dataView().length>0))throw new Error($.ig.DataSourceLocale.locale.cannotBuildTemplate);for(r in l)l.hasOwnProperty(r)&&(h+=a?'<td role="gridcell">${'+r+"}</td>":"<td>${"+r+"}</td>")}h+="</tr>"}return o=this.element[0].id+"rowTemplate",this._tmpl=h,h},_renderFixedRecords:function(t,e,i,n){var r,o,s,a,l=this,u=this.dataSource.dataView(),h="",d=!0;if(void 0===e&&(e=0,i=u.length-1),void 0!==e&&void 0===i&&(i=e,i>u.length-1&&(i=u.length-1),e=0),e<0&&(e=0),i>u.length-1&&(i=u.length-1),d){if(!l.options.rowTemplate||l.options.rowTemplate.length<=0)for(a=e;a<=i;a++)h+=l._renderFixedRecord(u[a],a,n);else if(u.length>0){for(o=this._generateRowTemplate(),o.lastIndexOf("ui-iggrid-rowselector-class")>-1&&(s=!0),a=e;a<=i;a++)r=_aNull(this.options.primaryKey)?u[a].ig_pk:this._kval_from_key(this.options.primaryKey,u[a]),u[a].ig_pk=_aNull(r)?a:r,this.options.virtualization&&"continuous"===this.options.virtualizationMode&&(u[a].ig_abs_idx=a),s&&(u[a].ig_rs_idx=$.ig.rowNumberingFunctionDelegate(u[a].ig_pk)),h+=l._renderFixedRecord(u[a],a,n);if(s)for(a=0;a<u.length;a++)u[a].ig_rs_idx=null}t.find("tbody").html(h)}},_renderFixedRecord:function(t,e,i){var n,r,o=this.options.primaryKey,s=this.options.accessibilityRendering,a=this,l="",u=this._fixedColumns;if(l+="<tr",e%2!==0&&this.options.alternateRowStyles&&(l+=' class="'+a.css.recordAltClass+'"'),_aNull(o)?_aNull(t.ig_pk)||(l+=' data-id="'+t.ig_pk+'"'):l+=' data-id="'+this._kval_from_key(o,t)+'"',this.options.virtualization&&"continuous"===this.options.virtualizationMode&&(l+=' data-row-idx="'+e+'"'),l+=s?' role="row">':">",i===!0)return l+="</tr>";if(u.length>0)r=!0,$(u).each(function(e){if(!u[e].hidden&&u[e].fixed===!0){var i="";r=!1,l+=s?'<td role="gridcell" aria-describedby="'+this.key+'"':"<td",l+=i,void 0===t[this.key]?(a.options.rowTemplate&&a.options.rowTemplate.length>0?(l+=" ",l+=a._renderTemplatedCell(t,this)):(l+=">",l+=a._renderCell(t[e],this)),l+="</td>"):(a.options.rowTemplate&&a.options.rowTemplate.length>0?(l+=" ",l+=a._renderTemplatedCell(t,this)):(l+=">",l+=a._renderCell(t[this.key],this)),l+="</td>")}}),r&&(l+='<td role="gridcell"></td>');else if("array"===$.type(t))for(n=0;n<t.length;n++)s?l+='<td role="gridcell">'+t[n]+"</td>":(l+="<td>",l+=t[n],l+="</td>");else for(o in t)t.hasOwnProperty(o)&&(s?l+='<td role="gridcell" aria-describedby="'+o+'">'+t[o]+"</td>":(l+="<td>",l+=t[o],l+="</td>"));return l+="</tr>"},_syncFixedHeights:function(t,e){var i,n,r=[];i=t.find("tr"),n=e.find("tr"),n.map(function(t){var e=this.offsetHeight,n=i[t].offsetHeight;e<n&&(e=n),r.push(e)}),$.each(r,function(t,e){var r=e+"px";i[t].style.height=r,n[t].style.height=r})},_renderRecords:function(t,e){var i,n=this.hasFixedColumns();this._renderUnfixedRecords(t,e),n&&(i=$("#"+this.element[0].id+"_fixed"),this._renderFixedRecords(i,t,e),this._syncFixedHeights(i,$("#"+this.element[0].id)))},_renderUnfixedRecords:function(t,e){var i,n,r,o,s,a,l=this,u=this.element.children("tbody"),h=this.dataSource.dataView(),d="",c=!0;if(this._trigger("_rowsRendering",null,{owner:this,tbody:u,vrtWnd:{start:t,end:e}}),c=this._trigger(this.events.rowsRendering,null,{owner:this,tbody:u,vrtWnd:{start:t,end:e}}),void 0===t&&(t=0,e=h.length-1),void 0!==t&&void 0===e&&(e=t,e>h.length-1&&(e=h.length-1),t=0),t<0&&(t=0),e>h.length-1&&(e=h.length-1),c){if(!l.options.rowTemplate||l.options.rowTemplate.length<=0){for(s=t;s<=e;s++)d+=l._renderRecord(h[s],s);!this._canreplaceinner||$.ig.util.isWebKit?(r=document.createElement("div"),r.innerHTML="<table><tbody>"+d+"</tbody></table>",a=r.firstChild.firstChild,this.element[0].replaceChild(a,u[0])):this._canreplaceinner&&MSApp.execUnsafeLocalFunction(function(){u[0].innerHTML=d}),d=""}else if(h.length>0){for(n=this._generateRowTemplate(),n.lastIndexOf("ui-iggrid-rowselector-class")>-1&&(o=!0),s=t;s<=e;s++)i=_aNull(this.options.primaryKey)?h[s].ig_pk:this._kval_from_key(this.options.primaryKey,h[s]),h[s].ig_pk=_aNull(i)?s:i,this.options.virtualization&&"continuous"===this.options.virtualizationMode&&(h[s].ig_abs_idx=s),o&&(h[s].ig_rs_idx=$.ig.rowNumberingFunctionDelegate(h[s].ig_pk)),d+=l._renderRecord(h[s],s);if(u.html(d),d="",o)for(s=0;s<h.length;s++)h[s].ig_rs_idx=null}this._buildVirtualDomForContinuousVirtualization(),this._trigger(this.events.rowsRendered,null,{owner:this,tbody:u})}},_buildFormatters:function(){var i,cols=this.options.columns,ret={};for(i=0;i<cols.length;i++)void 0!==cols[i].formatter&&("function"===$.type(cols[i].formatter)?ret[cols[i].key+"Formatter"]=cols[i].formatter:ret[cols[i].key+"Formatter"]=eval(cols[i].formatter));return ret},_getVisibleIndexByKey:function(t){var e=this._visibleColumns(),i=-1;return $.each(e,function(e,n){if(n.key===t)return i=e,!1}),i},_visibleColumns:function(){return void 0===this._visibleColumnsArray&&(this._visibleColumnsArray=$.grep(this.options.columns,function(t){return!t.hidden})),this._visibleColumnsArray},_renderVirtualRecordsFixed:function(){var t,e,i,n,r,o,s,a,l,u,h,d=this.dataSource,c=d.dataView(),p=this.options.primaryKey,f=this._visibleColumns();if(this._trigger("virtualrendering"),void 0!==this._startRowIndex&&null!==this._startRowIndex||(this._startRowIndex=0),void 0!==this._startColIndex&&null!==this._startColIndex||(this._startColIndex=0),null===this._virtualDom||void 0===this._virtualDom)this._buildVirtualDom(),this.options.adjustVirtualHeights===!0&&this._adjustVirtualHeights();else for(t=0;t<this._virtualRowCount&&t<this._totalRowCount&&this._startRowIndex+t<c.length;t++){if(!this.options.rowTemplate||this.options.rowTemplate.length<=0)for(e=0;e<this._virtualColumnCount;e++)this.options.columns.length>0?(o=c[this._startRowIndex+t][f[this._startColIndex+e].key],this._virtualDom[t][e].innerHTML=this._renderCell(o,f[this._startColIndex+e],c[this._startRowIndex+t])):(o=c[this._startRowIndex+t][this._startColIndex+e],this._virtualDom[t][e].innerHTML=c[this._startRowIndex+t][this._startColIndex+e]),this._virtualDom[t][e].className="";else for(i=this._generateRowTemplate(),n=$("array"===$.type(c[t])?this._renderRecord([c[this._startRowIndex+t]],t):this._renderRecord(c[this._startRowIndex+t],t)),r=n.children(),e=0;e<this._virtualColumnCount;e++)this._virtualDom[t][e].innerHTML=r[e+this._startColIndex].innerHTML,this._virtualDom[t][e].className="";u=this._startRowIndex+t,h=this._virtualDom[t][0].parentNode,h.className=t%2===0&&this.options.alternateRowStyles?"ui-iggrid-virtualrow ui-ig-altrecord":"ui-iggrid-virtualrow",c[u]&&(_aNull(p)?_aNull(c[u].ig_pk)||h.setAttribute("data-id",c[u].ig_pk):h.setAttribute("data-id",this._kval_from_key(p,c[u])))}if(this._isHorizontal&&(this._isHorizontal=!1,(this.options.virtualization===!0||this.options.columnVirtualization===!0)&&parseInt(this.options.width,10)>0))for(this._vheaders||(s=this.headersTable().find("thead > tr > th > a > span:first-child"),s.length>0?this._vheaders=s:this._vheaders=this.headersTable().find("thead > tr > th > span")),e=0;e<this._virtualColumnCount;e++)a=f[e+this._startColIndex].headerText,l=$(this._vheaders[e]),l.parent().attr("id",this.element[0].id+"_"+a),l.html(a);this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom})},_updateVirtColCounters:function(){var t=this._visibleColumns().length;this.options.columns?(this._totalColumnCount=t,this._maxVirtualColumnCount=this.options.columns.length):(this._totalColumnCount=this.dataSource.dataView()[0].length,this._maxVirtualColumnCount=this._totalColumnCount),this.options.columnVirtualization===!1&&this.options.virtualization===!1?this._virtualColumnCount=t:null===this.options.width?this._virtualColumnCount=this._totalColumnCount:(this._virtualColumnCount=Math.ceil(parseInt(this.options.width,10)/this._avgColumnWidth()),this._maxVirtualColumnCount=Math.min(this._maxVirtualColumnCount,this._virtualColumnCount),this._virtualColumnCount=Math.min(this._totalColumnCount,this._virtualColumnCount),$("#"+this.id()+"_horizontalScrollContainer").children().first().css("width",this._calculateContainerWidth(!1)))},_buildVirtualDom:function(){var t,e,i,n,r=this,o="",s=this.options.accessibilityRendering,a=!1,l=this._visibleColumns(),u=this.options.primaryKey,h=this.dataSource.dataView();for(void 0!==this._startRowIndex&&null!==this._startRowIndex||(this._startRowIndex=0,this._startColIndex=0,this._oldStartRowIndex=0,this._oldStartColIndex=0),this._virtualDom=[],this._totalRowCount=h.length,null===this.options.height?this._virtualRowCount=this._totalRowCount:this.options.height.indexOf&&this.options.height.indexOf("%")!==-1?this._virtualRowCount=Math.ceil($("#"+this.id()+"_displayContainer").innerHeight()/parseInt(this.options.avgRowHeight,10),10):this._virtualRowCount=Math.ceil(parseInt(this.options.height,10)/parseInt(this.options.avgRowHeight,10),10),this._updateVirtColCounters(),null!==this.options.height&&$("#"+this.element[0].id+"_scrollContainer").children().first().height(this._totalRowCount*parseInt(this.options.avgRowHeight,10)),n=function(t,e,i){var n;for(n=0;n<i;n++)n<r._totalColumnCount&&(r._virtualDom[e][n]=t[0].cells[n])},this.element.children("tbody").empty(),e=0;e<this._virtualRowCount;e++){for(a=!1,this._virtualDom[e]=[],o="",i=this._startColIndex;i<this._virtualColumnCount+this._startColIndex&&!(i>=this._totalColumnCount);i++)o+=s?'<td role="gridcell" ':"<td ",this.options.columns.length>0?(s&&(o+='aria-describedby="'+l[i].key+'"'),h[e]?o+=this.options.autoFormat!==!1?this.options.rowTemplate&&this.options.rowTemplate.length>0?this._renderTemplatedCell(h[e],l[i])+"</td>":">"+this._renderCell(h[e][l[i].key],l[i],h[e])+"</td>":">"+h[e][l[i].key]+"</td>":(a=!0,o+="></td>")):h[e]?o+=h[e][i]+"</td>":(a=!0,o+="></td>");if(t=$("<tr>"+o+"</tr>").appendTo(this.element.children("tbody")),a&&t.css("visibility","hidden"),e%2===0&&this.options.alternateRowStyles&&t.addClass("ui-ig-altrecord"),t.addClass("ui-iggrid-virtualrow"),e%2===0&&this.options.alternateRowStyles&&t.addClass("ui-ig-altrecord"),s&&t.attr("role","row"),h[e]&&(_aNull(u)?_aNull(h[e].ig_pk)||t.attr("data-id",h[e].ig_pk):t.attr("data-id",this._kval_from_key(u,h[e]))),n(t,e,this._virtualColumnCount),e===h.length-1)break}this._trigger("virtualdombuilt",null,{rows:this.element.children("tbody").children("tr")})},_adjustVirtualHeights:function(){var t=$("#"+this.element[0].id+"_displayContainer"),e=t.find("tbody"),i=e.children().first().height();null!==this.options.height&&this.options.avgRowHeight!==i&&(this.options.avgRowHeight=i,this._buildVirtualDom())},_verticalScroller:function(){return this._verticalScrollerObj||(this._verticalScrollerObj=$("#"+this.element[0].id+"_scrollContainer").children().first()),this._verticalScrollerObj},_avgColumnWidth:function(){var t,e=0,i=this.options.columns,n=i.length,r=this.options.defaultColumnWidth;if(null!==this.options.avgColumnWidth)return parseInt(this.options.avgColumnWidth,10);for(t=0;t<n;t++)e+=parseInt(i[t].width,10);if((0===n||isNaN(e))&&r)return parseInt(r,10);if(n>0&&this.options.autoGenerateColumns&&isNaN(e)){if(null===this.options.width||void 0===this.options.width)throw new Error($.ig.DataSourceLocale.locale.columnVirtualizationRequiresWidth);return parseInt(this.options.width,10)/n}return 0===e||e<r?r:e/n},_scrollData:function(){var t,e=$("#"+this.element[0].id+"_hscroller");t=$(this.options.virtualization===!0||this.options.rowVirtualization===!0?"#"+this.element[0].id+"_displayContainer":"#"+this.element[0].id+"_scroll"),t.scrollLeft(e.scrollLeft())},_scrollHeader:function(){var t=$("#"+this.element[0].id+"_hscroller"),e=$("#"+this.element[0].id+"_headers").parent();e.scrollLeft(t.scrollLeft())},_scrollFooter:function(){var t=$("#"+this.element[0].id+"_hscroller"),e=$("#"+this.element[0].id+"_footer_container");e.scrollLeft(t.scrollLeft())},_renderCaption:function(){var t,e;if(null!==this.options.caption){if(this.container().find(".ui-iggrid-headercaption").length>0)return;this.options.fixedHeaders===!0&&this.options.showHeader===!0?(t=this.headersTable().children("colgroup").first(),e=0===t.length?$("<caption></caption>").prependTo(this.headersTable()):$("<caption></caption>").insertAfter(t),e.text(this.options.caption).attr("id",this.element[0].id+"_caption").addClass(this.css.gridHeaderCaptionClass)):e=$("<caption></caption>").appendTo($("<table></table>").prependTo(this.container()).css("width","100%").addClass(this.css.captionTable)).text(this.options.caption).attr("id",this.element[0].id+"_caption").addClass(this.css.gridHeaderCaptionClass),e.parent().css("margin",0)}},_renderFixedCaption:function(){var t,e;null!==this.options.caption&&(this.options.fixedHeaders===!0&&this.options.showHeader===!0&&(t=this.fixedHeadersTable().children("colgroup").first(),e=0===t.length?$("<caption></caption>").prependTo(this.fixedHeadersTable()):$("<caption></caption>").insertAfter(t),e.text(this.options.caption).attr("id",this.element[0].id+"_caption_fixed").addClass(this.css.gridHeaderCaptionClass)),e.parent().css("margin",0))},_createHeaderColumnMarkup:function(t,e){var i,n=this.css.headerClass,r=this.options.accessibilityRendering,o=$("<div><div><div></div><span>"+t.headerText+"</span></div></div>").addClass(this.css.headerTextClass),s="<th></th>";return i=r?$(s).append(o).attr("id",this.element[0].id+"_"+t.key).attr("role","rowheader").addClass(n).data("columnIndex",e):$(s).append(o).attr("id",this.element[0].id+"_"+t.key).addClass(n).data("columnIndex",e)},_updateHeaderColumnIndexes:function(){var t=this,e=this.options.columns;(this.options.virtualization===!0&&"fixed"===this.options.virtualizationMode||this.options.columnVirtualization===!0)&&(e=e.slice(0,this._maxVirtualColumnCount)),t._initialHiddenCells=[],$(e).each(function(e){$("#"+t.element[0].id+"_"+this.key).data("columnIndex",e)})},_renderHeaderColumns:function(t){var e=this,i=this.options.columns;(this.options.virtualization===!0&&"fixed"===this.options.virtualizationMode||this.options.columnVirtualization===!0)&&(i=i.slice(0,this._maxVirtualColumnCount)),e._initialHiddenCells=[],$(i).each(function(i){var n,r=this.key;r&&(n=e._createHeaderColumnMarkup(this,i),t.append(n),e._trigger(e.events.headerCellRendered,null,{owner:e,th:n,columnKey:this.key}),$.each(e._initialHiddenColumns,function(){if(this.key===r)return e._initialHiddenCells.push(n),n.css("display","none"),!1}))})},renderMultiColumnHeader:function(t){var e,i;if(this._origSum=0,this.options.columns=t,this.destroy(!0),this._initialized=!1,this.options.requiresDataBinding=!0,this._renderHeaderCalled=!1,this._isHierarchicalGrid&&(e=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid"))){if(e.element[0].id!==this.element[0].id&&this.options.key)return i=e._findLayout(e.options.columnLayouts,this.options.key),i.columns=t,e._setOption("columnLayouts",e.options.columnLayouts),void e._create();e._regevents(e.element,e)}this._create()},_renderHeader:function(){var t,e,i,n,r,o,s="",a=this.scrollContainer(),l=!0,u=this.element[0],h=this.options,d=h.virtualization===!0||h.rowVirtualization===!0||h.columnVirtualization===!0;this._renderHeaderCalled=!0,this.options.showHeader&&(l=this._trigger(this.events.headerRendering,null,{owner:this}),l?(e=this.element[0].id,s="<thead><tr data-header-row></tr></thead>",u=this.container(),n=a.css("width"),this.options.showHeader&&this.options.fixedHeaders&&null!==this.options.height?(d===!1?0===u.length&&(a.removeClass(this.css.gridClasses).removeClass(this.css.baseClasses).css("width","").wrap("<div id='"+e+"_container'></div>"),u=$("#"+e+"_container").addClass(this.css.baseClasses).addClass(this.css.gridClasses).css("width",n),this._isWrapped=!0):(n=this.element.parents(".ui-widget").css("width"),u=$("#"+e+"_headers_v").css("width",n),this.options.expandColWidth&&!this.options.width&&u.css("width",parseInt(n,10)+this.options.expandColWidth+"px"),null!==h.width&&u.css("width",h.width).css("max-width",h.width).css("overflow-x","hidden")),u=$("<table id='"+e+"_headers'></table>").prependTo(u).addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0"),d===!1?(r=$("<div></div>").prependTo(u.parent()),r.css("overflow","hidden").css("position","relative").css("white-space","nowrap"),r.addClass("ui-widget-header ui-helper-reset"),r.append(u)):this.options.rowVirtualization===!0&&u.addClass("ui-widget-header ui-helper-reset"),$("#"+this.element[0].id+"_hscroller").bind("scroll",$.proxy(this._scrollHeader,this)),this._renderColgroup(u,!0,!1,this.options.autofitLastColumn)):this.options.fixedHeaders!==!0&&this.options.showHeader&&(u=this.element),null===this.options.width&&null===this.options.height&&(u=this.element),null!==this.options.width&&null===this.options.height&&(this._fixScrollY=1,a.css("overflow-y","hidden").css("overflow-x","auto"),u=this.element),this._isMultiColumnGrid===!0?(this._headerParent=u,this._fireInternalEvent("_renderingMultiColumnHeader"),this.options.virtualization!==!0&&this.options.rowVirtualization!==!0||($("#"+e+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses),u.addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0"))):(this.options.showHeader&&(null===this.options.headerTemplate||void 0===this.options.headerTemplate?(this.options.virtualization!==!0&&this.options.rowVirtualization!==!0||($("#"+e+"_headers_v").css("position","relative").addClass("ui-widget-header ui-helper-reset").addClass(this.css.baseClasses),u.addClass(this.css.gridHeaderTableClass).attr("cellpadding",0).attr("cellspacing",0).attr("border","0")),this.element.find(">thead").remove(),o=u.find(">thead"),0===o.length?t=$(s).appendTo(u).children().first():(o.empty(),t=$("<tr data-header-row></tr>").appendTo(o)),this._renderHeaderColumns(t)):(i=this.options.headerTemplate,this.options.virtualization===!0||this.options.rowVirtualization===!0?($(i).children().each(function(){this.appendTo("#"+e+"_headers")}),t=$("#"+e+"_headers").addClass(this.css.gridClasses)):t=$(s).appendTo(u).append(i))),this._headerParent=u,this._trigger(this.events.headerRendered,null,{owner:this,table:this.headersTable()}),this._headerRenderCancel=!1)):this._headerRenderCancel=!0),this._trigger("headerRenderedInternal",null,{owner:this,table:this.headersTable()})},_renderFooter:function(){var t,e,i,n,r,o=this.element[0].id,s=this.options,a=o+"_footer_container",l='<tfoot class="'+this.css.gridFooterClass+'"></tfoot>',u=$("#"+a),h=this.element;if(0!==h.length)return 0===u.length&&s.showFooter&&(n=this._trigger(this.events.footerRendering,null,{owner:this}),n&&(s.virtualization!==!0&&s.rowVirtualization!==!0&&s.columnVirtualization!==!0||!(null!==s.height&&void 0!==s.height||null!==s.width&&void 0!==s.width)?s.fixedFooters===!0&&null!==s.height?(r=$(null!==s.width?"#"+o+"_hscroller_container":"#"+o+"_scroll"),0===r.length&&(r=h),u=$("<div></div>").attr("id",a).css({overflow:"hidden",position:"relative","white-space":"nowrap"}).addClass(this.css.footerContainer).addClass("ui-widget-footer").insertAfter(r),e=$("<table></table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo(u).addClass(this.css.gridFooterTableClass).attr("id",o+"_footers"),this._renderColgroup(e,!1,!0,this.options.autofitLastColumn),$(l).appendTo(e),s.virtualization!==!0&&s.rowVirtualization!==!0&&s.columnVirtualization!==!0&&$("#"+this.element[0].id+"_hscroller").bind("scroll",$.proxy(this._scrollFooter,this))):(r=h,u=$(l).attr("id",a).insertBefore(r.find("tbody:eq(0)"))):(r=$("#"+this.element[0].id+"_displayContainer"),this.options.fixedFooters=!0,r=$('<tr><td colspan="2" style="border-width: 0px;"></td></tr>').insertAfter(r.closest("tr")),u=$("<div></div>").attr("id",a).css({overflow:"hidden",position:"relative"}).addClass("ui-widget-footer").addClass(this.css.footerContainer).width(this.options.width).appendTo(r.find("td")),e=$("<table></table>").attr("cellpadding",0).attr("cellspacing",0).attr("border",0).appendTo(u).addClass(this.css.gridFooterTableClass).attr("id",o+"_footers"),e.width(s.width),this._renderColgroup(e,!1,!0,this.options.autofitLastColumn),$(l).appendTo(e),this.options.showFooter&&this.options.fixedFooters===!0&&null!==this.options.height&&(t=this.element.parents(".ui-widget:first"),1===t.length&&t[0].style&&(i=t[0].style.width,i&&u.css("width",i))),s.expandColWidth&&!s.width&&u.css("width",parseInt(u.width(),10)+s.expandColWidth+"px"),$("#"+this.element[0].id+"_hscroller").bind("scroll",$.proxy(this._scrollFooter,this))),u.css("display","none"),this._footer=u,this._footerParent=e,this._trigger(this.events.footerRendered,null,{owner:this,table:this.footersTable()}))),u},_renderRecord:function(t,e){var i,n,r=this.options.primaryKey,o=this.options.accessibilityRendering,s=this,a="",l=this.options.columns;if(a+="<tr",e%2!==0&&this.options.alternateRowStyles&&(a+=' class="'+s.css.recordAltClass+'"'),_aNull(r)?_aNull(t.ig_pk)||(a+=' data-id="'+t.ig_pk+'"'):a+=' data-id="'+this._kval_from_key(r,t)+'"',this.options.virtualization&&"continuous"===this.options.virtualizationMode&&(a+=' data-row-idx="'+e+'"'),a+=o?' role="row">':">",l.length>0)n=!0,$(l).each(function(e){l[e].hidden||l[e].fixed===!0||(n=!1,a+=o?'<td role="gridcell" aria-describedby="'+this.key+'"':"<td",void 0===t[this.key]?(s.options.rowTemplate&&s.options.rowTemplate.length>0?(a+=" ",a+=s._renderTemplatedCell(t,this)):(a+=">",a+=s._renderCell(t[e],this,t)),a+="</td>"):(s.options.rowTemplate&&s.options.rowTemplate.length>0?(a+=" ",a+=s._renderTemplatedCell(t,this)):(a+=">",a+=s._renderCell(t[this.key],this,t)),a+="</td>"))}),n&&(a+='<td role="gridcell"></td>');else if("array"===$.type(t))for(i=0;i<t.length;i++)o?a+='<td role="gridcell">'+t[i]+"</td>":(a+="<td>",a+=t[i],a+="</td>");else for(r in t)t.hasOwnProperty(r)&&(o?a+='<td role="gridcell" aria-describedby="'+r+'">'+t[r]+"</td>":(a+="<td>",a+=t[r],a+="</td>"));return a+="</tr>"},_renderRecordInArray:function(t,e,i,n){var r,o=this.options.primaryKey,s=this.options.accessibilityRendering,a=this,l=!1,u=this.options.columns;if(null===t&&(t=[],l=!0),t.push("<tr"),n%2!==0&&this.options.alternateRowStyles&&t.push(' class="'+a.css.recordAltClass+'"'),_aNull(o)?_aNull(i.ig_pk)||t.push(' data-id="'+i.ig_pk+'"'):t.push(' data-id="'+this._kval_from_key(o,i)+'"'),s?t.push(' role="row">'):t.push(">"),u.length>0)$(u).each(function(e){u[e].hidden||(s?t.push('<td role="gridcell" aria-describedby="'+this.key+'"'):t.push("<td"),void 0===i[this.key]?(a.options.rowTemplate&&a.options.rowTemplate.length>0?(t.push(" "),t.push(a._renderTemplatedCell(i,this))):(t.push(">"),t.push(a._renderCell(i[e],this,i))),t.push("</td>")):(a.options.rowTemplate&&a.options.rowTemplate.length>0?(t.push(" "),t.push(a._renderTemplatedCell(i,this))):(t.push(">"),t.push(a._renderCell(i[this.key],this,i))),t.push("</td>")))});else if("array"===$.type(i))for(r=0;r<i.length;r++)s?t.push('<td role="gridcell">'+i[r]+"</td>"):(t.push("<td>"),t.push(i[r]),t.push("</td>"));else for(o in i)i.hasOwnProperty(o)&&(s?t.push('<td role="gridcell" aria-describedby="'+o+'">'+i[o]+"</td>"):(t.push("<td>"),t.push(i[o]),t.push("</td>")));t.push("</tr>"),l&&e.append(t.join(""))},_fixDate:function(t,e){var i,n;return e&&t?("date"!==e.dataType||t.getTime||(n=t.indexOf?t.indexOf("ate("):-1)>0&&(i=t.substring(n+4),n=i.indexOf(")"),n>0&&(i=parseInt(i.substring(0,n),10),isNaN(i)||(t=new Date(i)))),t):t},_renderCell:function(t,e,i,n,r){var o=e.dataType,s=e.format,a=this.options,l=a.autoFormat;return t=this._fixDate(t,e),e.formatter?e.formatter(t,i):(!s&&"bool"===o&&a.renderCheckboxes&&(s="checkbox"),"checkbox"===s&&"bool"!==o&&(s=null),o="date"===o||"number"===o?o:"",s||(l===!0||"dateandnumber"===l)&&o||l&&l===o?$.ig.formatter(t,o,s,!0,a.enableUTCDates,n):r?t:t||0===t||t===!1?t.toString():"&nbsp;")},_renderTemplatedCell:function(t,e){var i,n=$.extend(!0,[],t);return i=void 0===t[e.key]?e.unbound===!0?"&nbsp;":this._renderCell(t,e,t,null,!0):this._renderCell(t[e.key],e,t,null,!0),null===this._tmap&&this._initializeTmap(),n[e.key]=i,$.ig.tmpl(this._tmap[e.key],n)},_initializeTmap:function(){var t,e,i,n=this.options.rowTemplate,r=this.options.columns;if(this._tmap=[],null===this.options.rowTemplate||void 0===this.options.rowTemplate||""===this.options.rowTemplate)throw new Error($.ig.Grid.locale.templatingEnabledButNoTemplate);for(n=n.replace("<tr>","").replace("</tr>",""),e=$.trim(n).split("</td>"),t=0;t<r.length;t++)i=$.trim(e[t].replace("<td","")),this._tmap[r[t].key]=i},_scrollbarWidth:function(){if(!this._scrollbarWidthResolved){var t,e,i=$('<div id="'+this.element.attr("id")+'_tmp"></div>').css({width:50,height:50,position:"absolute",top:-500,left:-500}).prependTo("body").append("<div></div>").find("div").css({height:100});7===document.documentMode||$.ig.util.isIE7?(t=i.innerWidth(),i.parent().css("overflow-y","scroll"),e=i.innerWidth(),this._scrollbarWidthResolved=t-e):(i.parent().css({overflow:"auto"}),i.css({width:"100%"}),this._scrollbarWidthResolved=50-i.width()),$("#"+this.element.attr("id")+"_tmp").remove()}return this._scrollbarWidthResolved},_fireInternalEvent:function(t,e){var i,n,r,o;for(i=0;i<this.options.features.length;i++)n=this.options.features[i],void 0!==n&&null!==n&&void 0!==n.name&&(r="igGrid"+n.name,o=this.element.data(r),null!==o&&void 0!==o&&o[t]&&(e?o[t](e):o[t]()))},_initFeature:function(t,e,i){if(t&&void 0!==t.name){var n="igGrid"+t.name;if("function"!==$.type($("#"+this.element[0].id)[n]))throw new Error($.ig.Grid.locale.noSuchWidget+" "+n);this.element.data(n)&&$("#"+this.element[0].id)[n]("destroy"),$("#"+this.element[0].id)[n](t),this.element.data(n)._injectGrid(this)}},_initFeatureSettings:function(t){if(t&&void 0!==t.name){var e="igGrid"+t.name;if("function"!==$.type($("#"+this.element[0].id)[e]))throw new Error($.ig.Grid.locale.noSuchWidget+" "+e);this.element.data(e)&&this.element.data(e)._injectGrid(this,!0)}},_onFeaturesSoftDirty:function(t,e){var i,n;if("remote"===e.owner.options.type)for(i=0;i<this.options.features.length;i++)n=$("#"+this.element[0].id).data("igGrid"+this.options.features[i].name),n&&n!==e.owner&&n.options&&"local"===n.options.type&&n._onUIDirty&&"function"===$.type(n._onUIDirty)&&n._onUIDirty(t,e)},_kval_from_key:function(t,e){var i,n,r="";if(t.indexOf(",")!==-1)for(i=t.split(","),n=0;n<i.length;n++)r+=e[i[n]],n<i.length-1&&(r+=",");else r=e[t];return r},_rowId:function(t,e){var i=this.options.primaryKey;return i=i?this._kval_from_key(i,t):null,i||(i=e,0!==i&&(i=this.rows().length-1)),i},_inferOpType:function(){return this.options.dataSourceUrl||"remoteUrl"===this.dataSource.type()?"remote":"local"},_renderVirtualRecords:function(){this._trigger("virtualrendering");var t=this.options.virtualizationMode;void 0!==t&&""!==t||(t="continuous"),"fixed"===t||this.options.columnVirtualization===!0?this._renderVirtualRecordsFixed():"continuous"===t&&this._renderVirtualRecordsContinuous(),this._trigger("virtualrecordsrender",null,{owner:this,dom:this._virtualDom})},_getHScrollContainerInner:function(){var t=$("#"+this.element[0].id+"_hscroller_inner");return 0===t.length&&"continuous"===this.options.virtualizationMode&&(t=$("#"+this.element[0].id+"_horizontalScrollContainer div")),t},_getScrollContainerHeight:function(){return $("#"+this.element[0].id+"_scrollContainer").children(":first-child").height()},_getDisplayContainerHeight:function(){return $("#"+this.element[0].id+"_displayContainer").height()},_getDisplayContainerWidth:function(){return $("#"+this.element[0].id+"_displayContainer").width()},_setDisplayContainerWidth:function(t){void 0!==t&&($("#"+this.element[0].id+"_displayContainer").css("max-width",t),$("#"+this.element[0].id+"_displayContainer").width(t))},_getVHeadersWidth:function(){return $("#"+this.element[0].id+"_headers_v").width()},_setVHeadersWidth:function(t){void 0!==t&&$("#"+this.element[0].id+"_headers_v").width(t)},_setScrollContainerHeight:function(t){void 0!==t&&$("#"+this.element[0].id+"_scrollContainer").children(":first-child").height(t)},_setScrollContainerScrollTop:function(t){void 0!==t&&$("#"+this.element[0].id+"_scrollContainer").scrollTop(t)},_getScrollContainerScrollTop:function(){return $("#"+this.element[0].id+"_scrollContainer").scrollTop()},_setDisplayContainerScrollTop:function(t){void 0!==t&&$("#"+this.element[0].id+"_displayContainer").scrollTop(t)},_getDisplayContainerScrollTop:function(){return $("#"+this.element[0].id+"_displayContainer").scrollTop()},_setDisplayContainerScrollLeft:function(t){void 0!==t&&$("#"+this.element[0].id+"_displayContainer").scrollLeft(t)},_getDisplayContainerScrollLeft:function(){return $("#"+this.element[0].id+"_displayContainer").scrollLeft()},_calculateAvgRowHeight:function(){var t=$("#"+this.element[0].id+" > tbody").height();return t/this._virtualRowCount},_getDisplayContainerVisibleArea:function(){var t=this._getDisplayContainerScrollTop(),e=this._getDisplayContainerHeight();return{top:t,bottom:t+e}},virtualScrollTo:function(t){var e,i,n,r,o;t!==this._oldScrollTop&&(e="#"+this.element[0].id,i=$(e+" > tbody > tr:first"),n=$(e+" > tbody > tr:last"),0!==i.length&&0!==n.length&&(r={virtualScrollerY:this._getScrollContainerScrollTop(),deltaScroll:t-this._oldScrollTop,firstRow:i,lastRow:n,firstRowDataIndex:parseInt(i.attr("data-row-idx"),0),lastRowDataIndex:parseInt(n.attr("data-row-idx"),0),visibleArea:this._getDisplayContainerVisibleArea()},o={action:"SA_INITIAL"},this._tryScroll(r,o)||this._rebuildVirtualRows(r,o),this._correctScrollPosition(this._getTotalRowsCount())))},_getTotalRowsCount:function(){return this.dataSource.dataView().length},_tryScroll:function(t,e){var i,n,r,o,s,a,l,u;if(void 0===e)throw new Error("scrollResult parameter should be provided");if(i=t.virtualScrollerY,n=t.deltaScroll,r="#"+this.element[0].id,o=t.firstRow,s=t.lastRow,a=t.visibleArea,l=this._getDisplayContainerHeight(),u=this._getDisplayContainerScrollTop(),n>0){if(s[0].offsetTop+s.outerHeight()>=u+n+l||isNaN(t.lastRowDataIndex)||t.lastRowDataIndex===this.dataSource.dataView().length-1)return this._setDisplayContainerScrollTop(u+n),e.action="SA_SUCCESSFUL",!0;if(n<=this._avgRowHeight*this._virtualRowCount)return e.action="SA_NEED_NEXT_PAGE",!1}if(n<0){if(o[0].offsetTop<=u+n||0===t.firstRowDataIndex)return this._setDisplayContainerScrollTop(u+n),e.action="SA_SUCCESSFUL",!0;if(Math.abs(n)<=this._avgRowHeight*this._virtualRowCount)return e.action="SA_NEED_PREV_PAGE",!1}return e.action="SA_NEED_SOME_PAGE",!1},_rebuildVirtualRows:function(t,e){var i,n,r,o,s,a,l,u,h,d,c,p,f,g,m,v,_,y,b,w,x,C,T,S,k,P,E,I;if(i=this._trigger("rebuildingvirtualrows",null,{owner:this,scrollData:t,scrollResult:e}),i!==!1){for(n=t.virtualScrollerY,r=t.deltaScroll,o="#"+this.element[0].id,s=t.firstRowDataIndex,a=t.lastRowDataIndex,l=t.visibleArea,u=$(o+" > tbody"),h=0,d=$(o+" > tbody > tr[data-container='true']"),c=0;c<d.length;c++)h+=$(d[c]).outerHeight();h>0&&(p=this._getScrollContainerHeight(),this._setScrollContainerHeight(p-h)),r>0&&"SA_NEED_NEXT_PAGE"===e.action&&(f=this._getFirstVisibleTR(l),
g=Math.abs(f[0].offsetTop-l.top),m=0,v=parseInt(f.attr("data-row-idx"),0),E=v,P=parseInt(this._virtualRowCount,0)+v-1,I=!1,P>this.dataSource.dataView().length-1&&(P=this.dataSource.dataView().length-1,v=P-this._virtualRowCount+1,I=!0),u.empty(),this._renderRecords(v,P),I&&(x=$(o+" > tbody > tr[data-row-idx='"+E+"']"),g=x[0].offsetTop+g),this._setDisplayContainerScrollTop(g+r)),r<0&&"SA_NEED_PREV_PAGE"===e.action&&(C=this._getLastVisibleTR(l),T=parseInt(C.attr("data-row-idx"),0),f=this._getFirstVisibleTR(l),S=parseInt(f.attr("data-row-idx"),0),k=l.bottom-C[0].offsetTop,P=T,v=P-parseInt(this._virtualRowCount,0)+1,v<0&&(v=0,P=v+this._virtualRowCount-1),u.empty(),this._renderRecords(v,P),o="#"+this.element[0].id,_=$(o+' > tbody > tr[data-row-idx="'+S+'"]'),this._setDisplayContainerScrollTop(_[0].offsetTop+r)),"SA_NEED_SOME_PAGE"===e.action&&(v=Math.floor(n/this._avgRowHeight),P=v+this._virtualRowCount-1,v<0&&(v=0,P=v+this._virtualRowCount-1),P>=this.dataSource.dataView().length-1&&(P=this.dataSource.dataView().length-1,v=P-this._virtualRowCount+1),u.empty(),this._renderRecords(v,P),y=0,b=this._getScrollContainerHeight()-this._getDisplayContainerHeight(),b-3<=n&&n<=b+3&&(y=1e4),this._setDisplayContainerScrollTop(y)),w=this._calculateAvgRowHeight(),w>this._avgRowHeight&&(this._avgRowHeight=w),this._startRowIndex=v,this._startColIndex=0,this._trigger("virtualrecordsrender",null,{owner:this,tbody:u,dom:this._virtualDom})}},_correctScrollPosition:function(t){var e,i,n,r,o,s,a,l,u,h,d;e=this._getScrollContainerScrollTop(),i=this._getScrollContainerHeight()-this._getDisplayContainerHeight(),n="#"+this.element[0].id,r=$(n+" > tbody > tr:first"),o=parseInt(r.attr("data-row-idx"),0),s=$(n+" > tbody > tr:last"),a=parseInt(s.attr("data-row-idx"),0),l=this._getDisplayContainerVisibleArea(),u=$(n+" > tbody"),0===e?l.top>0?this._scrollTo(l.top,!0):o>0&&this._scrollTo(o*this._avgRowHeight,!0):e>=i-3&&e<=i+3&&(l.bottom<u.height()&&a===t-1?this._scrollTo(this._getScrollContainerScrollTop()-(u.height()-l.bottom),!0):a<t-1&&(h=t-a,this._setScrollContainerHeight(this._getScrollContainerHeight()+h*this._avgRowHeight))),d=this._getDisplayContainerScrollTop(),0===d&&0===o&&0!==this._getScrollContainerScrollTop()&&this._scrollTo(0,!0),d===u.height()-this._getDisplayContainerHeight()&&a===t-1&&this._scrollTo(this._getScrollContainerHeight(),!0)},_scrollTo:function(t,e){e&&(this._suppressScroll=!0),this._setScrollContainerScrollTop(t)},_getFirstVisibleTR:function(t){var e,i="#"+this.element[0].id;return e=$(i+" > tbody > tr").filter(function(e){return this.offsetTop+$(this).height()>t.top}).first()},_getLastVisibleTR:function(t){var e,i="#"+this.element[0].id;return e=$(i+" > tbody > tr").filter(function(e){return this.offsetTop<t.bottom}).last()},_determineVirtualRowCount:function(){var t,e,i,n,r,o,s,a,l=10,u="";for(e=this.dataSource.dataView(),l>e.length&&(l=e.length),t=$("<div></div>)").appendTo("body").css({position:"absolute",top:-1800,left:-1800,visibility:"hidden"}),i=0;i<l;i++)u+=this._renderRecord(e[i],i);return t.html(u),n=t.height(),r=n/l,o=this._getDisplayContainerHeight(),s=o/r,a=Math.ceil(3*s),t.remove(),a},_renderVirtualRecordsContinuous:function(){return this._totalRowCount=this.dataSource.dataView().length,0===this._totalRowCount?(this._setScrollContainerHeight(0),void(this._virtualDom=[])):(this._virtualRowCount=this._determineVirtualRowCount(),this._virtualRowCount>this._totalRowCount&&(this._virtualRowCount=this._totalRowCount),this._scrollTo(0,!0),this._renderRecords(this._virtualRowCount-1),this._avgRowHeight=this._calculateAvgRowHeight(),void this._setScrollContainerHeight(this._totalRowCount*this._avgRowHeight))},_rerenderVirtualRecordsContinuous:function(){var t,e,i,n,r="#"+this.element[0].id;t=$(r+" > tbody > tr:first"),e=$(r+" > tbody > tr:last"),i=parseInt(t.attr("data-row-idx"),0),n=parseInt(e.attr("data-row-idx"),0),this._renderRecords(i,n),this._trigger("virtualrecordsrender",null,{owner:this,tbody:this.element.children("tbody"),dom:this._virtualDom})},_buildVirtualDomForContinuousVirtualization:function(){var t,e,i,n;if(this.options.virtualization===!0&&"continuous"===this.options.virtualizationMode)for(this._virtualDom=[],t=$("#"+this.element[0].id+" > tbody > tr"),i=0;i<t.length;i++)for(this._virtualDom[i]=[],e=t[i].children,n=0;n<e.length;n++)this._virtualDom[i][n]=e[n]},destroy:function(t){var e,i=this.container().prev(),n=!1;for(this._scrollHeader&&$("#"+this.element[0].id+"_hscroller").length>0&&$("#"+this.element[0].id+"_hscroller").unbind("scroll",$.proxy(this._scrollHeader,this)),this._headerInitCallbacks=[],this._footerInitCallbacks=[],this.tmpDataSource=null,e=0;e<this.options.features.length;e++)$("#"+this.element[0].id).data("igGrid"+this.options.features[e].name)&&$("#"+this.element[0].id)["igGrid"+this.options.features[e].name]("destroy");if(0===i.length&&(i=this.container().parent(),n=!0),n?i.prepend(this.element):this.element.insertAfter(i),this.element.unbind("click",this._cellClickHandler),delete this._cellClickHandler,this.element.find("thead").empty(),this.element.find("colgroup").empty(),t!==!0&&$.Widget.prototype.destroy.call(this),this._isWrapped&&this.container().parent().data("igGrid")&&(this.container().parent().removeData("igGrid"),this.container().parent().removeData("uiIgGrid")),this.container().remove(),this.element.find("tbody").empty().removeClass(this.css.gridTableBodyClass).removeClass(this.css.gridRecordClass),this.element.removeClass(this.css.gridTableClass),this.element.unbind("iggriduisoftdirty",this._uiSoftDirtyHandler),this.element.trigger(this.events.destroyed,{owner:this}),delete this._uiSoftDirtyHandler,this._resId&&clearInterval(this._resId),this._isWrapped&&this.element.remove(),this._hovEvts&&(this.element.unbind(this._hovEvts),this._hovEvts=null),t!==!0)return this.dataSource&&(this._dataSource=null,this.dataSource=null),this._dataOptions=null,this._originalOptions=null,this._padding=null,this._originalOptions=null,this._loadingIndicator=null,this._headerParent=null,this._footerParent=null,this._footer=null,this._hovEvts=null,this._lastDataCol=null,this._lastFooterCol=null,this._lastHeaderCol=null,this}}),$.extend($.ui.igGrid,{version:"13.1.20131.2042"})}(jQuery),define("igGrid",["igUtil","igDataSource","igTemplating","igShared","igScroll","igGrid_en"],function(){}),$.ig=$.ig||{},$.ig.Editor||($.ig.Editor={locale:{spinUpperTitle:"Increment",spinLowerTitle:"Decrement",buttonTitle:"Show list",clearTitle:"Clear value",datePickerButtonTitle:"Show calendar",updateModeUnsupportedValue:'The updateMode option supports two possible values - "onChange" and "immediate"'}}),define("igEditors_en",["regional"],function(){}),$.ig=$.ig||{},$.ig.Editor||($.ig.Editor={locale:{spinUpperTitle:"Increment",spinLowerTitle:"Decrement",buttonTitle:"Show list",clearTitle:"Clear value",datePickerButtonTitle:"Show calendar",updateModeUnsupportedValue:'The updateMode option supports two possible values - "onChange" and "immediate"'}}),function(t){var e=function(t,e){return null===t||void 0===t||e&&"number"==typeof t&&isNaN(t)},i=function(t,e){return isNaN(t=parseInt(t,10))&&(t=e||0),t},n=function(t,e){var n=e?"Left":"Top",r=e?"Right":"Bottom";return i(t.css("padding"+n))+i(t.css("padding"+r))+i(t.css("border"+n+"Width"))+i(t.css("border"+r+"Width"))},r=function(t){return e(t)?"":t.toString()},o=function(){return(new Date).getTime()},s=function(e,i){return t.ig.util?t.ig.util.offset(e,i):i||(e?e.offset():null)},a=function(t){try{t.preventDefault(),t.stopPropagation()}catch(t){}};t.ig=t.ig||{},t.widget("ui.igEditor",{options:{value:null,tabIndex:null,nullText:null,button:"none",textAlign:null,listItems:null,theme:null,type:null,locale:null,width:null,height:null,validatorOptions:null,required:!1,display:"inline-block",renderInContainer:!1,selectionOnFocus:-1,readOnly:!1,spinOnReadOnly:!1,focusOnSpin:!1,spinWrapAround:!1,hideEnterKey:!0,dropDownOnReadOnly:!1,dropDownTriggers:"button,ctrl+arrow,alt+arrow",listDropDownAsChild:!1,listWidth:0,listMaxHeight:300,listColumns:1,animationShowDuration:200,animationHideDuration:200,inputName:null},events:{keydown:0,keypress:1,keyup:2,mousedown:3,mouseup:4,mousemove:5,mouseover:6,mouseleave:7,focus:8,blur:9,valueChanging:10,valueChanged:11,textChanged:12,invalidValue:13,spin:14,buttonClick:15,showDropDown:16,hideDropDown:17,listSelecting:18,listSelected:19},css:{editor:"ui-igedit ui-state-default ui-widget ui-corner-all",container:"ui-igedit-container",field:"ui-igedit-field",fieldRtl:"ui-igedit-rtl",textArea:"ui-igedit-textarea",hover:"ui-igedit-hover ui-state-hover",focus:"ui-igedit-focus ui-state-focus",buttonsImageStateOverride:"ui-igedit-buttonsimagestateoverride",disabled:"ui-igedit-disabled ui-state-disabled",negative:"ui-igedit-negative",nullValue:"ui-igedit-nullvalue",button:"ui-igedit-button",buttonRtl:"ui-igedit-button-rtl",buttonFocus:"ui-igedit-buttonfocus",buttonDefault:"ui-igedit-buttondefault ui-state-default",buttonHover:"ui-igedit-buttonhover ui-state-hover",buttonPressed:"ui-igedit-buttonpressed ui-state-highlight",buttonDisabled:"ui-igedit-buttondisabled ui-state-disabled",buttonImage:"ui-igedit-buttonimage ui-icon-triangle-1-s ui-icon",buttonClear:"ui-igedit-buttonclear",buttonClearImage:"ui-igedit-buttonimage ui-icon-circle-close ui-icon",buttonImageHover:"ui-igedit-buttonimagehover",buttonImagePressed:"ui-igedit-buttonimagepressed",buttonImageDisabled:"ui-igedit-buttonimagedisabled",spinButton:"ui-igedit-spinbutton",spinButtonImage:"ui-igedit-buttonimage ui-igedit-spinbuttonimage",spinLowerImage:"ui-igedit-spinlowerimage ui-icon-carat-1-s ui-icon",spinLowerImageHover:"ui-igedit-spinlowerimagehover",spinLowerImagePressed:"ui-igedit-spinlowerimagepressed",spinLowerImageDisabled:"ui-igedit-spinlowerimagedisabled",spinUpperImage:"ui-igedit-spinupperimage ui-icon-carat-1-n ui-icon",spinUpperImageHover:"ui-igedit-spinupperimagehover",spinUpperImagePressed:"ui-igedit-spinupperimagepressed",spinUpperImageDisabled:"ui-igedit-spinupperimagedisabled",dropDown:"ui-igedit-dropdown",list:"ui-igedit-list ui-widget ui-widget-content ui-corner-all",listItem:"ui-igedit-listitem ui-state-default",listItemHover:"ui-igedit-listitemhover ui-state-hover",listItemSelected:"ui-igedit-listitemselected ui-state-highlight",listItemColumnBorder:"ui-igedit-listitemcolumnborder",noTopCorners:"ui-igedit-no-top-corners",noBottomCorners:"ui-igedit-no-bottom-corners"},regional:t.ig._regional||{},_create:function(n){var r,o,s,a,l,u,h,d=this.css,c=this.options,p=this;if(n=this._doType(e(n)?c.type:n,o=c.value),"number"!=typeof c.maxLength&&(c.maxLength=0),"number"!=typeof c.spinDelta&&(c.spinDelta=1),c.nullable=c.nullable!==!1,this._listID=-1,u=c.theme,this._css=d.field,s=this._element=this._render(this.element,c,d),c.display&&s.css("display",c.display),3===n&&(!t.datepicker||this._ta))throw new Error("The ui.igDatePicker depends on jquery.ui.datepicker and TEXTAREA/multiline is not supported");this._ta&&(this._css+=" "+d.textArea),a=this._field,this._box="checkbox"===a[0].type,this._1e=a===s,c.readOnly&&(a[0].readOnly="readonly"),l=c.textAlign,!l&&n>3&&(l="right"),l&&a.css("textAlign",l),a[0]._id=-1,a[0].disabled=c.disabled,this._hover=this._mouseDown=0,this._fix=1,this._fcs=-1,this._bad=0,this._k0=this._sel0=0,this._noPaste=0,this._fixMode(1),this._clearHide=!1,a.bind(p._evts={keydown:function(t){p._onEvt(t,0)},keypress:function(t){p._onEvt(t,1)},keyup:function(t){p._onEvt(t,2)},paste:function(t){p._onEvt(t,11)},beforecut:function(t){p._onEvt(t,11)},cut:function(t){p._onEvt(t,11)},drop:function(t){p._onEvt(t,11)},focus:function(t){p._onEvt(t,8)},blur:function(t){p._onEvt(t,9)}}),r={mousedown:function(t){p._onEvt(t,3)},mouseup:function(t){p._onEvt(t,4)},mousemove:function(t){p._onEvt(t,5)},MSPointerOver:function(t){p._onEvt(t,26)},mouseover:function(t){p._onEvt(t,6)},mouseleave:function(t){p._onEvt(t,7)}},this._buttons&&this._buttons[1]&&(r.DOMMouseScroll=function(t){p._onEvt(t,10)},r.mousewheel=function(t){p._onEvt(t,10)}),s.bind(p._mEvts=r),this._fcs=0,r=c.maxLength,r&&r>0&&(a[0].maxLength=r),e(r=c.tabIndex)||(a[0].tabIndex=r),r=c._vsFormat,r&&o&&n>3&&"number"!=typeof o&&(o=parseFloat(this._txtAsNum(o.toString(),r,"-"))),this._setVal(e(o)?this._value:o),""===this._val()&&(this._text=this._field[0].value=this._focTxt("",!1,"")),this._fixCss(),h=this._oldCss,o=c.height,o||this._1e||(o=h.height,o&&(o=o.indexOf("px")>0?i(o):this.element.height())),this._height(o),this._box&&this._fixBC(a,a),o=c.width,o||this._1e||(o=h.width,o&&(o=o.indexOf("px")>0?i(o):this.element.width())),this._selElem&&(delete h.width,delete h.height),this._width(o),this._lastText=this._val(),this._initValidator(),this._doClear(c.value)},_doType:function(t,e){return"text"===t&&(t=0),"mask"===t&&(t=1),"date"===t&&(t=2),"datepicker"===t&&(t=3),"numeric"===t&&(t=4),"currency"===t&&(t=5),"percent"===t&&(t=6),("number"!=typeof t||t<0||t>6)&&(t="number"==typeof e?4:e&&e.getMonth?2:0),this._type=t,t},_render:function(i,n,r){var o,s,l,u,h,d,c,p,f,g,m,v,_,y,b="rtl"===i.css("direction"),w=n.button,x=i,C=null;if(s=i[0].nodeName,l=i[0].parentNode,s&&(s=s.toUpperCase()),this._ta="TEXTAREA"===s,this._td="TD"===s,this._left=b,h="INPUT"===s,C=this._selElem="SELECT"===s,o=w&&w.indexOf("spin")>=0,v=w&&w.indexOf("clear")>=0,w=w&&w.indexOf("dropdown")>=0||C&&!o,(v||w||o)&&(_=this._buttons=[]),d=_||n.renderInContainer||n.theme,c=this._oldCss={display:0},p=this._oldAttr={className:0,title:0},h)p.value=0,h=i[0].type||"text","date"!==h&&"number"!==h||(i[0].type="text",p.type=h);else if(C){if(C=n.listItems,!C){if(n.listItems=[],C=i[0].options,f=C?C.length:0,f>0){for(;f-- >0;)g=C[f].value,n.listItems[f]={value:g,text:e(m=C[f].text)?g:m};this._listID=i[0].selectedIndex}C=1}}else p.innerHTML=0;(h||this._ta)&&(p.disabled=p.readOnly=p.alt=c.textAlign=0);for(f in c)c.hasOwnProperty(f)&&(c[f]=i.css(f));for(f in p)p.hasOwnProperty(f)&&(p[f]=i[0][f]);if(c.width=i[0].style.width,c.height=i[0].style.height,(f=h?p.value:C?i.val():p.innerHTML)===n.nullText&&(f=""),!this._ta&&f&&(f=f.replace(/[\x09\x0a]/g,"")),this._value=f,h||this._ta||C){if(p.className&&(this._css+=" "+p.className),!d)return this._css+=" "+r.editor,this._field=i,this._field;this._swap=!0,i.css("display",C?"none":""),i=t("<span />"),l.insertBefore(i[0],x[0]),C?x=t("<input />"):l.removeChild(x[0]),i.css("display",c.display)}else"textarea"===n.textMode||"multiline"===n.textMode?(x=t("<textarea />"),this._ta=1):x=t(n.textMode?'<input type="'+n.textMode+'"/>':"<input />"),i[0].innerHTML="";for(i.addClass(r.editor+" "+r.container),n.theme&&i.addClass(n.theme),this._field=x,y=r.button+" "+r.buttonDefault,b&&(y+=" "+r.buttonRtl,this._css+=" "+r.fieldRtl),f=_?-1:6,h=this,this._touchEvts={touchstart:function(t){h.__touch=1,this._drag=null,a(t)},touchmove:function(t){this._drag=1,a(t)},touchend:function(){this._drag||t(this).trigger("mousedown").trigger("mouseup")}};f++<4;)(w&&0===f||v&&3===f||o&&(1===f||2===f))&&(0===f?(u=[y,r.buttonHover,r.buttonPressed,r.buttonDisabled,r.buttonImage,r.buttonImageHover,r.buttonImagePressed,r.buttonImageDisabled],C="button"):1===f?(u=[y+" "+r.spinButton,r.buttonHover,r.buttonPressed,r.buttonDisabled,r.spinButtonImage+" "+r.spinUpperImage,r.spinUpperImageHover,r.spinUpperImagePressed,r.spinUpperImageDisabled],C="spinUpper"):2===f?(u=[y+" "+r.spinButton,r.buttonHover,r.buttonPressed,r.buttonDisabled,r.spinButtonImage+" "+r.spinLowerImage,r.spinLowerImageHover,r.spinLowerImagePressed,r.spinLowerImageDisabled],C="spinLower"):(u=[y+" "+this.css.buttonClear,r.buttonHover,r.buttonPressed,r.buttonDisabled,r.buttonClearImage,r.buttonImageHover,r.buttonImagePressed,r.buttonImageDisabled],C="clear"),g=_[f]=t("<span />").addClass(u[0]).appendTo(i).bind(this._touchEvts),g[0]._css=u,g[0].longdesc=g[0].title=this._optVal(C+"Title",1),m=t("<span />").addClass(u[4]).appendTo(g),m[0]._id=f+5,g[0]._id=f+1);return x.appendTo(i),i},_leftShift:function(){for(var t=0,e=this._buttons,i=this._left&&e?4:0;i-- >0;)e[i]&&(t+=e[i][0].offsetWidth);return t},_val:function(){var t=this._field;return t?this._box?t[0].checked:this._nullT?"":t[0].value:""},_fixNull:function(){var t,e=this.options.nullText;this._field&&(e||this._nullT)&&(t=this._val(),this._nullT=null,""===t&&e&&this._fcs<2&&(this._nullT=!0,this._field[0].value=e),this._fixCss())},_focTxt:function(t,i,n){var r=this.options.nullText;return this._nullT=null,i||""!==t||!r||e(n)&&!this.options.readOnly||(t=r,this._nullT=!0),t},validate:function(t){return!this.options.validatorOptions||!this._doInvalid(null,t?2:1)},isValid:function(){return!this._doInvalid(null,9)},_doInvalid:function(t,i){if(this._field){var n,r,o,s,a=this._val(),l=!1,u=1,h=this._invPlus,d=this.options,c=this._type;if(this._inv=null,h)r=0,s=c;else if(!d.required||a&&(1!==c||this.getValueByMode(0,"",1)))if(0===c)d.nullable||a||(h=1);else if(1===c)for(a=this._txt,r=a.length;r-- >0&&!h;)n=a.charCodeAt(r),n<21&&n%2===1&&(h={value:a=this._getVal(),message:this._optVal("mask",2)});else c<4?(a=this._toDate(a,""===t,!0,!0),h=this._inv):(a=this._toNum(a,!0,!0),h=this._inv,u=this._prop(7),h&&a&&u>1&&(o=a,h.value=a/=u));else h=1,s=c;return 1===s?a=this._txt:s&&(a=s<4?this._toDate(a,""===t,!0,!0):this._toNum(a,!0,!0)),1===h&&(h={value:a=null,message:this._optVal("required",2)}),"string"==typeof h&&(h={value:a,message:h}),9===i?h:h&&(l=this._fire(13,null,h),a!==h.value&&(a=h.value,h=null),o&&(h?a=o:e(a,1)?a=null:a&&(a*=u)),c<=1&&!h)?void this._setVal(a):(c>1&&c<4&&(this._isNull=e(a),this._isNull||(this._date=a),a&&d.useLastGoodDate&&(this._goodD=a)),this._value=a,!i||l||this._setOpt?void 0:this._doError(i,null,h?h.message:null))}},_focusTxt:function(t,i,n){var r=i,o="",s=this.options,a=this._type,l=null,u="";if(1===a)n=null,e(i)||t||(i=""!==i,i&&0!==this._bad&&(this._txt=this._setTxt(this._val(),5,!0)),n=this._txt,i||this._doInvalid(r)),o=this._getTxt(t?5:4,t?s.promptChar:s.padChar,n);else if(2===a||3===a){if(e(n)){if(u=s.promptChar,e(i)&&t)return this._getTxt(5,u);e(i)||t?this._isNull||(l=this._date):(this._doInvalid(i),l=this._value)}else l=this._toDate(n,t,!0);o=this._toTxt(l,t,u,!e(i))}else a>3?(e(i)||t||this._doInvalid(),o=this._toTxtNum(this._value,t)):(o=this._val(),e(i)||t||this._doInvalid(i));return this._focTxt(o,t,i)},_repaint:function(){this._field&&this._val()!==this._text&&(this._field[0].value=this._text)},_instant:function(t,e,i){var n,r=this._type,o=this._dataMode;return this._box?this._val():1===r?this.getValueByMode(o,t,e):2===r||3===r?this.getValueByMode(t?0:o,e):r>3?(n=this._toNum(this._val(),e),n&&(e||i)&&!isNaN(n)&&o>0&&(n/=this._prop(7)),t||o>0?n:this._toTxtNum(n,0===o)):this._val()},_optVal:function(i,n){var r=this._validator,o=this.options;return 2===n?r?r._loc(i):"":e(r=o[i])?3===n||1===n?(1===n&&3===this._type&&(i="datePickerButtonTitle"),r=o.locale?o.locale[i]:null,r||(t.ig&&t.ig.Editor&&t.ig.Editor.locale?t.ig.Editor.locale[i]:null)||""):(o=o.regional,"string"==typeof o&&(o=t.ig.regional[o]),o&&!e(r=o[i])||(r=t.ig.regional.defaults[i]),e(r)?this.regional[i]:r):r},_setOption:function(i,n){var r,o=n,s=null,a=this.options,l="locale"===i,u="regional"===i,h=this._buttons,d=this._field;if(a[i]===n||"textMode"===i||!d)return this;if("buttonHidden"===i)return this._butVis(null,n),this;if("theme"===i){if(this._1e)return this;for(r=0;r<3;r++)h&&h[r]&&h[r].css("height","");a.theme&&this._element.removeClass(a.theme),n&&this._element.addClass(n),this._listRemove(),this._height(a.height),this._width(a.width)}return"inputMask"===i&&1===this._type&&(o=this.getValueByMode(0," ",1),this._setMask(n),this._setTxt(o,0)),a[i]=n,"function"==typeof n?this:(u&&this._dp&&(s=this._dpRegion(),s&&this._dpOption(a.datepickerOptions=t.extend(a.datepickerOptions,s))),r="buttonTitle",(l||i===r)&&h&&h[0]&&(h[0][0].title=this._optVal(r,1)),r="spinUpperTitle",(l||i===r)&&h&&h[1]&&(h[1][0].title=this._optVal(r,3)),r="spinLowerTitle",(l||i===r)&&h&&h[2]&&(h[2][0].title=this._optVal(r,3)),r="clearTitle",(l||i===r)&&h&&h[3]&&(h[3][0].title=this._optVal(r,3)),"disabled"===i&&(d[0].disabled=n,this._fixCss()),"display"===i&&this._element.css(i,n),"textAlign"===i&&d.css(i,n),"readOnly"===i&&(d[0].readOnly=n?"readonly":""),"maxLength"!==i&&"tabIndex"!==i||(d[0][i]=n),"value"===i&&this.value(n),"width"===i&&this._width(n),"height"===i&&this._height(n),r="required"===i,("validatorOptions"===i||r)&&this._initValidator(!1,r),"nullText"===i&&this._fixNull(),"type"===i&&(this._doType(n),u=3),i=i.toLowerCase(),r=0===i.indexOf("minv")?1:0===i.indexOf("maxv")?2:i.indexOf("maxd")>=0||i.indexOf("mind")>=0?-1:0,0===i.indexOf("list")?this._listRemove():0===i.indexOf("an")?this._dp&&i.indexOf("show")>7&&this._dpOption(i.indexOf("eff")>7?"showAnim":"duration",n):i.indexOf("kero")>0?this._dp&&this._dpOption(n):(i.indexOf("data")>=0||r||u||!e(this.regional[i])||0===i.indexOf("date")||i.indexOf("pat")>=0||i.indexOf("roup")>0||i.indexOf("sep")>=0||i.indexOf("ymb")>0)&&(r>0&&this._dp&&(s=t.data(d[0],"datepicker"),s&&(s.settings[1===r?"minDate":"maxDate"]=null)),this._setOpt=!0,this._listRemove(),this._fixMode(3===u?3:0),this._repaint(),this._lastText=this._val(),this._setOpt=null),this)},_dpRegion:function(){var e=this.options.regional;return t.datepicker&&"string"==typeof e?t.datepicker.regional["defaults"===e||"en-US"===e?"":e]:null},_dpOption:function(e,i){var n=this._getVal(1);e&&e.changeYear&&t.ig.util.isOpera&&(e.changeYear=!1),this._field.datepicker("option",e,i),this._setVal(n)},getRegionalOption:function(t){return this._optVal(t)},field:function(){return this._field},mainElement:function(){return this._element},dropDownElement:function(){var e=this._ddList;return 3===this._type&&(e=t.datepicker,e&&(e=e._ig_dp===this?e.dpDiv:null)),e||null},show:function(){return this._vis(!0)},hide:function(){return this._vis()},remove:function(){var t,e=this._element;return t=e&&e[0]?e[0].parentNode:null,t&&t.tagName&&(this._doError(),this._doDrop(),this._stopTimer(),this._hadFocus=null,this._vAct(),this._noPaste=this._fcs=this._k0=this._hover=this._mouseDown=0,this._fixCss(),t.removeChild(e[0])),this},dropDownVisible:function(t){return arguments.length?(t?this._ddOn||this._doDrop(1):this._doDrop(),this):!!this._ddOn},findListItemIndex:function(t,e,i,n){var o=this._find(r(t),0,1,e,i,n);return o?o.id:-1},addListItems:function(t,e){return this._listChange(t,e,2)},addListItem:function(t,e){return this._listChange([t],e,2)},removeListItem:function(t){return this._listChange(t,-1,1)},removeListItemAt:function(t){return this._listChange(null,t,1)},clearListItems:function(){return this._listChange(null,-1,0)},selectedListIndex:function(t){return arguments.length?void this._listSelect(t):this._listID},getSelectedListItem:function(){var t=this.options.listItems,e=this._listID;return t&&e>=0?t[e]:null},hasInvalidMessage:function(){return!!this._validator&&this._validator.isMessageDisplayed()},validator:function(){return this._validator||null},text:function(t,i){return void 0===t?this._val():(this._type>0?(this._sTxt=1,1===this._type?this._setTxt(t,e(i)?5:1e3+i):this._setVal(t,!0),this._sTxt=0):(t&&(this._nullT=null),this._text=t,this._repaint()),1===this._fix&&(this._old=this._instant(1,null,1)),this)},_df:function(t,i,n,r,o,s,a){var l=this.options.enableUTCDates;return i===-1?t&&l?new Date(t.getTime()+6e4*t.getTimezoneOffset()):t:t?e(r)?e(n)?0===i?l?t.getUTCFullYear():t.getFullYear():1===i?l?t.getUTCMonth():t.getMonth():2===i?l?t.getUTCDate():t.getDate():3===i?l?t.getUTCHours():t.getHours():4===i?l?t.getUTCMinutes():t.getMinutes():5===i?l?t.getUTCSeconds():t.getSeconds():l?t.getUTCMilliseconds():t.getMilliseconds():(0===i&&(l?t.setUTCFullYear(n):t.setFullYear(n)),1===i&&(l?t.setUTCMonth(n):t.setMonth(n)),2===i&&(l?t.setUTCDate(n):t.setDate(n)),3===i&&(l?t.setUTCHours(n):t.setHours(n)),4===i&&(l?t.setUTCMinutes(n):t.setMinutes(n)),5===i&&(l?t.setUTCSeconds(n):t.setSeconds(n)),void(6===i&&(l?t.setUTCMilliseconds(n):t.setMilliseconds(n)))):l?new Date(Date.UTC(t,i,n,r,o,s,a)):new Date(t,i,n,r,o,s,a):(t=new Date,l&&t.setUTCMinutes(t.getUTCMinutes()-t.getTimezoneOffset()),t)},value:function(t){return void 0===t?(t=this._getVal(),void 0===t?null:t):(this._setVal(t,!0),this._lastText=this._val(),this)},_getVal:function(t){var i=this.options,n=this._instant(t,1);return this._type>3&&e(n)?(n=i.nullValue,this._dataMode<=0?r(n):i.nullable||!e(n)?n:NaN):n},_set_val:function(t,e){this._fix=0,this._setVal(t,e),this._fix=1},_setVal:function(t,i){var n,o,s=this._type;if(this._field){if(this._box)t!==!0&&(t="true"===t),this._field[0].checked=t;else if(1===s)this._setTxt(r(t),this._dataMode);else if(2===s||3===s)e(t)||t.getTime||(t=i=this._toDate(t=t.toString(),this._dataMode<2)||this._toDate(t,!0)),i=t,e(t=this._limits(t))&&(t=i),this._txt=this._mask,this._isNull=e(t),this._isNull?t=this._df():this._toTxt(t,!0,"",!0),this._date=t,this.options.useLastGoodDate&&(this._goodD=t),this._text=this._focusTxt(this._fcs>1),this._repaint();else if(s>3){if(e(t,1)&&(t=null),t&&"number"==typeof t&&0!==this._fix&&(t*=this._prop(7)),n=this._toTxtNum(t=this._toNum(t,!0),2===this._fcs),o=this._prop(12),2===i&&o>0&&n.length>o)return;this._focTxt(n),this._text=n,this._value=t,this._repaint()}else this.text(r(t));1===this._fix&&s>0&&(this._old=this._instant(1,null,1)),n=this.options.value=this._getVal(),this._doClear(n),this._fixNull(),this._dtt(),this._fixList(n)}},_fixList:function(t){var i=-1,n=this.options.listItems,r=n?n.length:0;if(!(r<1||!this._fix||e(this._lastText))){if(!e(t)){for(;++i<r&&n[i]!==t;);i>=r&&(n=this._findItem(this._val(),-1),i=n?n.id:-1)}this._listSelect(i)}},_doClear:function(t){this._buttons&&this._buttons[3]&&this._butVis(!t||this._type<4&&!this.getValueByMode(0,t))},_vis:function(t){var e=this._element;return e.css("display",t?this.options.display:"none"),this._fixHeight(),this._doError(),this},_elemWidth:function(t,e){if(t&&e>1&&t[0]._wd!==e)return t[0]._wd=e,e=Math.max(1,e-n(t,1)),t.css("width",e),!0},_elemHeight:function(t,e,i){t&&e>1&&t[0]._ht!==e&&(t[0]._ht=e,e=Math.max(1,e-n(t)),t.css("height",e),i&&t.find("SPAN").css("marginTop",Math.floor((e-16)/2)))},_fixSize:function(){var t=this.options,e=this._element,i=e?e[0].offsetWidth:0,n=e?e[0].offsetHeight:0;(i||n)&&(this._oWidth!==i&&this._fixWidth(!this._oWidth&&!t.width),this._oHeight!==n&&this._fixHeight(!this._oHeight&&!t.height),this._oWidth=i,this._oHeight=n),this._doTimer()},_doTimer:function(){var t=this,e=t._timer1,i=t._heightOk&&!t._heightPerc&&t._widthOk&&!t._widthPerc;i&&e?(clearInterval(e),delete t._timer1):e||(t._timer1=setInterval(function(){t._fixSize()},200))},_fixHeight:function(t){if(!this._field||this._1e||this._heightOk&&!this._heightPerc)return 1;var e=this._field,i=this._element,r=4,o=this._td||t?0:Math.max(i[0].offsetHeight-n(i),0),s=this._buttons;if(o=o||e[0].offsetHeight,o>1){if(this._heightPerc&&o++,this._elemHeight(e,o),s)for(;r-- >0;)this._elemHeight(s[r],o,1);this._heightOk=1}this._doTimer()},_fixWidth:function(e){if(!this._field||this._1e||this._widthOk&&!this._widthPerc)return 1;var i,r,o,s=this._field,a=this._clearHide,l=this.options.buttonHidden,u=this._element,h=4,d=this._td||e?0:Math.max(u[0].offsetWidth-n(u,1),0),c=d,p=3,f=this._buttons;if(d=d||s[0].offsetWidth,d>0){if(f){for(e=this._td||e?Math.max(d,100):0,d=e||d,(this._widthPerc||this._td)&&d--;h-- >0;)o=f[h],o&&((0===h&&l||3===h&&a)&&o.show(),o[0]._w=i=o[0].offsetWidth,e&&!r&&(d-=i,r=e-=i),d-=i,d<p&&!e&&(c+=p-d,r=d=p),(0===h&&l||3===h&&a)&&o.hide());(e||r)&&u.css("width",e||c+p)}else e&&u[0].offsetWidth>d+4&&u.css("width",d);for(this._elemWidth(s,this._wF=d)&&this._listRemove(),h=i=f?Math.min(d,9):0;i-- >1&&h>3;)for(r=s[0].offsetTop,h=0;h<4;h++)if(f[h]&&Math.abs(f[h][0].offsetTop-r)>10){this._elemWidth(s,--this._wF);break}f&&(t.ig.util.isFF||t.ig.util.isIEOld)&&this._elemWidth(s,--this._wF),this._widthOk=1,this._butVis(a,l)}this._doTimer()},_butVis:function(t,i){var n,r=-1,o=this.options,s=this._wF,a=this._buttons,l=this._field;if(e(t)&&(n=1,t=this._clearHide),e(i)&&(n=1,i=o.buttonHidden),a&&(!n||t!==this._clearHide||i!==o.buttonHidden)){for(o.buttonHidden=i,this._clearHide=t;++r<2;)n=a[3*r],n&&(!r&&i||r&&t?(n.hide(),s+=n[0]._w):(n.show(),s-=n[0]._w));this._elemWidth(l,s)}},_width:function(t){var e=this._field,n=this._1e||this._td?e:this._element,r=this._buttons,o=r?4:0,s=i(t);if(e){if(this._widthOk)for(delete this._widthOk,delete this._widthPerc,n[0]._wd=null,e[0]._wd=null,n.css("width",""),e.css("width","");o-- >0;)r[o]&&(r[o][0]._wd=null,r[o].css("width",""));t&&(t.indexOf&&t.indexOf("px")<0&&t!==s.toString()?(n.css("width",t),this._widthPerc=!this._td&&t.indexOf("%")>0):this._elemWidth(n,s)),this._fixWidth(!t)}},_height:function(t){var e=this._field,n=this._1e||this._td?e:this._element,r=this._buttons,o=r?4:0,s=i(t);if(e){if(this._heightOk)for(delete this._heightOk,delete this._heightPerc,n[0]._ht=null,e[0]._ht=null,n.css("height",""),e.css("height","");o-- >0;)r[o]&&(r[o][0]._ht=null,r[o].css("height",""));t&&(t.indexOf&&t.indexOf("px")<0&&t!==s.toString()?(n.css("height",t),this._heightPerc=!this._td&&t.indexOf("%")>0):this._elemHeight(n,s)),this._fixHeight(!t)}},_spin:function(t){var i,n,r,o=this._nullT,s=this.options;if(!this._box&&this._field){if(this._fcs<1&&s.focusOnSpin&&(this.setFocus(),this._fcs<1))return void(this._focSpin=t);if(!this._fire(14,null,t)){if(o&&(this._nullT=null,this._fixCss()),r=this._val(),this.spin(t),this._val()===r){if(o)return this._nullT=o,void this._fixCss();this._type>3&&s.spinWrapAround&&!e(this._prop(10))&&!e(this._prop(11))&&(i=this._sel0,n=this._prop(7),n||(n=1),t=this._limits(this._getVal(!0)*n,!0),this._setVal(t/n,this._fcs),this.select(i))}this._val()!==r&&this._fire(12)}}},_item:function(t){return t&&!e(t.text)&&(t=t.text),"function"==typeof t&&(t=t()),e(t)?"":t},_spinList:function(t){var e,i,n,r,o,s=this.options;if(o=s.listItems,r=o?o.length:0,r<1)return 1;if(t=t<0?1:-1,i=this._listID+t,n=s.spinWrapAround,i>=r){if(!n)return;i=0}if(i<0){if(!n)return;i=r-1}if(e=this._instant(1,null,1),e===this._item(o[i])){if((i+=t)<0){if(!n)return;i=r-1}if(i>=r){if(!n)return;i=0}}e=this._item(o[i]),this._listSelect(i)||(delete this._lastY,this._set_val(e))},_doKey:function(t,i,n,r,o,s,l,u){var h,d,c,p,f,g,m,v,_,y,b=this._prop(12),w=this._type;if(w>0&&w<4){if(_=this._mask,r=_?_.length:0,(r<1||t<7||t>8&&t<32)&&(t=0),l)return void(0!==t&&(_.indexOf(i)>0||this._optVal("am").indexOf(i)>=0||this._optVal("pm").indexOf(i)>=0||t>=48&&t<=57)||a(u));if(0===t)return;if(n=this._txt,o!==s){for(;--s>=o;)n=n.substring(0,s)+_.charAt(s)+n.substring(s+1);s++}else if(7===t){for(;s<r&&_.charCodeAt(s)>=22;)s++;if(s>=r)return;n=n.substring(0,s)+_.charAt(s)+n.substring(s+1),s++}else if(8===t){for(;s>0&&_.charCodeAt(s-1)>=22;)s--;if(s--<1)return;n=n.substring(0,s)+_.charAt(s)+n.substring(s+1)}if(t>8&&s<r){if(s>=r)return;if((o=this._maskKey(t,i,n,r,s,_))>=0)n=this._txt,s=o;else{if(o===-1)return;for(;_.charCodeAt(s)>=22;)if(++s>=r)return;if(e(i=this._maskFilter(_.charCodeAt(s),i,0)))return;n=n.substring(0,s)+i+n.substring(s+1),s++}}return this._txt=n,this._selKey=s,n=this._focusTxt(!0),this.select(this._selKey,0,n),this._selKey=99999,void this._listSelect(-1)}if(w>3){if(m=this._prop(4),v=this._isMinus(t),c=t>=48&&t<=57,v&&0===o&&(g=this._prop(10),!e(g)&&g>=0))return a(u);if(l)return void(t<9||v||c||t===m.charCodeAt(0)||a(u));if(o!==s)n=n.substring(0,o)+n.substring(s),s=o,r=n.length;else if(7===t){if(s++>=r||r<1)return}else if(8===t&&o--<1)return;if(t<9||0===b||b>r){if(f=t===m.charCodeAt(0),d=n.indexOf(m),h=this._prop(8),p=c||0===o&&v||f&&h>0,y=this._ePow(),_=y?n.indexOf(y):-1,y&&o>0&&((69===t||101===t)&&_<0&&(p=i=y),f&&_>=0&&_<o&&(p=!1)),_<0&&c&&d>=0&&o>d&&d+h<r&&(o===r?p=!1:n=n.substring(0,--r)),o>0&&v&&"E"===n.charAt(o-1).toUpperCase()&&n.substring(o-1).indexOf("-")<0&&(p=!0),r>0&&0===o&&this._isMinus(n.charCodeAt(0))&&(p=!1),t>8&&!p)return;if(f){if(d>=0){if(d===o||d===o-1)return;r--,d<o&&(o=--s),n=n.substring(0,d)+n.substring(d+1)}_<0&&o+h<r&&(n=n.substring(0,r=o+h))}t>8&&s>=r?n+=i:n=n.substring(0,o)+i+n.substring(s)}else t=0;return this.select(t>10?s+1:o,0,n),
void this._listSelect(-1)}if(o!==s)n=n.substring(0,o)+n.substring(s),s=o,r=n.length;else if(7===t){if(s++>=r||0===r)return;this._ta&&13===n.charCodeAt(s-1)&&10===n.charCodeAt(s)&&s++}else if(8===t){if(o--<1)return;this._ta&&10===n.charCodeAt(o)&&13===n.charCodeAt(o-1)&&o--}t<9||0===b||b>r?t>8&&s>=r?n+=i:n=n.substring(0,o)+i+n.substring(s):t=0,this._matchList(n,t,t>10?s+1:o)},_matchList:function(t,e,i){var n;return!this._field||this._type>0||e<0&&!this.options.listAutoComplete?t:(n=this._findItem(t,e,i))?(this._listSelect(n.id),t=n.text,e>=0?this.select(n.sel,0,t):this._field[0].value=t,t):null},_findItem:function(t,e,i){var n=this.options;return this._find(t,e,n.listMatchOnly,n.listMatchIgnoreCase,!0,n.listMatchContains,i)},_find:function(t,i,n,r,o,s,a){var l,u,h,d=null,c=-1,p=0,f=0,g=-1,m=t,v=t.length,_=this.options.listItems,y=i>=0&&n;if(v>0&&_&&(y||i<0)){for(h=y=-1,u=r,u&&(m=m.toUpperCase());++c<_.length;)if(!e(l=this._item(_[c])))if(l=l.toString(),u&&(l=l.toUpperCase()),0===(f=l.indexOf(m))){if(l===m){y=c;break}p++,h<0&&(h=c)}else f>0&&s&&(d||(d={i:c,shift:f}),p++);if(f=0,h<0&&d&&(h=d.i,f=d.shift),y<0){if(!o)return null;if(i<0)y=h;else if(h<0)return i>10&&v===a?null:this._find(t.substring(0,--v),i,n,r,s,a);i>10&&1===p?y=h:i>=0&&(t=this._item(_[h]).toString().substring(0,v+f))}y>=0&&(t=this._item(_[y]).toString(),y===h&&(a=t.length)),g=y>=0?y:h}return{text:t,id:g,sel:(e(a,1)?v:a)+f}},_undo:function(t){var e,i=this._old;if(t){if(!this._canRedo)return;i=this._redo,this._canRedo=!1}else{if(e=this._instant(1,null,1),e===i)return;this._canRedo=!0,this._redo=e}this._set_val(i),this._text=this._focusTxt(!1),this._doError(1,this._evt)},_doKey0:function(i,n){var r,o,s,l,u,h=this._validator,d=this,c=this._text,p=this._val(),f=this._key,g=this.options;if(!(this.options.excelNavigationMode&&[38,40].indexOf(f)>-1)&&this._field){if(!i)return void(c!==p&&this.paste(p));if((1!==n||192!==f||!i.altKey||i.ctrlKey)&&(1===n&&this._bad&&229===this._k0&&(this._bad=0),this._type>0&&t.ig.util.isOpera&&f>41&&f<48&&(0===n?this._noKey=f:this._noKey===f&&a(i)),1!==n?this._noPaste=2-n:2!==this._noPaste&&(this._noPaste=1),9===f&&(this._k0=2===n?0:9,0===n&&h&&h._lbl&&h._onTab(i)),0!==f&&(114!==f||1===n)&&9!==f)){if(this._bad>2&&(0===n&&(this._bad=2),2===n&&(this._bad-=3)),0===n&&229===f&&(c!==p?this._bad=2:this._bad+=3),13===f&&229===this._k0&&1===this._type&&(this._txt=this._setTxt(this._val(),5,!0)),0===n&&i.ctrlKey&&!i.altKey&&(90===f||89===f))return void this._undo(89===f);if(!(2===this._bad||1===n&&i.ctrlKey)){if(0===n&&!i.ctrlKey&&!i.altKey&&!i.shiftKey&&this._listKey(i,f))return this._kBad=f,a(i);if(!this._box){if(1===n&&f===this._kBad)return a(i);if(this._kBad=null,0===n&&(i.ctrlKey&&(86===f||88===f)||i.shiftKey&&45===f)&&setTimeout(function(){d._doKey0()},1),1!==n&&(i.ctrlKey||i.altKey||17===f))return void(i.altKey?this._k0=-1:c!==p&&(86===f||17===f&&2===n)?(this.paste(p),this._noPaste=1):17===f&&this.getSelectedText());if(0===n&&(this._k0=f),2===n&&(this._k0>0&&(this._k0=0),this._spinField=-1),s=p.length,h=0!==this._bad,f<=46)switch(f){case 8:case 46:this._k0===f&&1===n&&(n=2),0===n&&(n=1,46===f&&(f=7));break;case 27:return a(i),void(0===n?(this._undo(),this._escFix||(this._escTxt=this._field[0].value)):(this._escFix&&this._escTxt!==p&&!e(this._escTxt)&&(this._field[0].value=this._escTxt,delete this._escTxt),1===n?this._escFix=1:delete this._escFix));case 13:return void((g.hideEnterKey&&(!this._ta||!i.shiftKey)||this._type>0&&this._ta&&i.shiftKey)&&a(i));case 38:case 40:if(this._ta)break;0!==n||i.shiftKey||this._spin(38===f?g.spinDelta:-g.spinDelta),this._k0===f&&(n=2)}if((1!==n||f!==this._k0||!(f<48&&f>9&&32!==f||f>90))&&(h||(0!==n&&[9,38,40].indexOf(f)===-1&&a(i),1===n&&this._k0===-1&&(this._k0=0,this.getSelectedText()),(0===n||f<9)&&this.getSelectedText()),1===n&&f>6)){if(f>31){if(this._fire(1,i))return void(h&&a(i));if(f=this._key,l=g.excludeKeys,u=g.includeKeys,g.toUpper||g.toLower||l||u){if(r=String.fromCharCode(f),o=r.toUpperCase(),l&&l.toUpperCase().indexOf(o)>=0||u&&u.toUpperCase().indexOf(o)<0)return a(i);g.toUpper?f=o.charCodeAt(0):g.toLower&&(f=r.toLowerCase().charCodeAt(0)),this._key=f}}this._doKey(f,f<10?"":String.fromCharCode(f),p,s,this._sel0,this._sel1,h,i)}}}}}},paste:function(t,i){var n,r=this.options;return this._nullT&&!i||1===this._noPaste?this:(n=this._prop(12),n>0&&n<t.length&&(t=t.substring(0,n)),n=r.includeKeys,n&&(n=n.toUpperCase().replace(/\[/gm,"\\[").replace(/\]/gm,"\\]").replace(/\^/gm,"\\^").replace(/\-/gm,"\\-"),t=t.replace(new RegExp("[^"+n+"]","igm"),"")),n=r.excludeKeys,n&&(n=n.toUpperCase().replace(/\[/gm,"\\[").replace(/\]/gm,"\\]").replace(/\^/gm,"\\^").replace(/\-/gm,"\\-"),t=t.replace(new RegExp("["+n+"]","igm"),"")),r.toUpper?t=t.toUpperCase():r.toLower&&(t=t.toLowerCase()),e(t=this._matchList(t,0))&&(t=this._text),this._text="",this._fix=0,this.text(t,i?null:this._sel0),this._fix=1,this._fire(12),this)},_touch:function(t){var e,i=this._ddList;if(i&&i.igScroll){if(e=i.data("igScroll"),!t)return e?e.barY:i.igScroll({direction:"y",yThumb:"draggable",yScroller:this._ddScroll,cancelStart:"ms"}).attr("data-scroll","y");e&&e[t](!0)}},_fixCss:function(){var t,e,i,n,r=this._element,o=this._hoverOld,s=this._hover,a=this._mouseDown,l=this._fcs>0,u=this.options,h=this._ddList,d=this._css,c="";if(this._field){if(i=u.disabled,n=this.css,l?r.addClass(n.focus):r.removeClass(n.focus),s?r.addClass(n.hover):r.removeClass(n.hover),this._hoverOld=s,o&&o!==s||(o=0),o>99){if(!h)return;this._listCss(h,o,n.listItemHover)}for(s>99&&!this._touch()&&this._listCss(h,s,n.listItemHover,1),i&&(d+=" "+n.disabled),this._nullT&&(d+=" "+n.nullValue),this._type>3&&n.negative&&!this._nullT&&this._instant(1)<0&&(d+=" "+n.negative),this._setCss(this._field,d),e=this._buttons?4:0;e-- >0;)t=this._buttons[e],t&&(n=t[0]._css,d=n[0],i&&(d+=" "+n[3]),s===e+1&&(d+=" "+n[1]),l&&(d+=" "+this.css.buttonFocus),a===e+1&&(d+=" "+n[2]),this._setCss(t,d+c),d=n[4],i&&(d+=" "+n[7]),a===e+1?d+=" "+n[6]:s===e+1?d+=" "+n[5]:(s||l)&&(d+=" "+this.css.buttonsImageStateOverride),this._setCss(t.find("SPAN"),d))}},_setCss:function(t,e){var i=t[0].className,n=t[0]._ig_oldCss;t[0]._ig_oldCss=e,e!==n&&(n&&i&&n!==i&&i.indexOf(n)>=0&&(i=i.replace(n,""),e+=(" "!==i.charAt(0)?" ":"")+i),t[0].className=e)},_enterTxt:function(){var t,i=this._type;return 1===i?this._getTxt(this._dataMode,""):2===i||3===i?(t=this._toDate(this._val(),!0),e(t)?"":this._toTxt(t,!0,"")):i>3?this._toTxtNum(null,!0,this._val(),"-","."):this._val()},_update:function(){var t,i=this._old;this._lock||(this._lock=!0,this._text=this._focusTxt(!1,2===this._fcs||this._hadFocus?"":null),t=this._instant(1,null,1),e(t)||e(i)||t.getTime&&t.getTime()===i.getTime()&&(t=i),t===i&&2!==this._bad||(this._val10=t,this._fire(10,null,t,i)?(this._set_val(i),this._text=this._focusTxt(!1)):(t!==this._val10&&this._setVal(this._val10),this._repaint(),this.options.value=t=this._instant(1,null,1),this._fire(11,null,t,i),13!==this._k0&&(this._old=t),this._dtt())),this._lock=!1)},_dropTrigger:function(t,e){var i,n,r,s=this.options,a=this._ddOn;if(r=s.dropDownTriggers,!(0===e||!r||s.readOnly&&!s.dropDownOnReadOnly||e===-2&&r.indexOf("button")<0||e===-1&&r.indexOf("focus")<0||38===e&&!a||40===e&&a||e>0&&(n=38===e||40===e?"arrow":String.fromCharCode(e),t.ctrlKey?n="ctrl+"+n:t.altKey?n="alt+"+n:t.shiftKey&&(n="shift+"+n),i=n.length,n=r.indexOf(n),n<0||n>0&&","!==r.charAt(n-1)||n+i<r.length&&","!==r.charAt(n+i))))return!a||e!==-1||o()-a>900?this._doDrop(1,t):void 0},_doDP:function(e,n){var r,l,u,h,d,c=this.options;if(this._field&&3===this._type){if(!this._dp&&1!==e)return 1;if(n&&(this._set_val(n),this._fire(12)),u=t.datepicker,h=this._field[0],d=h.id,u._old_selectDay||(u._old_selectDay=u._selectDay,u._old_parseDate=u.parseDate,u._old_updateDatepicker=u._updateDatepicker,u._old_checkOffset=u._checkOffset,u.dpDiv.bind("mousedown",function(e){var i=t.datepicker._ig_dp;i&&(e.target&&"SELECT"===e.target.nodeName?(i._ddmd=o(),i._ddnf=t.ig.util.isFF||i.__touch):a(e))}),u._selectDay=function(e,n,r,o){var s=this._ig_dp;return s?(e=t("a",o).html()||o.firstChild.innerHTML,s._doDrop(0,{type:"mousedown"},[r,n,i(e)],1),void s._xyCheck(!0)):this._old_selectDay(e,n,r,o)},u._updateDatepicker=function(t){this._ig_dp?this.dpDiv.addClass(this._ig_css=this._ig_dp.css.dropDown):this._ig_css&&(this.dpDiv.removeClass(this._ig_css),delete this._ig_css),this._old_updateDatepicker(t),this._ig_dp&&this.dpDiv.find("*").attr("unselectable","on")},u.parseDate=function(t,e,i){return this._ig_dp?this._ig_dp._df(this._ig_dp._getVal(1),-1):this._old_parseDate(t,e,i)},u._checkOffset=function(t,e,i){var n,r=this._ig_dp;return e=this._old_checkOffset(t,e,i),r&&(e.left-=r._leftShift(),s(null,e),n=s(r._swap?r._field:r._element),r._xy={x:n.left,y:n.top,i:setInterval(function(){r._xyCheck()},300)}),e}),1===e){if(d.length<1){for(d=this.element[0].id+"_ig_dp_id";document.getElementById(d);)d+=Math.floor(10*Math.random());h.id=d}this._dp||(r=t.extend(c.datepickerOptions,this._dpRegion())||{},l=c.animationShowDuration,l&&(r.duration=l),l=c.animationShowEffect,l&&(r.showAnim=l),r.showOn="",r.onClose=function(){var t=u._ig_dp;t&&(t._fcs&&t._ddnf&&t._ddnf.type&&t._onEvt(t._ddnf,9),t._dpClosed=1,t._doDrop(),delete t._dpClosed,delete u._ig_dp)},this._dp=t(h).datepicker(r)),r=t.data(h,"datepicker").settings,r.minDate=r.minDate||c.minValue,r.maxDate=r.maxDate||c.maxValue,t.ig.util.isOpera&&(r.changeYear=!1),u._ig_dp=this,this._css+=" "+t.datepicker.markerClassName,this._fcs<1&&this.setFocus(-1),u._showDatepicker(h)}else 2===e?u._doKeyUp({target:h}):(this._xyCheck(!0),this._dpClosed||u._hideDatepicker(h),3===e&&u._destroyDatepicker(h));return 1}},_fixBC:function(t,e){t=t.css("backgroundColor"),e.css("backgroundColor",!t||"transparent"===t||t.replace(/ /g,"").indexOf("(0,0,0,0")>0?"white":t)},_xyCheck:function(t){var e=this._xy,i=this._swap?this._field:this._element;e&&(i&&(i=s(i),(Math.abs(i.left-e.x)>2||Math.abs(i.top-e.y)>2)&&(t=!0)),!t&&i&&this._ddOn||(delete this._xy,clearInterval(e.i),this._doDrop()))},_vAct:function(e){return t.ui.igValidator&&t.ui.igValidator._act(this,e)},_doDrop:function(e,n,a,l){var u,h,d,c,p,f,g,m,v,_,y,b,w,x,C,T,S,k,P,E,I,D,A,$,O,M,L=this._ddParent,R=-1,N=a,F=this,B=this.options;if(O=B.listItems,e=1===e&&!this._ddOn,(e||this._ddOn||l)&&F._field&&!F._vAct(e?"drop":"hide")){if($=O?O.length:0,3===this._type)a&&!isNaN(a[2])&&(N=this._getVal(1),N=N?this._df(a[0],a[1],a[2],this._df(N,3),this._df(N,4),this._df(N,5),this._df(N,6)):this._df(a[0],a[1],a[2],0,0,0,0));else{if($<1)return;a&&(N=this._item(O[a-100]))}if(!this._fire(e?16:17,n,e?null:{value:N})||!n){if(this._ddOn=e?o():null,3===this._type)return this._doDP(e?1:0,N);if(I=F._ddList,D=F._element,A=!B.listDropDownAsChild||D===F._field,!I){for(I=F._ddList=t("<div/>").addClass(F.css.dropDown+" "+F.css.list).scroll(function(){F._lazy()}),I[0]._id=99,F._ddSel=-1,F._ddLen=$,I.css({position:"absolute",visibility:"hidden"}),(E=B.listWidth)<5&&(E=D.outerWidth())<5&&(E=100),A?(F._ddParent=L=B.theme?t("<span/>").addClass(B.theme).css("position","absolute").append(I):I,MSApp.execUnsafeLocalFunction(function(){L.css({left:"0px",top:"0px"}).appendTo(t("body"))}),I.bind(F._mEvts)):F._ddParent=L=I.prependTo(D),u=I.css("borderRightColor"),y=Math.max(1,B.listColumns),b=F._rows=Math.ceil($/y),w=I.outerWidth()-I.width(),E=Math.ceil((E-w)/y-1),F._listLazy=[],_=0;_<y;_++)for(v=0;v<b&&!(++R>=$);v++)x='<div style="width:'+E+"px;position:absolute;white-space:nowrap;overflow:hidden;",N=F._item(O[R]),"string"!=typeof N&&(N=F._type>=4&&"number"==typeof N?F._toTxtNum(N):N&&2===F._type&&N.getMonth?F._toTxt(N):r(N)),S=O[R],S=S&&"function"==typeof S.getHtml?S.getHtml()||N:N,R>0&&(x+="height:"+c+"px;left:"+_*h+"px;top:"+v*d+"px;"),_+1<y&&(x+="border-right-color:"+u),x+='" title="'+F._item(O[R])+'" _id="'+(R+100)+'" class="'+F.css.listItem,_+1<y&&(x+=" "+F.css.listItemColumnBorder),x+='">'+(""===S?"&nbsp;":S)+"</div>",0===R||R+1===$?(MSApp.execUnsafeLocalFunction(function(){x=t(x).appendTo(I)}),x[0]._id=R+100):F._listLazy[R]=x,0===R&&((c=x.height())<5&&(c=18),(w=x.outerWidth()-x.width())>0&&(E-=w,x.css("width",E)),F._ddWidth=(h=x.outerWidth()+1)*y,F._ddHeight=(F._ddHeight0=d=x.outerHeight())*b,F._fixBC(x,I),C=Math.max(0,B.listMaxHeight),C>0&&F._ddHeight>C?(F._ddHeight=C,C=Math.ceil(16/y),x.css("width",E-=C),h-=C):C=0,I.css("overflow",C>0?"auto":"hidden"),x.css({height:c,left:_*h,top:v*d}));F._page=Math.max(2,Math.floor(Math.min(F._ddHeight/c),$/3)-1)}return a&&(F._listSelect(a-100)||(F._set_val(N=this._item(O[a-100])),F._fire(12))),e?F._lastY&&(I[0].scrollTop=F._lastY):F._lastY=I[0].scrollTop,F._listSelect(null,1),N=e?B.animationShowDuration:B.animationHideDuration,!N||"number"==typeof N&&N<5?N=null:(P=e?B.animationShowEffect:B.animationHideEffect,t.effects&&t.effects[P]||(e||"number"==typeof N||(N=450),P=null)),M=N&&!P?0:F._ddHeight,T=function(){e?(I.css("filter",""),!a&&F._lastY?I[0].scrollTop=F._lastY:F._listSelect(),!F._ddFixW&&(R=I[0].scrollWidth-I[0].clientWidth)>0&&R&&R<4&&I.css("width",F._ddWidth+=F._ddFixW=R+1),F._touch()):(I.css({display:"none",visibility:"hidden"}),F._touch("_hide"))},e?(this._lazy(),F._fcs<1&&F.setFocus(),f=999,m=document.body,S=document.documentElement,(R=window.innerHeight)>50&&R?f=R:(R=S.clientHeight)>50&&R?f=R:(R=m.clientHeight)>50&&R&&(f=R),g=Math.max(window.pageYOffset||0,Math.max(m.scrollTop,S.scrollTop)),S=F._swap?F._field:D,k=s(S),F._xy=A?{x:k.left,y:k.top}:null,k.h=S[0].offsetHeight,p=k.top+k.h+F._ddHeight-g-f,p>0&&g-k.top+F._ddHeight<p?(p=F._ddHeight+2,k.top-p<g&&(p=Math.max(k.top-g,2)),k.top+=k.h=-p,M=F._ddHeight,D.addClass(F.css.noTopCorners),I.addClass(F.css.noBottomCorners)):(k.top+=k.h,D.addClass(F.css.noBottomCorners),I.addClass(F.css.noTopCorners)),I.css({opacity:N&&!P?0:1,height:M,width:Math.floor(F._ddWidth/(N&&!P?2:1)),display:"",visibility:"visible"}),A?(F._swap&&(k.left-=F._leftShift()),k.left-=i(D.css("borderLeftWidth")),L.css({left:k.left,top:k.top}),F._xy.i=setInterval(function(){F._xyCheck()},300)):(R=F._left?"Right":"Left",L.css("margin"+R,-i(D.css("border"+R+"Width"))+"px"),L.css("marginTop",k.h),p=s(L),(p=p.left-k.left)>30&&p<D[0].offsetWidth+10&&L.css("marginLeft",-p+"px")),N?P?I.show(P,{},N,T):I.animate({opacity:1,height:F._ddHeight,width:F._ddWidth},N,null,T):T()):(F._xyCheck(!0),D.removeClass(F.css.noTopCorners).removeClass(F.css.noBottomCorners),I.removeClass(F.css.noBottomCorners).removeClass(F.css.noTopCorners),N?P?I.hide(P,{},N,T):I.animate({opacity:.6},Math.floor(.34*N)).animate({opacity:0,height:M,width:Math.floor(F._ddWidth/2)},Math.floor(.66*N),null,T):T()),!0}}},_lazy:function(e){var i,n,r=Math.max(1,this.options.listColumns),o=this._listLazy,s=this._ddOn?this._ddList:null;if(s){if(e)return void(o[e]&&MSApp.execUnsafeLocalFunction(function(){t(o[e]).appendTo(s)[0]._id=e+100,delete o[e]}));for(i=Math.floor(s[0].scrollTop/this._ddHeight0);r-- >0;)for(e=0;e<this._page+8;e++)o[n=this._rows*r+i+e]&&MSApp.execUnsafeLocalFunction(function(){t(o[n]).appendTo(s)[0]._id=n+100,delete o[n]})}},_listCss:function(e,i,n,r){e=t(e.children("[_id="+i+"]")),r?e.addClass(n):e.removeClass(n)},_listSelect:function(i,n){var r,o,s,a=null,l=2!==n&&(n||this._ddOn)?this._ddList:null,u=this.options;if(u.listItems){if(!e(i)&&this._listID!==i){if(this._fire(18,null,a={index:i,oldIndex:this._listID,item:u.listItems[i]}))return 1;this._listID=i}if(i=this._listID,l){if(n&&i<0&&!e(n=this._findItem(this.text(),-1))&&i!==n.id){if(this._fire(18,null,a={index:n.id,oldIndex:i,item:u.listItems[n.id]}))return 1;this._listID=i=n.id}s=this._ddSel,s!==i&&(this._lazy(i),this._listCss(l,s+100,this.css.listItemSelected),this._listCss(l,(s=this._ddSel=i)+100,this.css.listItemSelected,1)),s>=0&&(r=s%this._rows*this._ddHeight0,o=l[0].scrollTop,r>o&&(r+=this._ddHeight0-this._ddHeight,r<o&&(r=-9)),r!==-9&&(t.ig.util.isSafari&&r>20&&l[0].scrollTop===r&&!n&&(l[0].scrollTop=r-1),l[0].scrollTop=r))}a&&this._fire(19,null,a)}},_listKey:function(e,i){var n,r,o=this._ddOn?this._ddList:null,s=this._listID,a=t.ui.keyCode;if(o){if(i===a.ENTER||i===a.SPACE||i===a.ESCAPE)return this._doDrop(0,e,i===a.ESCAPE?null:s+100),!0;if(!(i<33||i>40)){if(r=this._ddLen-1,(n=s)<0&&(n=-1e3),i===a.DOWN)n++;else if(i===a.UP)n--;else if(i===a.PAGE_DOWN)n+=this._page;else if(i===a.PAGE_UP)n-=this._page;else if(i===a.HOME)n=0;else if(i===a.END)n=r;else if(i===a.RIGHT)(n+=this._rows)>r&&(n=s);else{if(i!==a.LEFT)return;(n-=this._rows)<0&&(n=s)}return this._listSelect(Math.max(0,Math.min(n,r))),!0}}},_listChange:function(t,i,n){var r,o,s,a=this.options.listItems;if(r=a?a.length:0,s=o=t?t.length:0,i=e(i)||i<0?-1:i,n<2){if(r<1)return this;if(n>0&&i<0)if(null===t)i=r-1;else for(;++i<r&&a[i]!==t;);i<0?a.length=0:i<r&&a.splice(i,1)}else if(a)for(;s-- >0;)i>=r||i<0?a.push(t[o-s-1]):0===i?a.unshift(t[s]):a.splice(i,0,t[s]);else this.options.listItems=t;return this._listRemove(),this},_listRemove:function(){this._ddList&&(this._touch("destroy"),this._element.removeClass(this.css.noTopCorners).removeClass(this.css.noBottomCorners),this._ddList.unbind(),this._ddParent.remove(),this._ddOn=this._ddList=this._ddParent=this._listLazy=null,this._listID=-1)},_initValidator:function(t,e){if(this._field){var i=this._validator,n=this.options,r=n.validatorOptions;if(t||!r||!this.element.igValidator)return void(i&&(i.destroy(),delete this._validator));r.ctl=this,r.required=n.required=n.required||!e&&r.required,this._field.igValidator(r)}},_doError:function(t,i,n){var r=this._validator;if(r&&this._field){if(!e(n))return 1!==r._doError(n,null,t);t?(r._evt(i,null,2===t),r._lbl&&(r._lbl._old={t:o(),val:this._val(),sel0:this._sel0,sel1:this._sel1,lastTxt:this._lastText,last:this._last,txt:this._text})):r.hide(1)}},_doScrl:function(e,i){var n,r,o=t.ig.util.isFF&&!this._dp,s=e.clientWidth,a=e.scrollWidth,l=i.length,u=!1,h=this._sel0;if(this._field&&1===this._tr&&!(l<4)){if(n=a/l*1.1,l-=h,this._ta){if(e.clientHeight+2>(a=e.scrollHeight))return;if(i=i.split("\n"),15*l<s&&(o||15*i[i.length-1].length>s))return void(e.scrollTop=a);if(!o)return}else if(15*h<s)return;if(!o)return void(a>s+2&&(l*n*1.3<s?e.scrollLeft=a:h*n>s+e.scrollLeft&&(e.scrollLeft=Math.floor(h*n-s-3))));if(!(this._bad>2)){this._scrl=1;try{n=e.maxLength,r=this._mask,n>0&&(e.maxLength=Math.max(n,r?r.length:0)+2),r=document.createEvent("KeyboardEvent"),r.initKeyEvent("keypress",!u,!u,null,u,u,u,u,0,32),e.dispatchEvent(r),r=document.createEvent("KeyboardEvent"),r.initKeyEvent("keypress",!u,!u,null,u,u,u,u,8,0),e.dispatchEvent(r),n>0&&(e.maxLength=n)}catch(t){}delete this._scrl}}},_onEvt:function(t,i){var n,r,o=this._field,s=this;if(o=o?o[0]:null,o&&!s._scrl)if(s._evt=t,11!==i)s._doEvt(t,i,o),delete s._evt;else{n=o.value;try{s._nullT&&t&&"drop"===t.type&&!e(r=t.originalEvent.dataTransfer)&&(r=r.getData("Text"))}catch(t){r=null}s._pasting=1,setTimeout(function(){if(!r){if(!s._field)return;r=o.value}n!==r&&s.paste(r,1),delete s._pasting},0)}},_doEvt:function(i,n,r){var s,l,u,h,d,c,p,f=null,g=0,m=this,v=this.options;if(m._noWidth&&m._fixWidth(),i&&!v.disabled){if(10===n)return f=i.wheelDelta||i.detail,void(f&&(a(i),m._spin(f>0?v.spinDelta:-v.spinDelta)));if(26===n)return void(m._msOver=i.originalEvent.pointerType);if(2===m._msOver&&6===n)return void delete m._msOver;for(s=p=i.target;s&&g++<5&&e(f=s._id);)s=s.parentNode;if(7===n)return m._hover=m._mouseDown=0,m._fixCss(),void m._fire(n,i,f);if(f){if(6===n&&(f>0&&!p.unselectable&&(p.unselectable="on"),s=r.value,(s===m._lastText||m._pasting)&&(s=null),!m._fcs&&s&&m._nullT&&(s!==v.nullText&&m._fixNull(),s=null),s&&m.paste(s,1)),f>4&&f<9&&(f-=4),0===n&&0===m._fcs&&m._onEvt({target:p,type:"focus"},8),e(m._evt0Spin1)&&!m._box){try{t.ig.util.isIE&&!m._ta||e(r.selectionStart)||(m._tr=1)}catch(t){}1!==m._tr&&(m._tr=r.createTextRange?r.createTextRange():null),m._bad=e(m._tr)?1:0}if(m._evt0Spin1=0,5===n&&2===m._fcs&&1===i.button&&m.getSelectedText(),c=o(),n<3&&(m._key=g=i.keyCode||i.which||0,m._time=c),1!==n&&n<8&&m._fire(n,i,f))return void(n<4&&a(i));if(n<3){if(0===n&&(2===m._fcs||v.dropDownOnReadOnly)&&m._dropTrigger(i,g))return;if(1===m._fcs&&(i.shiftKey||1===n||!(v.spinOnReadOnly||v.dropDownOnReadOnly&&m._ddOn)||g<9||g>40))return;if(2===n&&0===m._k0&&g>0&&13!==g&&86!==g&&m._text!==m._val())return void(r.value=m._text)}if(3===n&&f>0&&(99===f&&(m._ddmd=c),a(i)),3===n&&m._mouseDown!==f&&(f>1&&f<4&&(m._stopTimer(1),v.readOnly&&!v.spinOnReadOnly||(d=2===f?v.spinDelta:-v.spinDelta,m._fcs<1&&v.focusOnSpin&&(m._evt0Spin1=1,m.setFocus()),m._spin(d),u=h=5,m._spinField=-1,m._timer=setInterval(function(){return m._mouseDown<2?m._stopTimer(1):void(--u<1&&(m._spin(d),u=--h>8?--h:h))},60))),m._hover=m._mouseDown=f,m._fixCss()),5!==n&&6!==n||m._hover===f||(m._hover=f,m._fixCss()),4===n&&m._mouseDown&&(1!==f&&4!==f||f!==m._mouseDown||m._fire(15,i)||(4===f?(m._onEvt(null,11),m._set_val(null),m.select(0)):m._dropTrigger(i,-2)),f>99&&m._doDrop(0,i,f),m._mouseDown=0,m._fixCss()),!(f>0)&&(l=m._focTime,4===n&&(l&&l+500>c&&m._select(),m._focTime=0),n<3&&m._doKey0(i,n),m._field)){if(s=m._val(),2===n&&(m._last=s,13===m._key&&t.ig.util.isFF&&m._text!==s&&(m.text(s),m._fire(12,i),m._update())),1===n&&m._keyMod&&(delete m._keyMod,m._doScrl(r,s)),n>=8){if(m._bad>2&&(m._bad=2),m._spinField=-1,l=8===n,l&&delete m._ddnf,l===m._fcs>0)return;if(!l&&c-m._ddmd<500)return void(m._ddnf?m._ddnf=i:m.setFocus(-1));if(m._noPaste=0,l||m._lastText===s||m.paste(s,1),!l&&m._type<2&&!s&&!v.nullable&&(s=m._old||(v.listItems?v.listItems[0]:""),s?(m._set_val(s),s=m._text=m._focusTxt(!1)):s=""),m._fcs=l?v.readOnly?1:2:0,m._vAct(l))return;return m._hadFocus=!l,f=m._validator,l?(m._k0=0,m._bad>1&&(m._bad=0),v.readOnly||(m._nullT&&(s=m._last=m._text=r.value=""),m._nullT=null,f=f&&f._lbl?f._lbl._old:null,f&&f.t+200>o()?(r.value=m._text=f.txt,m._lastText=f.lastTxt,m._last=f.last,m.select(f.sel0,f.sel1)):(s!==m._text&&(m.getSelectedText(),m.paste(s)),m._lastText=m._last=m._text=m._focusTxt(l,i))),m._focTime=c,m._dropTrigger(i,-1)):(f&&(m._doError(2,i),setTimeout(function(){m._fcs||m._doInvalid(i,9)||m._doError()},100)),m._doDrop(0,i),s=m._matchList(s,-1),m._canRedo=null,v.readOnly||(f=m._ta?v.maxLength||0:0,f>0&&s.length>f&&(s=s.substring(0,f)),m._last===s&&0===m._bad||(f=m._fix,m._fix=0,m._fcs=2,m.text(s),m._fcs=0,m._fix=f),m._update())),m._repaint(),m._fixCss(),l&&this._prop(13)<2&&(m.select(1e4*this._prop(13)),m._select()),m._hadFocus=!1,l&&m._focSpin&&m._spin(m._focSpin),m._focSpin=null,m._fire(n,i,-1),void(m._lastText=m._val())}n>3&&0===m._k0||m._nullT||s===m._text||(m._text=s,m._fire(12,i))}}}},_fire:function(t,e,i,n){if(this._field){var r,o=this.events,s=13===t||t>16?i:{};for(r in o)if(o.hasOwnProperty(r)&&o[r]===t)break;if(14===t&&(s.delta=i,s.value=this._instant(1,null,1)),12===t){if((s.oldText=this._lastText)===(i=this._val()))return;this._doError(1,e),this._doClear(i),s.text=this._lastText=this._text=i,this._fcs<2&&1!==this._evt0Spin1&&this._update(),this._doDP(2),this._type>3&&this._fixCss()}if(t<3?s.key=this._key:t<8&&(s.elementType=i===-1?"field":1===i||5===i?"button":2===i||6===i?"spinUpper":3===i||7===i?"spinLower":99===i?"dropDown":i>99?"item"+(i-100):"",s.id=i),10!==t&&11!==t||(s.value=i,s.oldValue=n),11===t&&2===this._fcs&&this._update(),s.owner=this,!this._trigger(r,e||this._evt,s))return!0;t<3&&(this._key=s.key),10===t&&(this._val10=s.value)}},_select:function(t){var e,i=this,n=this._field[0],r=this._prop(13);if(!(1!==this._tr||r>1)){if(!t)return void setTimeout(function(){try{i._select(1)}catch(t){}},0);e=n.value.length,0===r?e=0:r=r<0?0:e,r===n.selectionStart&&e===n.selectionEnd||this.select(r,e)}},select:function(t,i,n){var r,o,s=0,a=0,l=this._tr,u=2===this._fcs?this._field[0]:null;if(!u||u.offsetWidth<2||this._box)return this;e(n)?n=u.value:(i=t,u&&u.value!==n&&(this._keyMod=u.value=n)),o=n.length,e(i,1)&&(i=t,(e(t,1)||t<0)&&(t=0,i=o)),i>=o?i=o:i<t&&(i=t),t>i&&(t=i),this._sel0=t,this._sel1=i;try{if(1===l)return u.selectionStart=t,u.selectionEnd=i,this;if(!l)return t!==i&&u.select(),this;if(this._ta){for(r=i;r-- >0;)10===n.charCodeAt(r)&&(r<t&&s++,a++);t-=s,i-=a}i-=t,this._ta?l.moveToElementText(u):l.move("textedit",-1),l.move("character",t),i>0&&l.moveEnd("character",i),l.select()}catch(t){}return this},getSelectedText:function(){var t,i,n,r="",o=this._field[0],s=this._tr,a=this._sel0=this._sel1=0;if(e(s))return r;if(1===s)return(this._sel0=o.selectionStart)<(this._sel1=o.selectionEnd)&&(r=o.value.substring(this._sel0,this._sel1)),r;try{i=document.selection.createRange(),n=o.value,t=n.length,s=i.duplicate(),this._ta?s.moveToElementText(o):s.move("textedit",-1);try{for(;s.compareEndPoints("StartToStart",i)<0&&(s.moveStart("character",1),a++,this._ta&&10===n.charCodeAt(a)&&a++,!(a>t)););}catch(t){}r=i.text}catch(t){}return this._sel0=a,this._sel1=a+r.length,r},getSelection:function(t){return this.getSelectedText(),t?this._sel0:this._sel1},setFocus:function(t){var e=this;if(e._field)if(t===-1)try{e._field[0].focus()}catch(t){}else setTimeout(function(){e._fcs<1&&e.setFocus(-1)},t||0);return this},hasFocus:function(){return this._fcs>0},_jpn:function(t,e){if(e){if(12290===t||65294===t)return".";if(12289===t)return","}else if(!this._sTxt)return t;if(t>65295&&t<65306)t-=65248;else if(t>1631&&t<1642)t-=1584;else{if(!(t>1775&&t<1786))return e?null:t;t-=1728}return e?String.fromCharCode(t):t},_dtt:function(){var i,n,r,o=this._oldAttr.title,s=this.options,a=s.inputName;a&&(n=s._vsFormat,e(i=this._getVal(1),this._type>3)?i="":this._date?i=this._df(i,0)+"-"+(this._df(i,1)+1)+"-"+this._df(i,2)+" "+this._df(i,3)+":"+this._df(i,4)+":"+this._df(i,5)+"."+this._df(i,6):n&&this._type>3&&(i=i.toString().replace(".",n)),r=t('input[name="'+a+'"]'),r[0]!==this.element[0]&&(0===r.length&&MSApp.execUnsafeLocalFunction(function(){r=t('<input type="hidden" name="'+a+'" />').appendTo(this._element.parent())}),r.val(i))),!o||o.indexOf("{0}")<0||(""===(i=this._val())&&(i=this.options.nullText),this._element[0].title=this._field[0].title=this._field[0].alt=o.replace("{0}",i))},_stopTimer:function(t){this._timer&&clearInterval(this._timer),delete this._timer,!t&&this._timer1&&(clearInterval(this._timer1),delete this._timer1)},_maskFlag:function(t,e){switch(t){case">":return-1;case"<":return-2;case"&":t=1;break;case"C":t=2;break;case"A":t=7;break;case"a":t=8;break;case"L":t=13;break;case"?":t=14;break;case"0":return 19;case"9":return 20;case"#":return 21;default:return 0}return t+2*e},_maskFilter:function(t,e,i,n){var r,o;if(i>=e.length)return n;if(r=e.charCodeAt(i),o=Math.floor((t-1)/6),e=e.charAt(i),r<22)return n;if((1===o||3===o)&&r>100&&(r=this._jpn(r))<100&&(e=String.fromCharCode(r)),3===o)return 21===t&&("-"===e||"+"===e)||r>47&&r<58?e:n;if(1===o||2===o){if(1===o&&r>47&&r<58)return e;if(r<256&&e.toUpperCase()===e.toLowerCase())return n}return 0===(t=Math.floor((t-1)/2)%3)?e:2===t?e.toLowerCase():e.toUpperCase()},_getTxt:function(t,i,n,r){var o,s,a,l=this._selKey,u=this._mask,h="",d=!e(n),c=this.options;if(d||(n=0!==this._bad&&this._fcs>1?this._val():this._txt),d&&(d=1===this._type),e(n)||e(u))return h;for(s=u.length,l=this._fcs>1&&!r&&c.hideMaskOnFocus?l&&l<s?l-1:-1:s,o=0;o<s;o++)(a=u.charCodeAt(o))<22?o<n.length&&n.charCodeAt(o)>=22?(h+=n.charAt(o),o>l&&(l=o),d=!1):(t%3===2||t%3===1&&a%2===1)&&(h+=21===a&&""===i?c.padChar:i):t>=3&&(h+=u.charAt(o),o===l+1&&(this._selKey===o&&this._selKey++,l++));return l++<s&&(h=h.substring(0,l)),d?"":h},_setTxt:function(t,i,n){var r,o,s=0,a=-1,l=this._mask,u=this._mask;if(!e(t))for(;++a<l.length&&(i===1e3+s&&(i=this._dataMode),!(s>=t.length));)(o=l.charCodeAt(a))<22?(e(r=this._maskFilter(l.charCodeAt(a),t,s))||(u=u.substring(0,a)+r+u.substring(a+1)),s++):i>=3&&s++;return n?u:(this._txt=u,this._text=this._focusTxt(this._fcs>1," "),void this._repaint())},_setMask:function(t){var e,i,n,r=0,o=0,s="",a="",l=this._getTxt(0);for(n=0;n<t.length;n++){if(0!==(e=this._maskFlag(i=t.charAt(n),o))){if(e<0){o=o===-e?0:-e;continue}s+=i=String.fromCharCode(e),i=this._maskFilter(e,l,r++,i)}else s+="\\"===i&&n+1<t.length&&0!==this._maskFlag(t.charAt(n+1),0)?i=t.charAt(++n):i;a+=i}this._txt=a,this._mask=s},_getMask:function(t,e,i){var n,r,o=0,s=-1,a="";for(e||(e=""),i&&(e=e.replace("dddd","ddd").replace("ddd,","").replace("ddd ","").replace(" ddd","").replace("ddd","")),e=e.replace(/\x08/g," ").replace(/\x09/g," "),e=e.replace(/\\f/g,"").replace(/\\d/g,"").replace(/\\s/g,"").replace(/\\m/g,"").replace(/\\t/g,"").replace(/\\H/g,"").replace(/\\h/g,"").replace(/\\M/g,"\b").replace(/\\y/g,"\t"),e=e.replace("fff","24").replace("ff","23").replace("f","22"),e=e.replace("dddd",i?"":"21").replace("ddd",i?"":"20").replace("dd","09").replace("d","08").replace("ss","19").replace("s","18").replace("mm","17").replace("m","16"),e=e.replace("tt","15").replace("t","14").replace("HH","13").replace("H","12").replace("hh","11").replace("h","10"),e=e.replace("MMMM",i?"MM":"07").replace("MMM",i?"MM":"06").replace("MM","05").replace("M","04").replace("yyyy","03").replace("yy","02").replace("y","01"),e=e.replace(/\x01/g,"g").replace(/\x02/g,"d").replace(/\x03/g,"s").replace(/\x04/g,"m").replace(/\x05/g,"t").replace(/\x06/g,"H").replace(/\x07/g,"h").replace(/\x08/g,"M").replace(/\x09/g,"y"),r=0;r<e.length;r++)if(n=e.charCodeAt(r),n<48||n>57)if(!i&&"\\"===(s=e.charAt(r))&&r+1<e.length){if("\\"===(n=e.charAt(++r)))continue;"0"!==n&&"9"!==n||(a+=s),a+=n}else a+=e.charAt(r);else if(s=10*(n-48)+e.charCodeAt(++r)-48,i)if(t[o++]=s,14===s)a+="L";else if(15===s)a+="LL";else if(22===s)a+="0";else for(a+="00",3===s&&(a+="00");s-- >23;)a+="0";else t[o++]=s,a+="";return a},getValueByMode:function(t,e,i){var n,r=this._type,o=this.options.emptyChar;return t=this._mode(t,r),0!==r&&this._field?r>3?(n=this._dataMode,this._dataMode=t,e=this.value(),this._dataMode=n,e):1===r?this._getTxt(t,e?"":o,null,i):(n=this._fcs<2?this._isNull?null:this._date:this._toDate(this._val(),!0,e),0===t?n:n?this._toTxt(n,1===t,o):""):this._val()},_fieldVal:function(t,e,i,n){var o,s,a=t%2*2,l=this.options;if(t<4)o=this._df(e,0)+l.yearShift,3===t?a=4:(o%=100,a=2===t?2:0);else if(t<8){if(this.d_s=2,o=this._df(e,1)+1,t>5&&(t=this._optVal(6===t?"monthNamesShort":"monthNames")[o-1],t.length>0))return t}else if(t<10)o=this._df(e,2);else if(t<16){if(o=this._df(e,3),t>13)return o=this._optVal(o<12?"am":"pm"),(t-=13)===(a=o.length)?o:(a<t&&(o+=" "),o.substring(0,t));t<12&&(o%=12,0===o&&(o=12))}else if(t<18)o=this._df(e,4);else if(t<20)o=this._df(e,5);else{if(!(t>21))return this._optVal(20===t?"dayNamesShort":"dayNames")[e.getDay()];for(o=this._df(e,6),s=a=t-21;s-- >3;)o*=10;for(;s++<2;)o=Math.floor(o/10)}if(o=r(o),(t<20||t>22)&&(t=o.length,i&&(0===a?a=2:i=!1),a>0))if(a<t)o=o.substring(0,a);else for(;t++<a;)o=(i?n:"0")+o;return o},_limits:function(t,i){var n,r=this._prop(10),o=this._prop(11);if(this._type>3){if(e(t,1)&&!this.options.nullable&&(t=this.options.nullValue,!t&&this._dataMode>2&&(t=0)),!e(t,1)){if(!e(r,1)&&t<=r)return i?o:r;if(!e(o,1)&&t>=o)return i?r:o}return t}return e(t)?t:(n=t.getTime(),e(r)||(r=r.getTime()),e(o)||(o=o.getTime()),!e(r)&&(n<r||i&&n===r)?(t.setTime(i?o:r),t):!e(o)&&(n>o||i&&n===o)?(t.setTime(i?r:o),t):null)},_date7:function(t){var e;if(t.length<13)return null;if(t=t.replace(/[\. :]/g,"-").split("-"),7!==(e=t.length))return null;for(;e-- >0;)if((t[e]=i(t[e],-1))<0)return null;return this._df(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6])},_toDate:function(t,i,n,r){var o,s,a,l,u,h=0,d=0,c=-1,p=-1,f=-1,g=-1,m=-1,v=-2,_=-2,y=-2,b=-2,w=-1,x=!1,C=null,T={},S=this.options,k=r?null:this._date7(t),P=i&&r?this._fields0(t):this._fields1(t,i);if(l=P.length,!k)for(;++c<l;){if(p++,o=P[c],s=i?this._field0IDs[c]:this._field1IDs[c],s<4)o>100&&o>S.yearShift&&(o-=S.yearShift),(T.year=f=o)<0?h++:(d++,a=S.centuryThreshold,o<100&&(s<3&&a<0&&(a=29),a>=0&&(f+=o>a?1900:2e3)));else if(s<8)o<1||o>12?h++:(T.month=g=o,d++);else if(s<10)T.day=m=o,o<1||o>31?h++:d++;else if(s<14)24===o&&(o=0),s>11?w=-4:(12===o&&(o=0),o>12&&h++),T.hours=v=o,(o>23||o<0)&&h++;else{if(s<16){p--,o>0&&w++;continue}if(s<18)T.minutes=_=o,(o>59||o<0)&&h++;else if(s<20)T.seconds=y=o,(o>59||o<0)&&h++;else{
if(s<22){p--;continue}for(;s++<24;)o*=10;for(;s-- >25;)o=Math.floor(o/10);T.milliseconds=b=o,(o>999||o<0)&&h++}}o>=0&&(x=!0),p<S.minNumberOfDateFields&&h>0&&(r&&x&&(u=this._optVal("dateFields",2),C="numberOfFields"),h+=9)}return 0===w&&v>=0&&v<12&&(T.hours=v+=12),k||S.nullable&&!(h<9)||(3===d?(k=this._df(f,g-1,m,0,0,0,0),f<100&&this._df(k,0,f)):(k=this._df(),this._date&&k.setTime(this._date.getTime()),m>0&&this._df(k,2,10),f>=0&&this._df(k,0,f),g>0&&this._df(k,1,g-1),m>0&&this._df(k,2,m))),r&&m>0&&k&&m!==this._df(k,2)&&(u=this._optVal("invalidDay",2),C="dayOfMonth"),m=S.useLastGoodDate?this._goodD:null,!r||k||S.nullable||(k=m,k&&k.getTime?(u=this._optVal("required",2),C="null"):k=this._df()),k&&(v>-2&&this._df(k,3,v<0?0:v),_>-2&&this._df(k,4,_<0?0:_),y>-2&&this._df(k,5,y<0?0:y),b>-2&&this._df(k,6,b<0?0:b),n&&(e(k=this._limits(c=k))?k=c:r&&(u=S.minValue?S.maxValue?this._optVal("range",2).replace("{0}",this._toTxt(S.minValue)).replace("{1}",this._toTxt(S.maxValue)):this._optVal("min",2).replace("{0}",this._toTxt(S.minValue)):this._optVal("max",2).replace("{0}",this._toTxt(S.maxValue)),C="limit"))),r&&(x&&!k&&t.length>0&&m&&(C||(u=this._optVal("date",2),C="invalid"),k=m),!x&&S.required&&(u=this._optVal("required",2),C="null"),T.value=k,!C||!t&&S.nullable||(S.reduceDayOfInvalidDate!==!1&&k&&x&&this._df(k,2)<5&&T.day>27&&(this._df(k,2,0),T.value=k),T.text=t,T.reason=C,T.message=u,this._inv=T)),k},_toTxt:function(t,i,n,r){var o,s,a=-1,l=0,u="",h=i?this._mask:this._mask1,d=i?this._field0IDs:this._field1IDs;if(e(t))return i?this._getTxt(5,n,r?this._txt=h:h):"";for(this.d_s=6;++a<h.length;)if(o=h.charAt(a),(s=h.charCodeAt(a))<22){if(u+=this._fieldVal(d[l++],t,i,o),i)for(;a+1<h.length&&h.charCodeAt(a+1)===s;)a++}else u+=o;return i?(r&&(this._txt=u),this._getTxt(5,n,u)):u},_isPM:function(t,e){var i=this._optVal("pm").toUpperCase();return i.charAt(0)===t.charAt(e)&&(i.length<2||t.length<=e+1||i.charAt(1)===t.charAt(e+1))},_fields1:function(t,i){var n,r,o,s,a=-1,l=-1,u=0,h=[],d=i?this._field0IDs:this._field1IDs;for(s=d.length;++a<s;)h[a]=-1;if(e(t))return h;for(t=t.toUpperCase(),a=-1;++a<t.length&&u<s;)if(r=this._jpn(t.charCodeAt(a))-48,o=d[u],20!==o&&21!==o||(o=d[++u]),14===o||15===o){if(r>=0&&r<=9){l=-1,u++,a--;continue}this._isPM(t,a)&&(h[u++]=1,l=-1)}else if(r>=0&&r<=9)l=l<0?r:10*l+r;else if(l>=0)h[u++]=l,l=-1;else if(6===o||7===o)for(;l-- >-3;){for(r=0;r<12;r++)if(n=this._optVal(6===o?"monthNamesShort":"monthNames")[r],n=n.toUpperCase(),!((o=n.length)<1)){if(l===-3){if(o<4)continue;n=n.substring(0,3)}if((o=t.indexOf(n)-1)>-2&&(o<0||t.charAt(o).toLowerCase()===t.charAt(o)))break}if(r<12){h[u++]=r+1;break}}return u<s&&(h[u]=l),h},_fields0:function(t){var e,i,n=-1,r=-1,o=-1,s=-1,a=22,l=this._mask,u=[];for(t||(t="");++r<l.length;)n++,(e=l.charCodeAt(r))>21&&a>21||(e>21?s>=0&&(u[s]=o):(a>21&&(o=-1,s++),n<t.length&&(e>18?(i=this._jpn(t.charCodeAt(n))-48,i>=0&&i<=9?o=o<0?i:10*o+i:r+1<l.length&&t.charAt(n)===l.charAt(r+1)&&n--):a!==e&&this._isPM(t.toUpperCase(),n)&&(o=1))),a=e);return u[s]=o,u},_curField:function(t,i){var n,r,o=22,s=this._n0=this._n1=-1;for(n=0;n<i.length;n++)if((r=i.charCodeAt(n))>21!=o>21){if(r>21){if(n>=t)break}else this._n0=n,s++;o=r}return this._n0>=0&&(this._n1=n),e(s=this._field0IDs[s])?-1:s<8?s<4?0:1:s<20?Math.floor((s-4)/2):s>21?8:-1},_maskKey:function(t,e,i,n,r,o){var s,a=0,l=-1;if(this._type<2)return-2;if(s=this._curField(r,o),r>=this._n1&&i.charCodeAt(--r)>21)return this._maskKey(t,e,i,n,r+2,o);if(s<0)return-1;if(5===s){if(r<=this._n0){if(l=this._optVal("am"),l.charAt(0).toUpperCase()!==(e=e.toUpperCase())&&(l=this._optVal("pm"),l.charAt(0).toUpperCase()!==e))return-1;this._n1===this._n0+1?l=l.charAt(0):(n=l.length)<2?l+=" ":n>2&&(l=l.substring(0,2)),this._txt=i.substring(0,this._n0)+l+i.substring(this._n1)}return this._n1}if(t<48||t>57){if(0===r||47!==t&&58!==t&&(t<44||t>57))return-1;if(o.charCodeAt(r-1)>=22||this._n1===n)return r;for(;r<n&&!(o.charCodeAt(r++)>=22);)i=i.substring(0,r-1)+o.charAt(r-1)+i.substring(r);return this._txt=i,r}if(t-=48,this._n0===r&&(l=i.charCodeAt(r+1)-48,2===s?t>3?a=1:3===t&&l>1&&(a=2):6===s||7===s?t>5&&(a=1):s>0&&s<5&&(4===s&&(t--,l-=2),t>1?a=1:1===t&&l>2&&(a=2))),this._n0+1===r&&(l=i.charCodeAt(r-1)-48,2===s?(l>3||3===l&&t>1)&&(a=3):6===s||7===s?(l>6||6===l&&t>0)&&(a=3):s>0&&s<5&&(4===s&&(l--,t-=2),(l>1||1===l&&t>2)&&(a=3))),1===a&&(i=i.substring(0,r)+o.charAt(r)+i.substring(r+1),r++),2===a&&(i=i.substring(0,r+1)+o.charAt(r+1)+i.substring(r+2)),3===a){for(;++r<n&&!(o.charCodeAt(r)<22););return r>=n?-1:this._maskKey(t+48,e,i,n,r,o)}return this._txt=i.substring(0,r)+e+i.substring(r+1),++r},_add:function(t,e){var i,n,r,o,s=e.toString(),a=t.toString(),l=t+e;if(o=l.toString(),(i=a.indexOf("."))<1||(n=o.indexOf("."))<1)return l;if((r=s.indexOf("."))>0&&(r=s.length-r),o.length-n<=(i=Math.max(r,a.length-i)))return l;for(e=10;i-- >2;)e*=10;return Math.round(l*e)/e},spin:function(t){var i,n,r,o,s=this.options;if(!this._spinList(t))return this;if(this._type<2)return this;if(this._type>3)return i=this._toNum(this._val())||0,i=this._add(i,t),t=s.maxLength,(!t||t<1||i.toString().length<=t)&&this._set_val(i,this._fcs),this;switch(r=this._spinField,o=this._df(),o.setTime(this._date.getTime()),(r<0||r>8)&&(2===this._fcs?(this.getSelectedText(),r=this._curField(this._sel0,this._mask),e(o=this._toDate(this._val(),!0,!0))&&(o=this._df()),this._spinField=r):this._spinField=r=this.d_s),5===r&&(t=t>0?12:-12),n=s.spin1Field,r){case 0:this._df(o,0,t+=this._df(o,0)),n&&t!==this._df(o,0)&&(r=-1);break;case 1:this._df(o,1,t+=this._df(o,1)),n&&t!==this._df(o,1)&&(r=-1);break;case 2:this._df(o,2,t+=this._df(o,2)),n&&t!==this._df(o,2)&&(r=-1);break;case 3:case 4:case 5:r=this._df(o,2),this._df(o,3,t+=this._df(o,3)),n&&r!==this._df(o,2)&&(r=-1);break;case 6:this._df(o,4,t+=this._df(o,4)),n&&t!==this._df(o,4)&&(r=-1);break;case 7:this._df(o,5,t+=this._df(o,5)),n&&t!==this._df(o,5)&&(r=-1);break;case 8:for(r=this._n1-this._n0;r<3;r++)t*=10;this._df(o,6,t+=this._df(o,6)),n&&t!==this._df(o,6)&&(r=-1)}return r<0?this:(e(t=this._limits(o))||(o=t),this._text=this._toTxt(o,2===this._fcs,s.promptChar,!0),this._date=o,this._isNull=!1,this._repaint(),this.select(this._sel0),2===this._fcs&&(this._last=this._val()),this)},_mode:function(t,i){var n;return!t||i<1?t=e(t)?i>3?1:1===i?5:0:0:"number"!=typeof t&&(t=t.toString().toLowerCase(),i>3?n={text:-1,editmodetext:0,double:1,float:2,decimal:3,long:4,ulong:5,int:6,uint:7,short:8,ushort:9,sbyte:10,byte:11}:i>1?n={date:0,editmodetext:1,text:2}:i>0&&(n={rawtext:0,rawtextwithrequiredprompts:1,rawtextwithallprompts:2,rawtextwithliterals:3,rawtextwithrequiredpromptsandliterals:4,alltext:5}),e(t=n[t])&&(t=-2)),t<-1?i>3?1:0:t},_fixMode:function(t){var i,n,r,o,s,a=this._type,l=this.options,u=this._value;return this._dataMode=s=this._mode(l.dataMode,a),this._maxLen=l.maxLength,a>0&&a<4&&(l.promptChar||(l.promptChar="_"),l.padChar||(l.padChar=" "),l.emptyChar||(l.emptyChar=" "),1===a&&t&&(a=l.inputMask,this._setMask(a||"CCCCCCCCCC"))),a<2?void(3===t&&this._setVal(u)):a<4?(n=l.dateInputFormat=l.dateInputFormat||"date",l.yearShift||(l.yearShift=0),e(l.centuryThreshold)&&(l.centuryThreshold=29),e(l.minNumberOfDateFields)&&(l.minNumberOfDateFields=3),r=this._optVal(n+"Pattern")||n,n=l.dateDisplayFormat||n,o=this._optVal(n+"Pattern")||n||r,r=this._getMask(this._field0IDs=[],r,1),this._mask1=this._getMask(this._field1IDs=[],o),1===t&&(this._date=this._df(),this._isNull=!1),this._spinField=-1,this.d_s=10,this._setMask(r),void(1===t||this._isNull||this._setVal(this._date,1))):(s>3&&this._maxLen<1&&(i=3,s<6?i=19:s<8?i=10:s<10&&(i=5),this._field[0].maxLength=this._maxLen=i+(s+1)%2),3===t&&this._setVal(u,1),void(t||!u&&0!==u||this._setVal(u/this._prop(7))))},_toNum:function(t,i,n){var o,s,a=null,l=null,u=this.options,h=t,d=0;return"number"!=typeof t&&(t=r(t),d=t.length,h=parseFloat(this._txtAsNum(t))),isNaN(h)?h=null:isFinite(h)||(h=h===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:Number.MAX_VALUE),o=i?this._limits(h):h,n&&(o!==h||e(o,1)&&d>0)&&(n=e(h,1)?0===d?"null":"format":"limit",e(h,1)?0===d?(n="null",s=this._optVal("required",2)):(n="format",s=this._optVal("number",2)):(n="limit",i=null,e(a=u.minValue,1)&&(e(a=this._prop(10),1)||a!==o&&(a=null)),e(l=u.maxValue,1)&&(e(l=this._prop(11),1)||l!==o&&(l=null)),s=e(l,1)?this._optVal("min",2).replace("{0}",a.toString(10)):e(a,1)?this._optVal("max",2).replace("{0}",l.toString(10)):this._optVal("range",2).replace("{0}",a.toString(10)).replace("{1}",l.toString(10))),this._inv={value:o,text:t,reason:n,message:s}),o},_txtAsNum:function(t,e,i){var n,r=t.length;for(e||(e=this._prop(4)),i||(i=this._prop(3));r-- >0;)n=this._jpn(t.charCodeAt(r),!0),n&&(t=t.replace(new RegExp(t.charAt(r),"g"),n));return t=t.replace("(",t.indexOf(i)<0?"-":"").replace(this._prop(2),"").replace(new RegExp(i,"g"),"-"),t=t.replace(e,""),(n=t.indexOf(e))>0&&(t=t.substring(0,n)),t=t.replace(/[^0-9\-eE\x01]/gm,"").replace("","."),r=t.length,(n=t.indexOf("-"))>=0&&(n+1<r&&(n=t.indexOf("-",n+1))>0&&n>0&&"E"!==t.toUpperCase().charAt(n-1)&&(t=t.substring(0,n)),r=t.length,t.toUpperCase().indexOf("E")<0&&n+1===r&&(t="-"+t.substring(0,r-1))),"-"===t||"."===t?"":t},_ePow:function(t){var e=this.options.scientificFormat,i=e?e.length:0,n=i?e.charAt(0):null;return"e"!==n&&"E"!==n||1!==i&&(2!==i||"+"!==e.charAt(1))?null:t?e:n},_toTxtNum:function(t,i,n,o,s,a){var l,u,h,d,c,p=this._ePow(),f=0,g=0,m=-1,v=t,_=this._prop(8);if(e(n)){if(e(t,1))return"";v=t<0,v&&(t=-t);try{n=p?t.toString(10):t.toFixed(_)}catch(e){a=n=r(t)}return this._toTxtNum(v,i,n.toUpperCase(),e(o)?this._prop(3):o,e(s)?this._prop(4):s,a)}if(a&&(n=this._txtAsNum(n,s)),n=n.replace("+",""),c=n.indexOf("E"),c>0?(p=p?this._ePow(!i&&"-"!==n.charAt(c+1))+n.substring(c+1):n.substring(c),n=n.substring(0,c)):p="",c=n.length,e(v)){if(0===c)return i?n:"";v=this._isMinus(n.charCodeAt(0)),v&&(n=n.substring(1),c--)}for(;++m<c;)if(d=n.charCodeAt(m),d<48||d>57){n=n.substring(0,m)+n.substring(m+1),c--;break}for(;m<c&&48===n.charCodeAt(c-1);)n=n.substring(0,--c);if(c=m,_>0&&c<n.length&&(g=n.length-c,n=n.substring(0,c)+s+n.substring(c),c+=s.length+_),c<n.length&&(n=n.substring(0,c)),h=n.replace(/0/g,""),!v||h&&h!==s||(v=!1),(c=this._prop(9))>0)for(0===g&&(n+=s);c-- >g;)n+="0";if(i)return n+=p,v?o+n:n;for(l=this._prop(6),h=u=l.length>0?l[0]:0;h>0&&--m>0;)0===--h&&(n=n.substring(0,m)+this._prop(5)+n.substring(m),h=l[++f],e(h)||h<1?h=u:u=h);return t=this._prop(v?1:0).replace("n",n+p),t.replace("$",this._prop(2))},_prop:function(t){var i,n,r,o=this.options,s=this._type,a=this._dataMode;return 13===t?(o=o.selectionOnFocus,o===-1||"select"===o?-1:0===o||"start"===o?0:1===o||"end"===o?1:2):12===t?o.maxLength>0?o.maxLength:this._maxLen:0===t?o.positivePattern||(6===s?this._optVal("percentPositivePattern"):5===s?this._optVal("currencyPositivePattern"):"n"):1===t?(n=o.negativePattern||this._optVal(6===s?"percentNegativePattern":5===s?"currencyNegativePattern":"numericNegativePattern"),n.replace("-",this._prop(3))):2===t?e(n=o.symbol)?6===s?this._optVal("percentSymbol"):5===s?this._optVal("currencySymbol"):"":n:3===t?this._optVal("negativeSign")||"-":4===t?o.decimalSeparator||this._optVal(6===s?"percentDecimalSeparator":5===s?"currencyDecimalSeparator":"numericDecimalSeparator"):5===t?e(n=o.groupSeparator)?this._optVal(6===s?"percentGroupSeparator":5===s?"currencyGroupSeparator":"numericGroupSeparator"):n:6===t?o.groups||this._optVal(6===s?"percentGroups":5===s?"currencyGroups":"numericGroups"):7===t?e(n=o.displayFactor)?6===s?this._optVal("percentDisplayFactor"):1:n:8===t?a>3?0:e(n=o.maxDecimals)?this._optVal(6===s?"percentMaxDecimals":5===s?"currencyMaxDecimals":"numericMaxDecimals"):n:9===t?a>3?0:e(n=o.minDecimals)?this._optVal(6===s?"percentMinDecimals":5===s?"currencyMinDecimals":"numericMinDecimals"):n:(i=10===t,i||11===t?(n=i?o.minValue:o.maxValue,s>3&&"string"==typeof n&&(n=parseFloat(n)),!e(n,1)||s<4||a<2||3===a||a>11?n:2===a?i?-3.40282347e38:3.40282347e38:(n=127,r=a%2===0,!r&&i?0:(a<6?n=0x8000000000000000:a<8?n=2147483647:a<10&&(n=32767),r?i?-(n+1):n:2*n+1))):void 0)},_isMinus:function(t){return t===this._prop(3).charCodeAt(0)||45===t||40===t&&this._prop(1).indexOf("(")>=0||12540===t||65293===t||65288===t},destroy:function(){var e,i,n,r=this._element,o=this._field,s=this.element,a=this._buttons,l=a?a.length:0;if(i=r?r[0]:null,!o||!i)return this;for(this._stopTimer(),this._doDP(3),this._initValidator(1),this._listRemove(),o.unbind(this._evts),r.unbind(this._mEvts);l-- >0;)a[l]&&a[l].unbind(this._touchEvts);n=a&&a[0]?a[0][0]:null,n&&n.parentNode===i&&i.removeChild(n),n=a&&a[1]?a[1][0].parentNode:null,n&&n.parentNode===i&&i.removeChild(n),o[0].parentNode===i&&i.removeChild(o[0]),this._selElem?r.remove():this._swap&&(e=i.parentNode,e.insertBefore(s[0],i),e.removeChild(i)),e=this._oldCss;for(l in e)e.hasOwnProperty(l)&&s.css(l,e[l]);e=this._oldAttr;for(l in e)e.hasOwnProperty(l)&&(s[0][l]=e[l]);return s[0]._ig_oldCss=null,s=r=o=this._dp=this._buttons=this._field=this._element=null,this._evts=this._mEvts=this._touchEvts=this._oldAttr=this._oldCss=this._validator=null,t.Widget.prototype.destroy.apply(this,arguments),this}}),t.extend(t.ui.igEditor,{version:"13.1.20131.2042"}),t.ui.igEditor.setDefaultCulture=function(e){t.ig.regional=t.ig.regional||{},t.ig.regional.defaults=t.extend(t.ig._regional,"string"==typeof e?t.ig.regional[e]:e),"en"!==e&&"en-US"!==e||(e=""),t.datepicker&&t.datepicker.regional&&t.datepicker.regional[e]&&t.datepicker.setDefaults(t.datepicker.regional[e])},t.widget("ui.igTextEditor",t.ui.igEditor,{options:{textMode:null,maxLength:0,includeKeys:null,excludeKeys:null,toUpper:!1,toLower:!1,listMatchIgnoreCase:!0,listMatchOnly:!1,listMatchContains:!1,listAutoComplete:!1},_create:function(){t.ui.igEditor.prototype._create.apply(this,[0])}}),t.widget("ui.igMaskEditor",t.ui.igEditor,{options:{includeKeys:null,excludeKeys:null,toUpper:!1,toLower:!1,listMatchIgnoreCase:!0,listMatchOnly:!1,listMatchContains:!1,listAutoComplete:!1,inputMask:"CCCCCCCCCC",promptChar:"_",padChar:" ",emptyChar:" ",dataMode:"alltext",hideMaskOnFocus:!1},_create:function(){t.ui.igEditor.prototype._create.apply(this,[1])}}),t.widget("ui.igDateEditor",t.ui.igEditor,{options:{regional:null,spin1Field:!1,minValue:null,maxValue:null,dateDisplayFormat:null,dateInputFormat:null,promptChar:"_",dataMode:"date",minNumberOfDateFields:3,useLastGoodDate:!1,reduceDayOfInvalidDate:!0,hideMaskOnFocus:!1,centuryThreshold:29,enableUTCDates:!1,spinDelta:1,nullable:!0,yearShift:0},_create:function(){t.ui.igEditor.prototype._create.apply(this,[2])}}),t.widget("ui.igDatePicker",t.ui.igDateEditor,{options:{button:"dropdown",datepickerOptions:null},_create:function(){t.ui.igEditor.prototype._create.apply(this,[3])}}),t.widget("ui.igNumericEditor",t.ui.igEditor,{options:{regional:null,negativePattern:null,negativeSign:null,decimalSeparator:null,groupSeparator:null,groups:null,maxDecimals:null,minDecimals:null,minValue:null,maxValue:null,scientificFormat:null,nullValue:null,spinDelta:1,nullable:!0,maxLength:0,dataMode:"double"},_create:function(){t.ui.igEditor.prototype._create.apply(this,[4])}}),t.widget("ui.igCurrencyEditor",t.ui.igNumericEditor,{options:{positivePattern:null,negativePattern:null,symbol:null},_create:function(){t.ui.igEditor.prototype._create.apply(this,[5])}}),t.widget("ui.igPercentEditor",t.ui.igNumericEditor,{options:{positivePattern:null,negativePattern:null,symbol:null,displayFactor:null},_create:function(){t.ui.igEditor.prototype._create.apply(this,[6])}})}(jQuery),define("igEditors",["igUtil","igScroll","igEditors_en"],function(){}),$.ig=$.ig||{},$.ig.Validator||($.ig.Validator={locale:{defaultMessage:"Please fix this field",selectMessage:"Please select a value",rangeSelectMessage:"Please select no more than {0} and not less than {1} items",minSelectMessage:"Please select at least {0} items",maxSelectMessage:"Please select no more than {0} items",rangeLengthMessage:"Please enter a value between {0} and {1} characters long",minLengthMessage:"Please enter at least {0} characters",maxLengthMessage:"Please enter no more than {0} characters",requiredMessage:"This field is required",maskMessage:"Please fill all required positions",dateFieldsMessage:"Please enter values in date fields",invalidDayMessage:"Invalid day of month. Please enter correct day",dateMessage:"Please enter a valid date",numberMessage:"Please enter a valid number",rangeMessage:"Please enter a value between {0} and {1}",minMessage:"Please enter a value greater than or equal to {0}",maxMessage:"Please enter a value less than or equal to {0}"}}),define("igValidator_en",["regional"],function(){}),$.ig=$.ig||{},$.ig.Validator||($.ig.Validator={locale:{defaultMessage:"Please fix this field",selectMessage:"Please select a value",rangeSelectMessage:"Please select no more than {0} and not less than {1} items",minSelectMessage:"Please select at least {0} items",maxSelectMessage:"Please select no more than {0} items",rangeLengthMessage:"Please enter a value between {0} and {1} characters long",minLengthMessage:"Please enter at least {0} characters",maxLengthMessage:"Please enter no more than {0} characters",requiredMessage:"This field is required",maskMessage:"Please fill all required positions",dateFieldsMessage:"Please enter values in date fields",invalidDayMessage:"Invalid day of month. Please enter correct day",dateMessage:"Please enter a valid date",numberMessage:"Please enter a valid number",rangeMessage:"Please enter a value between {0} and {1}",minMessage:"Please enter a value greater than or equal to {0}",maxMessage:"Please enter a value less than or equal to {0}"}}),function(t){var e="=id",i=null,n={},r=function(t){try{t.preventDefault(),t.stopPropagation()}catch(t){}},o=function(t,e){var i=t.id;return!i&&e&&(t._fid=e),i||t._fid};t.widget("ui.igValidator",{options:{showIcon:null,animationShow:null,animationHide:null,enableTargetErrorCss:null,alignment:null,keepFocus:null,onchange:null,onblur:null,formSubmit:null,onsubmit:null,bodyAsParent:!0,required:!1,minLength:-1,maxLength:-1,min:null,max:null,regExp:null,checkboxesName:!1,locale:null,errorLabel:null,element:null,theme:null,errorMessage:null},css:{label:"ui-igvalidator ui-widget ui-state-error ui-corner-all",icon:"ui-igvalidator-icon ui-icon ui-icon-alert",target:"ui-igvalidator-target"},locale:{defaultMessage:"Please fix this field",selectMessage:"Please select a value",rangeSelectMessage:"Please select no more than {0} and not less than {1} items",minSelectMessage:"Please select at least {0} items",maxSelectMessage:"Please select no more than {0} items",rangeLengthMessage:"Please enter a value between {0} and {1} characters long",minLengthMessage:"Please enter at least {0} characters",maxLengthMessage:"Please enter no more than {0} characters",requiredMessage:"This field is required",regExpMessage:"Please fix pattern of this field",maskMessage:"Please fill all required positions",dateFieldsMessage:"Please enter values in date fields",invalidDayMessage:"Invalid day of month. Please enter correct day",dateMessage:"Please enter a valid date",numberMessage:"Please enter a valid number",rangeMessage:"Please enter a value between {0} and {1}",minMessage:"Please enter a value greater than or equal to {0}",maxMessage:"Please enter a value less than or equal to {0}"},events:{checkValue:null,validation:null,errorShowing:null,errorHiding:null,errorShown:null,errorHidden:null},_create:function(){var e,i,n,r=this.options,o=this,s=t.ui.igValidator.defaults;for(e in r)r.hasOwnProperty(e)&&null===r[e]&&void 0!==s[e]&&(r[e]=s[e]);n=o.element,o._state=3,o._focTime=0,o._init0(),i=n[0].nodeName,i="SELECT"===i?5:"checkbox"===(i=n[0].type)?r.checkboxesName?6:4:"radio"===i?6:0,o._elem=6!==i?n:t("[name="+n[0].name+"]").map(function(){return this.form===n[0].form?this:null}),o._t=i,r.ctl||r.combo||(o._elem.bind(o._evts={keydown:function(t){((e=t.keyCode)<15||e>20)&&o._evt(t,9===e?null:o,9===e)},change:function(t){o._evt(t,o)},cut:function(t){o._evt(t,o)},paste:function(t){o._evt(t,o)},beforecut:function(t){o._evt(t,o)},drop:function(t){o._evt(t,o)},dragend:function(t){o._evt(t,o)},blur:function(t){o._evt(t,o,1)}}),r.element&&r.element.bind(o._evtsE={mousedown:function(t){o._evt(t,o)},mouseup:function(t){o._evt(t)}}))},_evt:function(t,e,i){var n=this.options;i&&!n.onblur||!i&&!n.onchange||(e?setTimeout(function(){e.validate(t)},20):this.validate(t))},_loc:function(e,i){var n=this.options,r=n.errorMessage||n[e+=i?"":"Message"]||(n.locale?n.locale[e]:null);return r=r||(t.ig&&t.ig.Validator&&t.ig.Validator.locale?t.ig.Validator.locale[e]:null),r||this.locale[e]},_foc1:function(t){return t=t.keepFocus,!t||6===this._t||t.indexOf&&0===t.indexOf("n")?null:"once"===t||1===t?1:2},_onTab:function(t){if(t&&9===t.keyCode&&2===this._foc1(this.options))return r(t),1},_init0:function(i){var s,a,l,u=this._id,h=this.options;i?this._doError():h.ctl&&(h.ctl._validator=this),s=this.element[0].form,s&&(a=o(s,"fid"),u||(u=this.element[0].id,u||(u=e+=e.length),this._id=u),l=n[a],i||!h.onsubmit&&!h.formSubmit?l&&l.ctls&&l.ctls[u]&&delete l.ctls[u]:(!s._ig_onsubmit&&h.onsubmit&&(s._ig_onsubmit=1,t(s).submit(function(t){var e=n[o(this)];e&&e.validate(t)})),!s._ig_formsubmit&&h.formSubmit&&(s._ig_formsubmit=s.submit,s.submit=function(){var t=n[o(this)];t&&t.validate()||this._ig_formsubmit&&this._ig_formsubmit()}),l||(l=n[a]={ctls:{},validate:function(e){var i,n=!1,o=1,s=this.ctls;for(i in s)s.hasOwnProperty(i)&&s[i].validate(e,o)&&(n=!0,t.ui.igValidator.defaults.showAllErrorsOnSubmit||(o=2));return e&&n&&r(e),n}}),l.ctls[u]=this))},getLocaleOption:function(t){return this._loc(t,1)},isMessageDisplayed:function(){return this._state>6},isValidState:function(){return!(this._state>=6||this.validate(null,null,1))},hide:function(t){this._doError(null,null,t?6:5)},validate:function(e,i,n){var r,o,s,a=null,l="Length",u=this._t,h=-1,d=this.options,c=this.element;if(c&&0!==c.closest("body").length){if(u>3?(l="Select",h=s=5===u?c[0].multiple?t("option:selected",c[0]).length:c[0].selectedIndex:this._elem.filter(":checked").length):(s=c.hasClass("ui-igcombo-nulltext")?"":c.val(),h=s.length),d.ctl&&delete d.ctl._invPlus,!this._trigger("checkValue",e,o={owner:this,message:this._loc("default"),value:d.ctl?d.ctl.value():s}))return d.ctl&&!n&&(d.ctl._invPlus=o.message),n?2:this._doError(o.message,e,i);if(0===h)if(n){if(d.required)return 2}else if(!d.required)return this._doError(null,e,i);return r=d.regExp,r&&h>0&&(r.test||(r=new RegExp(r.toString())),a=r.test(s)?null:this._loc("regExp"),d.ctl&&(d.ctl._invPlus=a)),a||!d.required||0!==h&&s||(a=this._loc(u>4?"select":"required")),a||(r=d.minLength,o=d.maxLength,h>=0&&(r>h||o>0&&o<h)&&(a=r>0&&o>0?this._loc("range"+l).replace("{0}",o).replace("{1}",r):this._loc((r>0?"min":"max")+l).replace("{0}",r>0?r:o),d.ctl&&(d.ctl._invPlus=a))),a?n?a:this._doError(a,e,i):d.ctl?(r=d.ctl._doInvalid(null,9),r=r?r.message:null,n?r:this._doError(r,e,i)):(!a&&u<2&&h>0&&(r=("number"==typeof d.min?1:0)+("number"==typeof d.max?2:0))>0&&(isNaN(s=parseFloat(s))?a=this._loc("number"):3===r&&(s<d.min||s>d.max)?a=this._loc("range").replace("{0}",d.min).replace("{1}",d.max):1===r&&s<d.min?a=this._loc("min").replace("{0}",d.min):2===r&&s>d.max&&(a=this._loc("max").replace("{0}",d.max))),n?a:this._doError(a,e,i))}},_xyCheck:function(t){var e,i,n=this._xy;n&&(this._elem&&this._elem[0].offsetWidth&&(i=n.e.offset(),e=i.left-n.x,e!==n.x0&&(n.x0=e,this._dd.css("left",n.xDD+e+"px")),e=i.top-n.y,e!==n.y0&&(n.y0=e,this._dd.css("top",n.yDD+e+"px"))),!t&&i||(delete this._xy,clearInterval(n.i)),i||this._doError())},_doError:function(e,n,r){var o,s,a,l,u,h,d,c,p,f,g,m,v,_,y,b=1,w=this,x=w.css,C="left",T="top",S=w._state,k=e,P=w._lbl,E=w.options;if(r||(r=0),p=E.ctl,f="bottom"===E.alignment?0:"left"===E.alignment?-1:1,!e&&P&&(e=P[0]._txt),!(S<6)||k){if(g=P&&P[0]._txt===e&&!w._changed,this._changed=null,k&&w._onTab(n)&&g)return 2;if(k&&g&&S>5)return i===w&&w._focus(E,r,n),2;if(!r&&k&&i&&(new Date).getTime()-i._focTime<100)return 2;if(h={owner:w,message:e,invalid:!!k},!(r<5)||w._trigger("validation",n,h)){if(w._state=k?6:1,d=E.element||w.element,s=p?p._element:d,E.enableTargetErrorCss&&(k?s.addClass(x.target):5!==r&&s.removeClass(x.target)),2===r)return 2;if(!w._trigger(k?"errorShowing":"errorHiding",n,h))return 1;if(k||P){if(e=h.message,w._state++,o=!E.bodyAsParent,o&&(C="marginLeft",T="marginTop"),m=E.errorLabel,"string"==typeof m&&(m=t("body").find('[data-valmsg-for="'+m+'"]').removeClass("field-validation-valid").addClass("field-validation-error")),!m||m.length&&m.find||(m=null),m?P=m:P||(P=w.element[0].id,P&&(P=' for="'+P+'"'),P=t("<label"+P+"/>").addClass(x.label).css({position:"absolute",visibility:"hidden"}),P[0].unselectable="on",P.html(e),P[0]._id=98,w._dd=E.theme?t("<span/>").addClass(E.theme).css("position","absolute").append(P):P,o?MSApp.execUnsafeLocalFunction(function(){w._dd.prependTo(s.parent())}):MSApp.execUnsafeLocalFunction(function(){w._dd.appendTo(t("body"))})),w._lbl=P,k){P[0]._txt=e,m?P.html(e).show():(w._dd.css(C,"0px").css(T,"0px"),E.showIcon&&(" "!==e&&"&nbsp;"!==e||(e=""),e='<span class="'+x.icon+'"></span><span style="display:inline-block;width:18px;"></span>'+e),P.html(e),P.css("width","auto").css("height","auto"),P[0]._width0=P[0].offsetWidth,P[0]._height0=P[0].offsetHeight,w._width=Math.max(P.width(),5),w._height=Math.max(P.height(),10),E.showIcon&&(w._height=Math.max(P.children()[0].offsetHeight,w._height)));try{s.parentsUntil(document.body).add(s).add(d).add(P).each(function(){c=this.style?this.style.zIndex:0,c=c?parseInt(c,10):null,c&&!isNaN(c)&&c>b&&(b=c)})}catch(t){}P.css("zIndex",b),w._focTime=0,i=w}if(a=function(){k?P.css("filter",""):(m?m.html(" ").hide():w._dd.remove(),w._dd=w._lbl=i=null),w._state++},k)return w._focus(E,r,n),c=E.animationShow,c<5&&(c=null),m?P.css("opacity",0).show():(P.css({opacity:c?0:1,height:(c?0:w._height)+"px",width:Math.floor(w._width/(c&&f>=0?2:1))+"px",display:"",visibility:"visible"}),y=p&&p._swap?w.element:d,u=y.offset(),o||(v=u.left,_=u.top),u.top+=f?0:y.outerHeight(),p&&p._swap&&(u.left-=p._leftShift()),f&&(u.left+=f<0?-P[0].offsetWidth:s[0].offsetWidth),o?(l=P.offset(),u.left-=l.left,u.top-=l.top):w._xy={x0:0,y0:0,x:v,y:_,e:y,xDD:u.left,yDD:u.top,i:setInterval(function(){w._xyCheck()},300)},w._dd.css(C,u.left+"px").css(T,u.top+"px")),c?P.animate(m?{opacity:1}:{opacity:1,height:w._height,width:w._width},c,null,a):a(),w._trigger("errorShown",n,h),2;w._xyCheck(!0),c=E.animationHide,c<5&&(c=null),c?m?P.animate({opacity:0},c,null,a):P.animate({opacity:.6},Math.floor(.34*c)).animate({opacity:0,height:0,width:Math.floor(w._width/(f<0?1:2))},Math.floor(.66*c),null,a):a(),w._trigger("errorHidden",n,h)}}}},_focus:function(e,i,n){var r=!i&&this._foc1(e)?this.element:null;n=n&&9!==n.keyCode?n.type:"",r&&(!e.ctl||!e.ctl._fcs)&&(1!==this._foc1(e)||!this._focTime)&&n.indexOf("key")<0&&n.indexOf("mouse")<0&&(t.ui.igValidator._keepFoc=e.ctl,n=t.ui.igValidator._dd,n&&n._doDrop(),this._focTime=(new Date).getTime(),setTimeout(function(){try{r.focus()}catch(t){}},0))},_setOption:function(e,i){return this.options[e]===i?this:(t.Widget.prototype._setOption.apply(this,arguments),"function"!=typeof i&&"locale"!==e&&this._init0(),this)},destroy:function(){if(!this._elem)return this;var e=this.options;return e.ctl||(this._elem.unbind(this._evts),this._evtsE&&e.element.unbind(this._evtsE)),this._init0(1),e.element=e.ctl=this._evts=this._evtsE=this._elem=null,t.Widget.prototype.destroy.apply(this,arguments),this}}),t.ui.igValidator._act=function(e,i){var n,r,o=t.ui.igValidator;if(o)return n=o._dd,!n||n._ddOn&&(n._field||n.mainElem)||(n=null,delete o._dd),r=o._keepFoc,r&&!r._field&&(r=null,delete o._keepFoc),"drop"===i?!(!r||r===e||r.validate())||void(o._dd=e):"hide"===i?void(n===e&&delete o._dd):(i||r!==e||delete o._keepFoc,r&&r!==e)},t.extend(t.ui.igValidator,{version:"13.1.20131.2042"}),t.ui.igValidator.defaults={showAllErrorsOnSubmit:!1,showIcon:!0,animationShow:300,animationHide:300,enableTargetErrorCss:!0,alignment:"bottom",keepFocus:null,onchange:!0,onblur:!0,formSubmit:!1,onsubmit:!0}}(jQuery),define("igValidator",["igUtil","igValidator_en"],function(){}),function(t){var e=function(t,e){return null===t||void 0===t||e&&isNaN(t)},i=function(t,e){e=t?t.css(e):0;try{e=parseInt(e,10)}catch(t){}return e&&!isNaN(e)?e:0},n=function(t,e,i,n){return t=t.data("igEditorFilter"),t?t.options.provider[e](i,n):null},r=function(){return(new Date).getTime()},o=function(e){var i=t.ig.GridUpdating&&t.ig.GridUpdating.locale?t.ig.GridUpdating.locale[e]:e;throw new Error(i||e)},s=function(t){if(t&&1!==t)try{t.preventDefault(),t.stopPropagation()}catch(t){}};t.widget("ui.igGridUpdating",{grid:null,options:{columnSettings:[{columnKey:null,editorType:null,editorProvider:null,editorOptions:null,required:null,readOnly:null,validation:null,defaultValue:null}],editMode:"row",showReadonlyEditors:!0,enableDeleteRow:!0,enableAddRow:!0,validation:!1,doneLabel:null,doneTooltip:null,cancelLabel:null,cancelTooltip:null,addRowLabel:null,addRowTooltip:null,deleteRowLabel:null,deleteRowTooltip:null,showDoneCancelButtons:!0,enableDataDirtyException:!0,rowEditDialogContentHeight:150,rowEditDialogFieldWidth:140,rowEditDialogWidth:370,rowEditDialogHeight:"350",startEditTriggers:"click,F2,enter",rowEditDialogContainment:"owner",rowEditDialogOkCancelButtonWidth:120,rowEditDialogRowTemplate:"<tr><td>${headerText}</td><td data-key='${dataKey}'><input /></td></tr>",rowEditDialogRowTemplateID:null,horizontalMoveOnEnter:!1,excelNavigationMode:!1,labels:{rowEditDialogCaptionLabel:t.ig.GridUpdating.locale.rowEditDialogCaptionLabel,cancelLabel:t.ig.GridUpdating.locale.cancelLabel,doneLabel:t.ig.GridUpdating.locale.doneLabel}},events:{editRowStarting:null,editRowStarted:null,editRowEnding:null,editRowEnded:null,editCellStarting:null,editCellStarted:null,editCellEnding:null,editCellEnded:null,rowAdding:null,rowAdded:null,rowDeleting:null,rowDeleted:null,dataDirty:null,generatePrimaryKeyValue:null,rowEditDialogOpening:null,rowEditDialogOpened:null,rowEditDialogContentsRendering:null,rowEditDialogContentsRendered:null,rowEditDialogClosing:null,rowEditDialogClosed:null},css:{buttonContainer:"ui-iggrid-buttoncontainer ui-widget-content ui-corner-all",button:"ui-iggrid-button ui-state-default ui-corner-all",doneButton:"ui-iggrid-donebutton ui-priority-primary ui-corner-all",cancelButton:"ui-iggrid-cancelbutton ui-corner-all",deleteButton:"ui-iggrid-deletebutton ui-state-default ui-corner-all",buttonHover:"ui-iggrid-buttonhover ui-state-hover",buttonDisabled:"ui-iggrid-buttondisabled ui-state-disabled",buttonActive:"ui-iggrid-buttonactive ui-state-active",doneIcon:"ui-iggrid-doneicon ui-icon ui-icon-check",cancelIcon:"ui-iggrid-cancelicon ui-icon ui-icon-cancel",buttonIconOnly:"ui-iggrid-button-icon-only",editingCell:"ui-iggrid-editingcell",addRow:"ui-iggrid-addrow ui-widget-header",addRowHover:"ui-iggrid-addrowhover ui-state-hover",addRowActive:"ui-iggrid-addrowactive ui-state-active",addRowIcon:"ui-iggrid-addrowicon ui-icon ui-icon-circle-plus",deleteIcon:"ui-iggrid-deleteicon ui-icon ui-icon-circle-close",editor:"ui-iggrid-editor",rowEditDialogHeaderCaption:"ui-dialog-titlebar ui-iggrid-filterdialogcaption ui-widget-header ui-corner-all ui-helper-reset ui-helper-clearfix",rowEditDialogHeaderCaptionTitle:"ui-dialog-title",rowEditDialog:"ui-dialog ui-draggable ui-resizable ui-iggrid-dialog ui-widget ui-widget-content ui-corner-all",blockArea:"ui-widget-overlay ui-iggrid-blockarea",rowEditDialogOkCancelButton:"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix ui-iggrid-filterdialogokcancelbuttoncontainer",rowEditDialogTable:"ui-iggrid-filtertable ui-helper-reset"},setCellValue:function(t,i,n,r){e(t)||"string"!=typeof i||(r=r||this.grid.element.children("tbody").find('[data-id="'+t+'"]')[0]||1,this._update(t,r,n,i))},updateRow:function(t,i,n){!e(t)&&i&&(n=n||this.grid.element.children("tbody").find('[data-id="'+t+'"]')[0]||1,this._update(t,n,i))},addRow:function(t){this._update(t||{})},deleteRow:function(t,i){
e(t)||(i=i||this.grid.element.children("tbody").find('[data-id="'+t+'"]')[0]||1,this._update(t,i))},startEdit:function(e,i,n){var r,o=this.grid.cellAt(i,e);return"rowedittemplate"===this.options.editMode?(r=this.grid.rowAt(e),this._startEditRowTemplate(n,t(r))):(o&&(o=1===this._startEdit(t(o),n||1,1)),!!o)},startAddRowEdit:function(e){var i=this._newTR;return"rowedittemplate"===this.options.editMode?this._startEditRowTemplate(e):(i&&(i=1===this._startEdit(t(i.children()[0]),e||1,1,1,this._addTR.children()[0].offsetHeight)),!!i)},endEdit:function(t,e){return"rowedittemplate"===this.options.editMode?t?this._rowEditDialogDoUpdate(e):this._closeRowEditDialog(e):!this._endEdit(e||1,t)},findInvalid:function(){var t,e=this._editors;for(t in e)if(e.hasOwnProperty(t)&&e[t]&&!n(e[t],"isValid"))return t;return null},isEditing:function(){return!!this._tds},editorForKey:function(t){var e=this._editors;return e?e[t]:null},editorForCell:function(t,e){var i,n=this._key(t),r=this._editors;return r||(r=this._editors={}),i=r[n],!i&&e&&(i=r[n]=this._createEditor(t,n)),i},findHiddenComboEditor:function(t){var e=this._hCombos,i=e&&t?t.data("igCombo"):null,n=i?i.options._hComboID:null,r=n?e[n]:null;return i=r?r.combo.data("igCombo"):null,i&&(i._colKey=r.key),i},_setOption:function(t,e){var i=this.options;return i[t]===e?this:(this._endEdit(),this._doButtons(2),i[t]=e,t.indexOf("ddRow")>0&&(this._headerRendered(),this.grid._initializeHeights()),this)},_fire:function(t,e,i){return i&&e&&1!==e?(i.owner=this,this._trigger(t,e,i)):1},_loc:function(i,n){return e(n=this.options[i+=n?"Tooltip":"Label"])&&(n=t.ig.GridUpdating&&t.ig.GridUpdating.locale?t.ig.GridUpdating.locale[i]:null),n||""},_div:function(){return this.grid.container()},_hscroll:function(e){if(!this._hscr1){var i=this.grid.element;this._hscr1=t("#"+i[0].id+"_hscroller"),this._hscr2=this._hscr1.length?this._hscr1:i.parent()}return e?this._hscr1:this._hscr2},_groupedColumnsChanged:function(t){this._groupCols=t.groupedColumns.length,this._hidingFinishing(),this._headerRendered()},_headerRendered:function(n){var o,s,a,l,u,h,d,c=this,p=c.css,f=c._addTrShift,g=0,m=c._addTR,v=c.options,_=c.grid,y=_.options.columns,b=y.length,w=_._initialHiddenColumns||[],x=[];if(!v.enableAddRow||1===n)return void(m&&(m.remove(),c._newTR.remove(),c._hierTD=c._newTR=c._addTR=null));if(h=c._loc("addRow")||"&nbsp;",d=c._loc("addRow",1),m&&(m.find(".anr_t").html(h),m.find(".ui-iggrid-addrow").attr("title",d),m.find(".anr_i").css("display","inline-block")),o=c._div().find("thead"),o&&!m){if(s=v.showPlusIcon,m=c._addTR=t("<tr />").addClass(p.addRow).attr("data-skip","true").appendTo(o),f)for(n=0;n<f.length;n++)t(f[n]).appendTo(m);else c._hierOn=r(),_._headerInit(m),c._hierTD=m.children().length;for(n=0;n<b;n++)y[n].hidden?x.push(y[n].key):g++;for(n=0;n<w.length;n++)t.ig.indexInArray(x,w[n].key)===-1&&(x.push(w[n].key),g--);if(c._groupCols&&(c._groupTD1=t("<td />").addClass("ui-iggrid-rowselector-header").attr("data-skip","true").appendTo(m)),a=t('<td colspan="'+g+'"></td>').attr("title",d).addClass(p.addRow).appendTo(m),c._addLeft=i(a,"paddingLeft"),t("<span />").css("display","inline-block").addClass(p.addRowIcon).addClass("anr_i").appendTo(a),t("<span>"+h+"</span>").addClass("anr_t").css("outline",0).attr("tabIndex",c._ti+1).focus(function(t){c._onEvt(t,5)}).blur(function(t){c._onEvt(t,6)}).appendTo(a),m=c._newTR=t("<tr />").attr("data-skip","true").appendTo(o).hide(),f=this._newTrShift)for(n=0;n<f.length;n++)t(f[n]).appendTo(m);else _._headerInit(m);for(c._groupCols&&(c._groupTD2=t("<td />").addClass("ui-iggrid-rowselector-header").attr("data-skip","true").appendTo(m)),n=0;n<b;n++)l=y[n],l.hidden||t.ig.indexInArray(x,l.key)!==-1||(u=c._colSet(0,l?l.key:null),s=u&&u.readOnly,h=e(h=s?u.defaultValue:null)?"&nbsp;":_._renderCell(h,l),a=t("<td>"+h+"</td>").addClass(p.editingCell).appendTo(m),s&&l&&l.key===_.options.primaryKey&&(c._tdAddPrime=a))}},_hierGridInDiv:function(){var t,e,i,n,r=0,o=-1,s=this._newTR,a=this._addTR;for(e=s.parent().children();++o<e.length&&(e[o]===a[0]||e[o]===s[0]););if(!(o>e.length)){for(e=e[o].childNodes,i=e.length,o=0;o<i&&(n=e[o],t=n.getAttribute("data-skip")?n.className:null,t&&(t.indexOf("-expand")>=0||t.indexOf("-rowselector")>=0));o++)r++;for(e=s.children(),i=e.length,o=0;o<i&&(n=e[o],n.getAttribute("data-skip"));o++)r--;for(;r-- >0;)this.grid._headerInit(s,null,!0),this.grid._headerInit(a,null,!0)}},_hierHeaderInit:function(){var t,e=this,i=e._hierOn,n=e._addTR;if(n&&i&&!(r()-i>200)){if(e._hierTD)return setTimeout(function(){e._hierGridInDiv()},0),void setTimeout(function(){e._hierGridInDiv()},200);t=n.children().length,e.grid._headerInit(n,null,!0),e.grid._headerInit(e._newTR,null,!0),e._hierTD=n.children().length-t}},_dataRendered:function(){this._wasInit||(this._scrollDiv(),this._div().bind(this._evts),this._wasInit=!0)},_findCell:function(e){var i=0,n=t(e),r=this.grid.element[0];for(n.is("td")||(n=n.closest("td")),e=n;e&&i++<5&&(e=e.parent(),!e||e[0]!==r););return 3===i&&this._col(n)>=0&&this._row(n)>=0?n:null},_td:function(){var t,e=this._tds;if(e)for(t in e)if(e.hasOwnProperty(t)&&e[t])return e[t]},_row:function(t){return t?t.parent().index():-1},_idForCol:function(t,e){for(var i=-1,n=this._col(1),r=n?n.length:0;(r-=1)>=0;)if(!(n[r]<0)){if(e===-2)return r;if(n[r]===t){if(1===e)return i;if(e!==-1)break;e=-2}i=r}return r},_isAdd:function(t){return 1===t?this._adding:this._isSrc(this._addTR,t)||this._isSrc(this._newTR,t)},_col:function(t){var e,i,n,r,o,s=this._isAdd(t),a=s?this._mapAdd:this._map;if(!a){for(e=this._colShift(t),a=[],r=o=-1;e-- >0;)a[o+=1]=-1;for(n=this.grid.options.columns,i=n.length;(r+=1)<i;)n[r]&&!n[r].hidden&&(a[o+=1]=r);s?this._mapAdd=a:this._map=a}return 1===t?a:(r=t.index()+(this.grid._startColIndex||0),t&&r<a.length?a[r]:-1)},_colSet:function(t,e){var i,n=this.options.columnSettings;for(e||(e=this._key(t)),i=n&&e?n.length:0;i-- >0;)if(n[i].columnKey===e)return n[i]},_isSame:function(t,e){return this._row(t)===this._row(e)&&this._col(t)===this._col(e)},_gridCol:function(t,e){for(var i=-1,n=this.grid.options.columns;++i<n.length;)if(n[i].key===t)return e?i:n[i]},_prime:function(t){var i=t.parent().attr("data-id");return e(i)?this._row(t):this._fixPrime(i)},_defVal:function(t,e){var i;return t&&(i=this._colSet(null,t),i=i?i.defaultValue:null,e&&t===this.grid.options.primaryKey&&(i=this._defValue,i||(i={value:i||this._addRowNum},this._fire("generatePrimaryKeyValue",this._evt||{},i),this._defValue=i=i.value))),i},_addReadOnly:function(t){var i,n,r,o=this.options.columnSettings,s={};for(n in o)o.hasOwnProperty(n)&&(i=o[n],n=i.columnKey,i.readOnly&&(t?e(i=this._defVal(n,1))||(s[r=n]=i):s[n]=this._getVal(this._row_,n)));return!r&&t&&this._fixPrime(s,this.grid.dataSource),s},_key:function(t){var e=this.grid.options.columns,i=this._col(t);return i=e&&i>=0?e[i]:null,i?i.key:null},_equals:function(t,e){return t===e||t&&e&&t.getTime&&e.getTime&&t.getTime()===e.getTime()},_val:function(t,i,n){var r,o=this._adding,s=this._row_,a=this._key(t);r=o?this._defVal(a,n&&e(n[a])):this._getVal(s,a);{if(!i)return r;if(o||!this._equals(r,i.value)){if(n)return i.value;this._update(s,t.parent()[0],i.value,a,t)}}},_colShift:function(t,e){var i,n,r=this._cShift,o=this._cShiftAdd;if(!e&&t&&(e=t.parent()[0]),!e)return r<0?0:r;if(n=this._isAdd(e)){if(o>=0)return o}else if(r>=0)return r;if(e=e?e.childNodes:null,!e)return 0;for(r=0,i=0;i<e.length-1&&(t=e[i].className,t&&(t.indexOf("-expandcolumn")>=0||t.indexOf("-rowselector")>=0)||e[i].getAttribute("data-skip"));i++)r++;return n?this._cShiftAdd=r:this._cShift=r,r},_cur:function(t,e){return{tbl:t.parent().parent().parent(),row:e?this._rowIndex:this._row(t),col:this._col(t)}},_nextTD:function(e,i,n){var r,o,s,a,l,u,h=e.tbl.children("tbody")[0],d=h?h.childNodes:0,c=d?d.length:0,p=e.row;if(!(c<1||p<0||p>=c)&&(a=d[p])){if(o=a.childNodes,u=this._col(1),s=o.length,a="-tr1"===i?p-1<0?c:p-1:p+(i||1),r=this._idForCol(e.col,i),i&&"-tr1"!==i){if(r>=0&&(e.col=u[r],l=o[r]),!l&&n&&a>=0&&a<c){if(i>0)r=u[0]>=0?0:1;else for(r=u.length;(r-=1)>=0&&!(u[r]>=0););r>=0&&(e.col=u[r],l=d[e.row=a].childNodes[r])}}else l=a<c?d[e.row=a].childNodes[r]:null;return e.td=l?t(l):null,l?e:null}},_nextEditor:function(t,e){var i,n,r=null,o=this._editors;for(n in o)if(o.hasOwnProperty(n)){if(e&&t===n)return r;if(n&&(i=o[n],i&&i[0]&&i[0].offsetWidth>0)){if(null===t)return i;r=i}t===n&&(t=null)}},_nextEdit:function(t,e){var i,n=this._td();if(n){for(i=this._cur(n,!0);this._nextTD(i,e,1);)if(this._startEdit(i.td,t,1))return;this._endEdit(t,1)}},_createEditor:function(n,r){var s,a,l,u={},h=this,d=h._gridCol(r)||{},c=d.format,p=h.css.editor,f=h._xy,g=h._colSet(n,r),m=g?g.editorProvider:null,v=h._tdBdrTop;return g&&g.readOnly?null:(f||(v=h._tdBdrTop=i(n,"borderTopWidth"),s=t("<span />").addClass(p).prependTo(n),h._xy=f={x:i(s,"marginLeft"),y:i(s,"marginTop")},f.dx=f.x+i(s,"marginRight"),f.dy=f.y+i(s,"marginBottom"),s.remove()),s=null,g&&(u=g.editorOptions||u,a=u.validatorOptions,s=g.required,a||!g.validation&&!s||(a={}),s&&(a.required=u.required=!0)),h.options.validation&&!a&&(a={}),a&&(h.grid.element.igValidator||o("igValidatorException"),g&&(g.editorOptions=u),u.validatorOptions=a,a.bodyAsParent=!1,a.keepFocus=2,a.errorHidden=function(){h._error=null,h._butDone&&h._butDone.removeClass(h.css.buttonDisabled)},a.errorShowing=function(){if(!e(h._error)&&h._error!==r)return!1},a.errorShown=function(t,e){h._error=r,h._butDone&&h._butDone.addClass(h.css.buttonDisabled),e=e.owner._lbl,e&&e.css("zIndex",99999),h._scrollTo(r)}),m||(m="bool"===d.dataType&&("checkbox"===c||!c&&h.grid.options.renderCheckboxes)?new t.ig.EditorProviderCheckbox:g&&"combo"===g.editorType?new t.ig.EditorProviderCombo:g&&"rating"===g.editorType?new t.ig.EditorProviderRating:new t.ig.EditorProviderDefault),h._hComboInit(u),l=m.createEditor(h,r,g,h._ti,c,d.dataType,h._val(n)),l.addClass(p).css({marginLeft:f.x-i(n,"paddingLeft")+"px",marginTop:f.y-v-i(n,"paddingTop")+"px"}),s=l.igEditorFilter({provider:m}))},_notifyChanged:function(){var t=this._butDone;t&&(this.findInvalid()?t.addClass(this.css.buttonDisabled):t.removeClass(this.css.buttonDisabled)),this._modified=1},_notifyEditorKey:function(i,r){var o,a,l,u,h,d,c,p=i.keyCode||i.which||0,f=27===p,g=this.options;if((9===p||13===p||f)&&(h=this._editors[r],h&&(13!==p||!(i.shiftKey||i.ctrlKey||this._13)))){if(f)return a=h._oldCellVal,l=n(h,"getValue"),this._equals(a,l)||(n(h,"setValue",a),this._equals(n(h,"getValue"),l))?this._endEdit(i,null,200):(n(h,"validate"),void s(i));if(13===p||!this._adding&&"cell"===g.editMode)return d=t(i.target),d.length>0&&d.find("input").first().trigger("blur"),c=this.options.horizontalMoveOnEnter?1:9===p?i.shiftKey?-1:1:0,this._nextEdit(i,c);if(u=this._nextEditor(r,i.shiftKey),!n(h,"validate"))return void s(i);s(i);try{u&&this._adding&&!e(this.grid._startColIndex)&&this.grid.table&&this.grid.table.rows[0]&&!this.grid.cellAt(this._col(u.parent()),0)&&(u=null)}catch(t){u=null}if(u)return void this._scrollTo(u.parent(),u);if(o=this._butDone,!o||0===o[0].offsetWidth)return this._nextEdit(i,0);o.hasClass(this.css.buttonDisabled)&&(o=this._butCancel),o[0].focus(),this._prevEdit=h}},_evtArg:function(t,i,n){var r={rowAdding:!!this._adding,columnIndex:this._col(t),rowID:this._row_,columnKey:this._key(t),editor:i};return r.value=e(n)?null:n,r},_checkHidden:function(t){for(var i,n,r,o=this.grid.options.columns,s=o.length;s-- >0;)r=o[s],r&&r.hidden&&(i=this._colSet(null,r?n=r.key:null),i=i&&e(t[n])?i.defaultValue:null,null!==i&&(t[n]=i))},_isToggle:function(t){return t=t&&t.type&&t.type.indexOf("click")>=0?t.target:null,t&&t.className&&t.className.indexOf("ui-icon-check")>=0},_lastTDWidth:function(t,e){var n=i(t,"paddingRight")>12,r=n||!t.next()[0]?t.closest("div")[0]:null,o=r&&t[0].offsetLeft+t[0].offsetWidth>r.clientWidth+5?r.offsetWidth-r.clientWidth:0;return o>10&&(r=n?null:this._hscroll(1)[0],(!r||r.offsetWidth<r.clientWidth+3)&&(e-=Math.min(18,o))),e},_hComboInit:function(e){var i,n,r,o,s,a,l="cell"===this.options.editMode,u=e.parentCombo,h=this._hCombos;if(u)for(s=this.options.columnSettings,i=s.length,a=h?h[u]:null,a&&(e._hComboID=u,e.parentCombo=a.combo,i=0);i-- >0;)if(r=s[i],o=r.columnKey,n=this._gridCol(o),a="combo"===r.editorType&&(l||n&&n.hidden)?r.editorOptions:null,a&&a.id===u)return this._hCombos=h=h||{},e._hComboID=u,e.parentCombo=a=t('<span id="'+u+'"></span>').igCombo(a),void(h[u]={key:o,combo:a})},_hComboEdit:function(t){var e,i,n=this.findHiddenComboEditor(t);n&&(i=n.options,i.filteringType&&(n.selectedIndex(-1),n.activeIndex(-1),n.dataBind()),e=this.grid.getCellValue(this._row_,n._colKey),i.allowCustomValue?n.text(null===e?i.nullText||"":e):n.value(e))},_hComboRemove:function(t){var e,i,n,r=this._hCombos;if(r){for(e in r)r.hasOwnProperty(e)&&(n=r[e].combo,n&&n.igCombo("destroy"));for(delete this._hCombos,r=this.options.columnSettings,e=t?0:r.length;e-- >0;)i=r[e].editorOptions,n=i?i._hComboID:null,n&&(i.parentCombo=n)}},_startEdit:function(r,o,a,l,u,h){var d,c,p,f,g,m,v=this.grid,_=v.options.primaryKey,y=r?r[0]:null,b=null,w=!1,x=this.options;if(y){if(o){if(delete this._defValue,this._delHover(),this._cShift=this._cShiftAdd=-1,this._map=void 0,this._tds){if(l||(r=this._cur(r)),this._endEdit(o,1))return 1;if(!l){if(d=this._idForCol(r.col),c=r.row<0||r.col<0||d<0?null:r.tbl.children("tbody")[0],r=c?c.childNodes[r.row]:null,r&&(r=r.childNodes[d]),!r)return;r=t(r)}}if(!l&&!this._checkRow(r.parent()))return;if(this._row_=l?-1:this._prime(r),this._rowIndex=l?-1:this._row(r),u||(u=r[0].offsetHeight),l||"row"===x.editMode){if(!this._fire("editRowStarting",o,f={rowAdding:!!l,rowID:this._row_}))return this._row_=null,void(this._rowIndex=-3);for(l&&(this._adding=l,this._tdAddPrime&&(d=this._gridCol(_),m=this._defVal(_,1),this._tdAddPrime.html(d?v._renderCell(m,d):m)),this._addTR.hide(),this._newTR.show(),this._addFixScroll||(this._addFixScroll={scroll:function(){var t=v.scrollContainer()[0],i=t?t.scrollLeft:-1,n=this.scrollLeft;!e(n)&&i>=0&&i!==n&&(t.scrollLeft=n)}}),this._addTR.closest("div").bind(this._addFixScroll)),c=r.parent().children(),this._evt=o,d=0;d<c.length;d++)r=t(c[d]),this._col(r)<0||c[d].offsetWidth<3||(r.addClass(this.css.editingCell),b=b||r,this._startEdit(r,null,1===a||o&&r[0]===y,l,u,this._isToggle(o)&&r[0]===y)&&(w=1,a=null));if(delete this._evt,w&&b&&x.showDoneCancelButtons&&this._doButtons(b),w?(s(o),this._fire("editRowStarted",o,f)):c.removeClass(this.css.editingCell),this._sel("act",b),l&&w){for(;u-this._newTR[0].offsetHeight>0&&(w&&(w=null,r=t(c[0]),l=i(r,"paddingTop")+i(r,"paddingBottom")+i(r,"borderTopWidth")+i(r,"borderBottomWidth")+1),!((l-=1)<0));)r.css("height",u-l);w=1}return w}h=h||this._isToggle(o)}if(g=this.editorForCell(r,1),!e(this._row_)&&g&&(p=r.outerWidth(),u||(u=r[0].offsetHeight),p&&u&&this._fire("editCellStarting",o||this._evt,f=this._evtArg(r,g,this._val(r,null,1)))))return this._hComboEdit(g),p=this._lastTDWidth(r,p),p-=this._xy.dx+2,u-=this._xy.dy,o&&(s(o),r.addClass(this.css.editingCell)),g.prependTo(r),n(g,"setSize",Math.max(8,p),Math.max(10,u)),this._tds||(this._tds={}),this._tds[this._key(r)]=r,w=n(g,"validator"),w&&w._setOption&&w._setOption("bodyAsParent",v.options.fixedHeaders!==!1&&this._adding),n(g,"setValue",f.value),g._oldCellVal=n(g,"getValue"),this._fire("editCellStarted",o||this._evt,f),a&&this._scrollTo(r,g,!1,300,h),o&&this._sel("act",r),1}},_endEdit:function(t,i,r){var o,a,l,u,h,d,c,p,f=i,g=t||"undefined",m=this._adding,v=null,_=null,y=null,b=this._tds,w=this.options;if(b&&!this._skip){if(t&&"mousedown"!==t.type&&s(p=t),o=m||"row"===w.editMode,this._modified||m||(i=!1),o){for(u in b)if(b.hasOwnProperty(u)&&t&&!e(h=b[u])&&f&&!e(a=this.editorForCell(h))&&a[0]&&a[0].offsetWidth&&a.igEditorFilter("hasInvalidMessage"))return p||s(p=t),this._scrollTo(h,a,1),1;y=this._addReadOnly(m),c={};for(u in b)b.hasOwnProperty(u)&&f&&!e(h=b[u])&&!e(a=this.editorForCell(h))&&(y[u]=n(a,"getValue"),c[u]=a._oldCellVal,t&&a[0]&&a[0].offsetWidth&&!n(a,"validate",!w)&&(p||s(p=t),w&&this._scrollTo(h,a,1),w=null));if(t&&!w)return 1;if(m&&this._checkHidden(y),this._skip=1,this._fire("editRowEnding",g,_={oldValues:c,values:y,rowID:this._row_,keepEditing:!1,update:!!i,rowAdding:!!m})||(_.update=i=f=!1),delete this._skip,t&&_.keepEditing)return 1}o&&this._td().parent().children().removeClass(this.css.editingCell),v=null;for(u in b)if(b.hasOwnProperty(u)&&!e(h=b[u])&&!e(a=this.editorForCell(h))){if(!y){if(t&&f&&!n(a,"validate"))return p||s(p=t),this._scrollTo(h,a,1),1;h.removeClass(this.css.editingCell)}if(this._skip=1,this._doButtons(1),l=n(a,"getValue"),d=this._evtArg(h,a,l),d.update=!!i,d.oldValue=a._oldCellVal,y||(d.keepEditing=!1),this._fire("editCellEnding",g,d)||(d.value=a._oldCellVal),f&&!y&&t&&d.keepEditing)return s(t),this._scrollTo(h,a,1),delete this._skip,1;if(r){try{a.parent()[0].focus()}catch(t){}r=null}a.igEditorFilter("remove"),l=d.value,i&&y&&(y[u]=l),!i||void 0===this._val(h,d,y)||v||this._equals(l,a._oldCellVal)||(v=h.parent()[0]),delete b[u],this._fire("editCellEnded",g,d),delete this._skip}this._skip=1,this._modified=this._prevEdit=this._tds=this._error=null,m?(this._addTR.closest("div").unbind(this._addFixScroll),this._addTR.show(),this._newTR.hide(),this._adding=null,i&&this._fire("rowAdding",g,_)&&(this._update(y),this._sel("refresh"),this._fire("rowAdded",g,_),this._addRowNum++)):v&&this._update(this._row_,v,y),this._fire("editRowEnded",g,_),this._rowIndex=-3,this._row_=null,this._sel("end",t),delete this._skip}},_scrollDiv:function(){var t=this,e=t._scrl,i=t.grid.element;return e&&t._sEvts?e:(t._scrl=e=i?i.parent():null,e&&!t._sEvts&&e.is("div")&&(t._scrollX=e.scrollLeft,e.bind(t._sEvts={scroll:function(e){t._onEvt(e,9)}})),e)},_scrollTo:function(t,e,i,r,o){var s,a,l,u,h,d,c,p,f=this._adding,g=0,m=0,v=e;if(!e&&"string"==typeof t){if(t=this._tds?this._tds[t]:null,!t)return;if(e=this.editorForCell(t),!e)return;i=1}if(v&&(e.igEditorFilter("setFocus",100,o),r&&e.igEditorFilter("setFocus",r)),e&&i&&(d=n(e,"validator"),d=d?d._lbl:null,d&&(f||0!==t.has(d).length)&&(g=d[0]._width0||80,m=d[0]._height0||18,s=this._cur(t))),l=this._scrollDiv(),c=t.offset(),a=l.offset(),l=l[0],a.w=l.clientWidth,a.h=l.clientHeight,c.w=t.outerWidth(),c.h=t.outerHeight(),u=c.left-a.left,h=c.top-a.top,g>c.w){for(r=s.col,p=c.w,c.w=g+=5;p<g&&this._nextTD(s,1);)p+=s.td[0].offsetWidth;(p-=g)<0&&((c.x+=p)<0&&!f&&(p-=c.x,c.x=0),this.grid._hasVerticalScrollbar&&(p-=this.grid._scrollbarWidth()),d.css("marginLeft",p+"px"))}if(!f&&m>1&&s.row>1){for(s.col=r,p=m+=3;p>0&&this._nextTD(s,0);)p-=s.td[0].offsetHeight;p>0&&(d.css("marginTop","-"+m+"px"),h-=m)}"DIV"===l.nodeName&&(u>0&&(u+=c.w-a.w)<0&&(u=0),h>0&&(h+=m+c.h-a.h)<0&&(h=0),0!==u&&(this._hscroll()[0].scrollLeft+=u),f||0===h||(l.scrollTop+=h))},_upDown:function(t){if(t=t.parent(),t.prev().length<1)return 1;if(t.next().length>0)return 0;t=this.grid.element;var e=t.parent()[0];return e&&e.clientHeight-t[0].offsetHeight>25?0:-1},_minWidth:function(t,e){var i=e[0];return i.id.indexOf("_container")<0&&e.parents(".ui-iggrid").length>0&&(i=e.parent()[0]),e=Math.min(e[0].clientWidth||e[0].offsetWidth,i.clientWidth||i.offsetWidth),t?Math.min(e,t.closest("table")[0].clientWidth):e},_doButtons:function(e){var i,n,r,o,s,a,l,u,h,d,c=this._oldOverflow,p=this._adding,f=this.css,g=this.grid.element,m=this._buts;return 1===e||2===e?(c&&(delete this._oldOverflow,c.e.css("overflowX",c.x).css("overflowY",c.y)),m&&(m.hide(),2===e&&(m.remove(),this._buts=null)),void(2===e&&this._delBut&&(this._delHover(),delete this._delBut))):(e&&(l=g.parent(),d=l[0]?Math.max(l[0].scrollHeight,l[0].offsetHeight):-1,d>=0&&d<20&&(this._oldOverflow={e:l,x:l.css("overflowX"),y:l.css("overflowY")},l.css("overflowX","visible").css("overflowY","visible")),m||(m=this._buts=t("<div />").css("position","absolute").addClass(f.buttonContainer).attr("unselectable","on").prependTo(l),this._butDone=d=t("<span />").addClass("done_id").addClass(f.button).addClass(f.doneButton).attr("unselectable","on").attr("tabIndex",this._ti+1).attr("title",this._loc("done",1)).appendTo(m).bind(this._evts),t("<span />").css("display","inline-block").addClass(f.doneIcon).attr("unselectable","on").appendTo(d),s=this._loc("done"),s?t("<span />").css("display","inline-block").attr("unselectable","on").html(s).appendTo(d):d.addClass(f.buttonIconOnly),this._butCancel=d=t("<span />").addClass(f.button).addClass(f.cancelButton).attr("unselectable","on").attr("tabIndex",this._ti+1).attr("title",this._loc("cancel",1)).appendTo(m).bind(this._evts),t("<span />").css("display","inline-block").addClass(f.cancelIcon).attr("unselectable","on").appendTo(d),s=this._loc("cancel"),s?t("<span />").css("display","inline-block").attr("unselectable","on").html(s).appendTo(d):d.addClass(f.buttonIconOnly),m._height=m[0].offsetHeight,m.css("width",Math.max(m[0].clientWidth+1,(m._width=m[0].offsetWidth)-3)))),void(m&&(a=this._scrollDiv(),e&&(d=Math.max(g[0].offsetHeight,g.parent()[0].offsetHeight),m.show(),p&&null===this.findInvalid()?this._butDone.removeClass(f.buttonDisabled):this._butDone.addClass(f.buttonDisabled),m.css({marginLeft:(this._butsX=0)+"px",marginTop:"0px"}),n=m.offset(),r=m[0].offsetHeight,i=e.offset(),o=e[0].offsetHeight,i.top-=n.top,u=a[0].scrollTop,h=p?1:this._upDown(e),h||(h=a[0].clientHeight+u-i.top-o-5-r,h<1&&h>i.top-r-u-5&&(h=1)),h=h>0?i.top+o+5:i.top-r-5,h+r>d&&(h+r<d+6?h=d-r-2:h-=10+r+o,h=Math.max(0,h)),m.css({marginTop:h+"px"}),this._butsY=p&&1===g.has(this._addTR).length?h:0),0!==(d=this._minWidth(e,a)-(m.offset().left+m._width+3-a.offset().left))&&m.css("marginLeft",(this._butsX+=d)+"px"),p&&this.grid.options.fixedHeaders!==!1&&m.css("marginTop",this._butsY+a[0].scrollTop+2+"px"))))},_isEditor:function(t){var e,i,n,r,o,s=this._tds,a=this.options;if(s){if(o=this._findCell(t),o&&"row"===a.editMode&&this._row(o)===this._rowIndex)return 1;e=this.grid.element[0];for(r in s)if(s.hasOwnProperty(r)&&(o=s[r],o&&(n=this.editorForCell(o))))for(i=t,n=n[0];i&&i!==e;){if(i===n)return 1;i=i.parentNode}}},_aCell:function(){var e,i=-1,n=this._sel("get");if(e=n?n.activeCell():null)return e.element;if(e=n?n.activeRow():null)for(e=e.element[0].childNodes;++i<e.length;)if(e[i].offsetWidth>0)return t(e[i])},_sel:function(t,e){var i,n,r,o=this.grid.element.data("igGridSelection");if(!o||"get"===t)return o;if("end"===t)return delete o._suspend,void(e&&"mousedown"===e.type&&o._mouseDown(e));if("wait"===t){for(n=o.selectedRows(),i=n?n.length:0;i-- >0;)if(r=n[i].element,r&&r.has(e).length)return;for(n=o.selectedCells(),i=n?n.length:0;i-- >0;)if(r=n[i].element,r&&r[0]===e[0])return;if(n=o.selectedRow(),r=n?n.element:null,r&&r.has(e).length)return;if(n=o.selectedCell(),r=n?n.element:null,r&&r[0]===e[0])return;return 1}if("refresh"===t)return o._refresh();if("act"===t){if(o._suspend=1,!e)return;return"row"===o.options.mode?o._activateRow(o._realActiveRow={element:e.parent(),index:this._row(e)}):(e=o._cellFromElement(e[0],this._row(e),this._col(e)),o._activateCell(e))}},_doDelete:function(e,i){var n,r,o;if(!i){for(r=this._sel("get"),o=r?r.selectedRows():null,n=0;n<(o?o.length:0);n++)this._doDelete(e,o[n].element);o=r?r.selectedRow():null,o&&this._doDelete(e,o.element)}if(i&&!i[0]._deleted&&this._fire("rowDeleting",e,o={element:i,rowID:this._prime(t(i.children()[0]))}))return i[0]._deleted=1,this._delHover(),this._update(o.rowID,i[0]),e&&this._sel("refresh"),this._fire("rowDeleted",e,o),1},_checkRow:function(e){return e=e&&e.index()<this.grid.rows().length?e[0]:null,e&&e.className.indexOf(this.grid.css.deletedRecord)<0&&!t(e).attr("data-grouprow")&&t(e).parent().is("tbody")&&t(e).parent()[0]===this.grid.element.find("tbody")[0]?e:null},_delHover:function(e){var n,r,o,a,l,u,h,d,c,p,f,g,m,v,_=this._delBut,y=this._delTR,b=this.css;if(_&&this._doHov(this._isSrc(_,e)?_[0]:null,b.buttonHover),e=e?this._checkRow(t(e).closest("tr")):null,e!==y&&(y||e)&&(this._delTR=e,_||(this._delBut=_=t("<span />").css("position","absolute").addClass(b.deleteButton).attr("unselectable","on").attr("title",this._loc("deleteRow",1)),t("<span />").css("display","inline-block").addClass(b.deleteIcon).attr("unselectable","on").appendTo(_),r=this._loc("deleteRow"),r&&t("<span />").css("display","inline-block").attr("unselectable","on").html(r).appendTo(_)),y&&_.remove(),e)){for(n=this._colShift(null,e)-1,g=e.childNodes;(n+=1)<g.length&&!(g[n].offsetWidth>0););e=g[n],e&&(m=t(e),f=this.grid.element.parent(),_.css({marginLeft:"0px",marginTop:"0px"}).prependTo(f).bind(this._evts).mouseup(function(t){s(t)}),c=_.offset(),p=m.offset(),a=_[0].offsetHeight,l=e.offsetHeight,d=p.top-c.top,v=d+Math.round((l-a)/2),h=f[0].scrollLeft,u=this._minWidth(m,f),a=_[0].offsetWidth,o=u+h-a-i(m,"paddingLeft")-i(m,"borderLeftWidth")-5,_.css({marginTop:v+"px",marginLeft:o+"px"}),(d=a+_.offset().left-p.left-h-u+5)>0&&_.css("marginLeft",o-d+"px"))}},_isSrc:function(t,e){if(t&&e&&(t[0]===e||t[0]===e[0]||t.has(e).length>0))return t},_doHov:function(e,i){var n=this._hov;return n&&i&&n.e[0]===e?1:(n&&n.e.removeClass(n.css),i?(this._hov={e:e=t(e),css:i},e.addClass(i)):void delete this._hov)},_noMove:function(e){var i,n,r,o,s,a=this._nm;if(1!==a&&(!e||a)){if(!a&&(s=this.grid.element[0].id,r=t("#"+s+"_scroll"),1!==r.length&&(r=t("#"+s+"_displayContainer")),!r.length))return void(this._nm=1);if(a=this._nm=this._nm||{x:0,y:0,div:r[0]},o=a.ex=a.ex||t("#"+s+"_hscroller")[0]||t("#"+s+"_horizontalScrollContainer")[0]||a.div,i=a.ex.scrollLeft,a.ey=a.ey||t("#"+s+"_scrollContainer")[0]||a.div,n=a.ey.scrollTop,e)return Math.abs(a.x-i)>1||Math.abs(a.y-n)>1;a.x=i,a.y=n}},_onEvt:function(e,i){var n,o,a,l,u,h,d,c=this,p=r(),f=c._hovTouch,g=e?e.target:null,m=e?e.keyCode:0,v=c._lastEvt,_=c.css,y=c._delBut,b=c._newTR,w=c._addTR,x=c.grid.element,C=c.options;if(C.excelNavigationMode===!0&&this._isEditor(g)&&(n=this._findCell(g))){if(d=this.editorForCell(n).data("igEditor"),t.ig.indexInArray([39,37],m)>=0&&(null===d._old&&null===d.value()||null!==d._old&&null!==d.value()&&d._old.toString()===d.value().toString()))return 37===m&&this._nextEdit(e,-1),void(39===m&&this._nextEdit(e,1));if(38===m)return void this._nextEdit(e,"-tr1");if(40===m)return void this._nextEdit(e,0)}if(!(!x||!g||(i<4||13===m)&&(e.shiftKey||e.ctrlKey)||13===m&&c._13||(8===m&&g.readOnly&&s(e),9!==i&&v&&v.src===g&&v.type===i&&v.x===e.pageX&&v.y===e.pageY&&p<v.now+500))){if(c._lastEvt={src:g,now:p,type:i,x:e.pageX,y:e.pageY},11===i)return f=e.originalEvent.pointerType,void(c._tds||f&&2!==f||(c._hovTouch=C.enableDeleteRow&&"row"===C.editMode?c._delTR||1:null,c._noMove()));if(8===i){if(f)return;return this._delHover(),this._doHov()}if(v=y?c._isSrc(y,g):null,u=x.find("tbody"),7===i)return void(C.enableDeleteRow&&(v?y.addClass(c.css.buttonHover):(y&&y.removeClass(c.css.buttonHover),this._delHover(this._tds||!this._isSrc(u,g)||this._noMove(!0)?null:g))));if(v&&i<4)return void(2===i&&(s(e),this._doDelete(e,t(this._delTR))&&delete this._delTR));if(l=w?w.children()[w.children().length-1]:null,46===m)return C.enableDeleteRow?this._doDelete(e):null;if(9===i){if(this._nm&&!this._noMove(!0))return;return this._delHover(),v=g.scrollLeft,this._tds&&this._doButtons(),w&&v!==this._scrollX&&t(l).css("paddingLeft",this._addLeft+v+"px"),void(this._scrollX=v)}if(this._isSrc(w,g)){if(!this._isSrc(t(l),g))return;if(this._delHover(),g=l,5===i)return t(g).addClass(_.addRowActive);if(6===i)return t(g).removeClass(_.addRowActive);if(7===i)return this._doHov(g,_.addRowHover);if(32===m||13===m)return this.startAddRowEdit(e)}if(27===m)return this._endEdit(e,null,50);if(a=this._isSrc(this._butDone,g),o=this._isSrc(this._butCancel,g),n=this._isSrc(this._buts,g),n||a||o){if(a||o)if(i<5&&s(e),g=a||o,2===i){if(g.hasClass(_.buttonDisabled))return;this._endEdit(e,a,1)}else if(7!==i||g.hasClass(_.buttonDisabled)){if(5===i)g.addClass(_.buttonActive);else if(6===i)g.removeClass(_.buttonActive);else if(13===m||32===m)this._endEdit(e,a,1);else if(9===m){if(e.shiftKey)n=a||this._butDone.hasClass(_.buttonDisabled)?null:this._butDone;else{if(!n)return;n=this._butCancel}if(n)return void n[0].focus();g=this._lastEditor(),n=g?g.parent():null,n&&this._scrollTo(n,g)}}else this._doHov(g[0],_.buttonHover)}else{if(b&&i<4){if(this._isSrc(b,g))return;if(this._isSrc(w,g))return void(2===i&&("rowedittemplate"===C.editMode?this._startEditRowTemplate(e,h,n,1):this.startAddRowEdit(e)))}if(i<4&&!this._isSrc(u,g))return void(this._tds&&g!==x.parent()[0]&&g!==this._div()[0]&&g!==this._hscroll(1)[0]&&this._endEdit(e));if(!(13===m&&(this._nextEdit(e,0),this._tds)||this._isEditor(g)||(n=this._findCell(g),this._tds&&i<4&&(i>1||n)&&this._endEdit(e,this._adding?null:1)))){if(1===i)return void(n&&this._sel("get")&&(this._waitSel=this._sel("wait",n)));if(v="cell"===C.editMode,g=C.startEditTriggers,g&&!this._tds&&(v||"row"===C.editMode||"rowedittemplate"===C.editMode)){if(g.toLowerCase||(g=g.toString()),g=g.toLowerCase(),113===m&&g.indexOf("f2")>=0||13===m&&g.indexOf("enter")>=0?n=this._aCell():(g.indexOf(e.type)<0||2===i&&g.indexOf("dbl")>=0)&&(n=null),f&&i<3&&f!==c._delTR)return;if(n&&(this._isToggle(e)||(!this._waitSel||4===i)&&!this._sel("wait",n))){if("rowedittemplate"===C.editMode&&"true"!==n.parent().attr("data-grouprow"))return void this._startEditRowTemplate(e,h,n);if(this._startEdit(n,e,v))return}}}}}},_startEditRowTemplate:function(i,n,r,o){var s=t("#"+this.grid.container().attr("id")+"_ret");return n=!e(r)&&r.parent().length>0?r.parent():n,this._checkRow(n)||o?(void 0===s[0]&&this._renderRowEditDialog(i,n),this._openRowEditDialog(i,n)):0},_calcRowDialogLeftTop:function(e){var i,n,r,o,s,a,l,u,h,d,c=t("#"+this.grid.container().attr("id")+"_block_ret");d=this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid")?this.element.closest(".ui-iggrid-root").data("igHierarchicalGrid").rootWidget().container():this.grid.container(),r=d.offset(),i=r.left,n=r.top,c.outerWidth()!==d.outerWidth()&&c.css("width",d.outerWidth()),c.outerHeight()!==d.outerHeight()&&c.css("height",d.outerHeight()),t("#"+this.grid.container().attr("id")+"_dialog_error").hide(),c.css({left:i,top:n}).fadeToggle(),s=d.outerWidth(),o=d.outerHeight(),h=t(window).width(),a=t(window).height(),s+i>h&&(s-=s+i-h),s<=0&&(s=d.outerWidth()),o+n>a&&(o-=o+n-a),o<=0&&(o=d.outerHeight()),l=parseInt(this.options.rowEditDialogHeight,10),u=parseInt(this.options.rowEditDialogWidth,10),(isNaN(l)||l<=0)&&(l=e.outerHeight()),(isNaN(u)||u<=0)&&(u=e.outerWidth()),n=n+parseInt(o/2,10)-l/2,i=i+parseInt(s/2,10)-u/2,n=n<0?r.top:n,i=i<0?r.left:i,e.css({left:i,top:n,width:u,height:l}).fadeToggle(t.proxy(this._setResizableEnv,this))},_getColumnSettingsByKey:function(t){var e;for(e=0;e<this.options.columnSettings.length;++e)if(this.options.columnSettings[e].columnKey===t)return this.options.columnSettings[e];return null},_doType:function(t,e){return"text"===t&&(t=0),"mask"===t&&(t=1),"date"===t&&(t=2),"datepicker"===t&&(t=3),"numeric"===t&&(t=4),"currency"===t&&(t=5),"percent"===t&&(t=6),("number"!=typeof t||t<0||t>6)&&(t="number"==typeof e?4:e&&e.getMonth?2:0),this._type=t,t},_fillRowEditDialogTable:function(e){var i,n,r,o,s,a,l,u,h,d,c,p,f=this.grid.options.columns,g=this.options.rowEditDialogRowTemplateID,m=this,v="#"+this.grid.container().attr("id")+"_igButton";for(i=t("#"+this.grid.container().attr("id")+"_ret table tbody"),i.empty(),c=function(t,e){setTimeout(function(){m._rowEditDialogValidatorsChanged(t)},50)},n=0;n<f.length;++n)h=[],u=f[n].key,a=this._getColumnSettingsByKey(u),a&&(d=a.editorOptions),s=e?this._getVal(e.data().id,u):this._defVal(u,!0),a&&a.readOnly&&!this.options.showReadonlyEditors||f[n].hidden||(h.push({headerText:f[n].headerText,dataKey:u}),r=t(g?t.ig.tmpl(t("#"+g).html().fullTrim(),h):t.ig.tmpl(this.options.rowEditDialogRowTemplate,h)),r.appendTo(i),o=t(r.find(">td[data-key] input")[0]),o.length||(o=t(r.find(">td[data-key] textarea")[0])),null!==a&&void 0!==a||("date"===f[n].dataType?a={dateInputFormat:f[n].format,dateDisplayFormat:f[n].format}:"bool"===f[n].dataType&&o[0]&&("checkbox"===o[0].type||this.grid.options.renderCheckboxes)?(a={},p=o.parent(),
o.remove(),o=t('<input type="checkbox" />'),o.appendTo(p)):a="bool"===f[n].dataType?{listItems:[!0,!1],button:"dropdown"}:{}),l=t.extend({},a,a.editorOptions),l.readOnly||(l.keydown=c),"checkbox"===o[0].type&&(l.mousedown=c),l.textChanged=c,l.value=l.value||s,l.type=l.type||this._doType(f[n].dataType,s),l.width=l.width||this.options.rowEditDialogFieldWidth,l.enableUTCDates=this.grid.options.enableUTCDates,"datepicker"===a.editorType||!a.editorType&&"date"===f[n].dataType?(l.enableUTCDates=this.grid.options.enableUTCDates,o.igDatePicker(l)):"date"===a.editorType||!a.editorType&&"date"===f[n].dataType?(l.enableUTCDates=this.grid.options.enableUTCDates,o.igDateEditor(l)):"string"===a.editorType||!a.editorType&&"string"===f[n].dataType?o.igTextEditor(l):"text"===a.editorType?(p=o.parent(),o.remove(),o=t("<textarea />"),o.appendTo(p),o.igTextEditor(l)):"numeric"===a.editorType||!a.editorType&&"number"===f[n].dataType?o.igNumericEditor(l):"percent"===a.editorType?o.igPercentEditor(l):"mask"===a.editorType?o.igMaskEditor(l):"currency"===a.editorType?o.igCurrencyEditor(l):"combo"===a.editorType?(l.text=l.value,o.igCombo(l)):o.igEditor(l));t(v).igButton("option","disabled",!0)},_openRowEditDialog:function(e,i){var n,r,o=t("#"+this.grid.container().attr("id")+"_ret"),s=this;return n=this._fire("rowEditDialogOpening",e,r={dialogElement:o,owner:this}),n?(o.data("tr",i),this._fillRowEditDialogTable(i),this._calcRowDialogLeftTop(o),setTimeout(function(){o.find("input")[0]&&o.find("input")[0].focus(),o.focus(),s._fire("rowEditDialogOpened",e,{dialogElement:o,owner:s})},100),null!==e&&void 0!==e&&(e.preventDefault(),e.stopPropagation()),1):0},_renderRowEditDialog:function(e,i){var n,r,o,s,a,l,u=this;n=t("<div></div>").appendTo("body").attr("id",this.grid.container().attr("id")+"_ret").css("position","absolute").addClass(this.css.rowEditDialog).data("efh","1").hide(),n.data("tr",i),s=this._fire("rowEditDialogContentsRendering",e,{dialogElement:n,owner:u}),s&&(t("<div></div>").appendTo("body").attr("id",this.grid.container().attr("id")+"_block_ret").css("position","absolute").addClass(this.css.blockArea).data("efh","1").hide(),t("<span></span>").appendTo(r=t("<div></div>").appendTo(n).addClass(this.css.rowEditDialogHeaderCaption)).text(this.options.labels.rowEditDialogCaptionLabel).addClass(this.css.rowEditDialogHeaderCaptionTitle),t("<span></span>").appendTo(t("<a></a>").appendTo(r).attr("href","#").attr("role","button").addClass("ui-dialog-titlebar-close ui-corner-all")).bind({click:t.proxy(this._closeRowEditDialog,this)}).addClass("ui-icon ui-icon-closethick"),o=t("<div></div>").appendTo(n).addClass("ui-dialog-content").css("overflow","auto").css("height",this.options.rowEditDialogContentHeight),t("<table><tbody></tbody></table>").appendTo(o).addClass(this.css.rowEditDialogTable),l=t("<div></div>").appendTo(t("<div></div>").appendTo(n).addClass(this.css.rowEditDialogOkCancelButton)).addClass("ui-dialog-buttonset"),t("<button/>").appendTo(l).igButton({labelText:this._loc("cancel"),width:this.options.rowEditDialogOkCancelButtonWidth}).bind({mousedown:t.proxy(this._closeRowEditDialog,this)}),t("<button/>").appendTo(l).igButton({labelText:this._loc("done"),disabled:!0,width:this.options.rowEditDialogOkCancelButtonWidth}).bind({click:t.proxy(this._rowEditDialogDoUpdate,this)}).attr("id",this.grid.container().attr("id")+"_igButton"),a=this._hc===!0?t("#"+this.grid.element[0].id.split("_")[0]+"_container"):"owner"===this.options.rowEditDialogContainment?this.grid.container():"window",n.bind({keydown:function(e){e.keyCode===t.ui.keyCode.ESCAPE&&u._closeRowEditDialog(e)}}).draggable({containment:a,handle:r,drag:t.proxy(this._rowEditDialogMove,this)}).attr("role","dialog").attr("tabIndex",-1),"object"==typeof Modernizr&&Modernizr.touch!==!1||n.resizable({minHeight:n.outerHeight()/4,minWidth:n.outerWidth()/2,containment:"parent",resize:t.proxy(this._resizeHandler,this)}),this._fire("rowEditDialogContentsRendered",e,{dialogElement:n,owner:this}))},_allRowEditDialogValidatorsPassed:function(e){var i,n,r,o,s,a,l=t("#"+this.grid.container().attr("id")+"_ret table tbody"),u=l.find("[data-key]"),h=!0;for(n=0;n<u.length;++n)if(i=t(u[n]).find("input"),r=t(u[n]).attr("data-key"),o=this.grid.columnByKey(r),s=this._getColumnSettingsByKey(r),a=this._getValidator(i,o,s),a&&a.isValidState&&!a.isValidState()){h=!1;break}return h},_rowEditDialogValidatorsChanged:function(e){var i="#"+this.grid.container().attr("id")+"_igButton";this._allRowEditDialogValidatorsPassed()?t(i).igButton("option","disabled",!1):t(i).igButton("option","disabled",!0)},_setResizableEnv:function(){var e=t("#"+this.grid.container().attr("id")+"_ret"),i=e.find(">.ui-dialog-content"),n=e.find(">.ui-dialog-titlebar"),r=e.find(">.ui-dialog-buttonpane"),o=i.outerHeight()-i.height();this._resizeCont=i,this._heightDifference=n.outerHeight(!0)+r.outerHeight(!0)+o},_resizeHandler:function(t,e){var i=e.originalElement;this._resizeCont.css({height:i.height()-this._heightDifference+"px"})},_rowEditDialogMove:function(t){},_getValidator:function(t,e,i){var n,r=!i||!i.editorType;return i||(i={}),n="datepicker"===i.editorType||r&&"date"===e.dataType?t.igDatePicker("validator"):"date"===i.editorType||r&&"date"===e.dataType?t.igDateEditor("validator"):"text"===i.editorType||r&&("string"===e.dataType||"text"===e.dataType)?t.igTextEditor("validator"):"numeric"===i.editorType||r&&"number"===e.dataType?t.igNumericEditor("validator"):"percent"===i.editorType?t.igPercentEditor("validator"):"mask"===i.editorType?t.igMaskEditor("validator"):"currency"===i.editorType?t.igCurrencyEditor("validator"):"combo"===i.editorType?t.igCombo("validator"):t.igEditor("validator")},_getEditorValue:function(t,e,i){var n,r=!i||!i.editorType;return i||(i={}),n="datepicker"===i.editorType||r&&"date"===e.dataType?this.grid._fixDate(t.igDatePicker("value"),this._gridCol(e.key)):"date"===i.editorType||r&&"date"===e.dataType?this.grid._fixDate(t.igDateEditor("value"),this._gridCol(e.key)):"string"===i.editorType||"text"===i.editorType||r&&("string"===e.dataType||"text"===e.dataType)?t.igTextEditor("value"):"numeric"===i.editorType||r&&"number"===e.dataType?t.igNumericEditor("value"):"bool"===i.editorType||r&&"bool"===e.dataType?"boolean"==typeof t.igEditor("value")?t.igEditor("value"):"true"===t.igEditor("value").toLowerCase():"percent"===i.editorType?t.igPercentEditor("value"):"mask"===i.editorType?t.igMaskEditor("value"):"currency"===i.editorType?t.igCurrencyEditor("value"):"combo"===i.editorType?t.igCombo("value"):t.igEditor("value")},_rowEditDialogDoUpdate:function(e){var i,n,r,o,s,a,l,u=t("#"+this.grid.container().attr("id")+"_ret").data("tr"),h=t("#"+this.grid.container().attr("id")+"_ret table tbody"),d=h.find("[data-key]"),c={};for(r=0;r<d.length;++r){if(i=t(d[r]),a=i.attr("data-key"),o=this.grid.columnByKey(a),n=t(d[r]).find("input"),n.length||(n=t(d[r]).find("textarea")),s=this._getColumnSettingsByKey(a),l=this._getValidator(n,o,s),l&&l.isValidState&&!l.isValidState())return 0;c[i.attr("data-key")]=this._getEditorValue(n,o,s)}return null!==u&&void 0!==u&&u.length>0?this._update(u.data().id,u[0],c):this._update(c),this._closeRowEditDialog(e),1},_closeRowEditDialog:function(e){var i,n=!0,r=t("#"+this.grid.container().attr("id")+"_ret");return n=this._fire("rowEditDialogClosing",e,i={dialogElement:r,owner:this}),n?(t("#"+this.grid.container().attr("id")+"_block_ret").fadeToggle(),t("#"+this.grid.container().attr("id")+"_ret").data("tr",null).fadeToggle(),delete this._defValue,e&&(e.preventDefault(),e.stopPropagation()),this._fire("rowEditDialogClosed",e,{dialogElement:r,owner:this}),1):0},_lastEditor:function(){var t,e=this._prevEdit,i=this._editors;if(!e)for(t in i)i.hasOwnProperty(t)&&(e=i[t]||e);return e},_end:function(){this._delHover(),this._endEdit()},destroy:function(){var e=this._div(),i=this.grid,n=i.element;return this._evts&&n&&e?(this._hComboRemove(!0),this._doButtons(2),e.unbind(this._evts),this._sEvts&&n.parent().unbind(this._sEvts),n.unbind(this._gEvts),this._end(),this._headerRendered(1),this._evts=this._sEvts=this._gEvts=null,t.Widget.prototype.destroy.call(this),this):this},_hidingFinished:function(){this._headerRendered()},_hidingFinishing:function(){var t,e,i=this._addTR,n=this.grid,r=this._editors;if(n._initialized){if(this._endEdit(),this._doButtons(2),this._groupTD1&&(this._groupTD1.remove(),this._groupTD2.remove(),delete this._groupTD1,delete this._groupTD2,this._cShift=this._cShiftAdd=-1),i){for(e=this._colShift(null,i[0]),this._addTrShift=[],this._newTrShift=[];e-- >0;)this._addTrShift[e]=i.children()[e],this._newTrShift[e]=this._newTR.children()[e];i.remove(),this._newTR.remove()}for(t in r)r.hasOwnProperty(t)&&r[t]&&r[t].remove();this._newTR=this._addTR=this._editors=this._mapAdd=this._map=null,this._cShiftAdd=this._cShift=-1,this._hComboRemove()}},_rerender:function(i){var n,r,o,s,a,l,u,h,d,c=this.grid,p=c.pendingTransactions(),f=p?p.length:0,g=c.element.children("tbody"),m=c.options.jQueryTemplating;if(!i||!i.owner||i.owner.id()===c.id())for(;f-- >0;){if(o=p[f],a="cell"===o.type,s=g.find('[data-id="'+o.rowId+'"]'),"row"===o.type||"newrow"===o.type||a)for(s.addClass(c.css.modifiedRecord),h=s.length&&!m?s.children("td"):null,n=h?h.length:0;n-- >0;)d=this._key(u=t(h[n])),r=void 0,o.row?r=o.row[d]:a&&d===o.col&&(r=o.value),void 0!==r&&(l=e(d)?null:this._gridCol(d),r=l?c._renderCell(r,l):t.ig.formatter(r),u.html(r));"deleterow"!==o.type&&"insertrow"!==o.type||s.addClass(c.css.deletedRecord)}},_bind:function(t){var i,n,r=this.grid,s=r.dataSource._data,a=s?s.length:0,l=this.grid.dataSource.pendingTransactions(),u=l?l.length:0,h=this._txLast,d=h?h.length:0;if(this._addRowNum=Math.max(this._addRowNum||1,a+1),this._endEdit(),t){if(t.owner&&t.owner.id()!==this.grid.id())return}else if(a&&e(r.options.primaryKey)&&e(s[0].ig_pk))for(;a-- >0;)s[a].ig_pk=a;if(!(u<1)){if(u===d){for(;d-- >0&&(i=l[d],n=h[d],i.tid===n.tid&&i.value===n.value&&i.row===n.row););if(d<0)return}for(h=this._txLast=[];u-- >0;)h[u]={tid:l[u].tid,value:l[u].value,row:l[u].row};this._fire("dataDirty",this._evt||{},{})&&this.options.enableDataDirtyException&&o("dataDirtyException")}},_fixPrime:function(t,i){var n=this.grid,r=n.options,s=r.primaryKey,a=e(s)?null:this._gridCol(s),l=n.dataSource._data;if(i){if(!a)return t.ig_pk=i=l.length,i;e(i=t[s])&&(i=t[s]=this._defVal(s,1)),t=i}return t=a&&"number"!==a.dataType&&"numeric"!==a.dataType?t:parseInt(t,10),a||l[t]&&l[t].ig_pk===t||o("noPrimaryKeyException"),t},_getRecord:function(t){var i=-1,n=this.grid.dataSource._data,r=n.length,o=this.grid.options.primaryKey;for(t=this._fixPrime(t),e(o)&&(o="ig_pk");++i<r;)if(n[i][o]===t)return n[i]},_getVal:function(t,e){for(var i,n,r=this.grid,o=r.dataSource.pendingTransactions(),s=o?o.length:0;s-- >0&&void 0===i;)n=o[s],n.rowId===t&&(n.row?i=n.row[e]:"cell"===n.type&&n.col===e&&(i=n.value));return void 0===i&&(t=this._getRecord(t),i=t?t[e]:null),r._fixDate(i,this._gridCol(e))},_update:function(i,n,r,o,s){var a,l,u,h,d,c,p,f,g,m=void 0===r,v=this.grid,_=v.options,y=_.autoCommit,b=v.dataSource,w=this._fixPrime(i,n?null:b),x=v._virtualDom,C={},T=[];if(o&&s)C[o]=r,p=jQuery.extend(!0,{},C);else if(C=jQuery.extend(!0,{},r),p=this.grid.findRecordByKey(i)){if(v.options.columnLayouts&&v.options.columnLayouts.length)for(l=0;l<v.options.columnLayouts.length;++l)T.push(v.options.columnLayouts[l].key);t.each(p,function(e,i){C&&!C.hasOwnProperty(e)&&t.ig.indexInArray(T,e)===-1&&(C[e]=i)})}for(l=n?m?b.deleteRow(i,y):o?b.setCellValue(w,o,r,y):b.updateRow(w,C,y):b.addRow(w,i,y),a=b.pendingTransactions(),l=a?a.length:0;l-- >0;)if(i===a[l].rowId){a[l].row&&o&&(a[l].row[o]=r);break}if(!m&&(x||y&&(null===i||void 0===i||null===p||null===p[v.options.primaryKey])))return u=t("#"+v.id()+(x?"_scrollContainer":"_scroll"))[0],h=u?u.scrollTop:0,l=!0,x&&"continuous"===_.virtualizationMode&&(v._rerenderVirtualRecordsContinuous(),l=!1),l&&v._renderData(),h&&(u.scrollTop=h),void(x&&v._onVirtualVerticalScroll());if(y&&v.options.primaryKey&&p&&p[v.options.primaryKey]&&(t(n).data("id",p[v.options.primaryKey]),t(n).attr("data-id",p[v.options.primaryKey])),n){if(m)return y&&(t(n).remove(),this._trigger("internalrowdeleted")),t(n).addClass(v.css.deletedRecord);if(d=_.columns,o&&s)c=v.columnByKey(o),c.template&&r?(g=v._renderTemplatedCell(r,c),g=g.substring(g.indexOf(">")+1,g.length)):g=v._renderCell(r,c),s.html(g);else{for(r={},l=d.length;l-- >0;)r[w=d[l].key]=this._getVal(i,w);1===n||e(r=v._renderRow(C,n,i))||(n=r)}}else f=v.element.children("tbody").children("tr.ui-iggrid-groupedrow").length>0,n=f===!0?v.element.data("igGridGroupBy")._renderNewRow(i,w):v.renderNewRow(i,w),n=v.element.children("tbody").children("tr"),n=n[n.length-1],this._trigger("internalrowadded");n&&1!==n&&!y&&t(n).addClass(v.css.modifiedRecord)},_injectGrid:function(e){var i=this;i.grid=e,i._cShiftAdd=i._cShift=-1,i._gEvts={iggridvirtualrendering:function(){i._end()},ighierarchicalgridrowexpanded:function(){i._end()},iggriddatabinding:function(t,e){i._bind(e)},iggriddatarendering:function(t,e){i._bind(e)},iggridrowsrendering:function(t,e){i._bind(e)},iggriduidirty:function(){i._end()},iggridresizingcolumnresizing:function(){i._end()},iggridvirtualrecordsrender:function(t,e){i._rerender(e)},iggridrowsrendered:function(t,e){i._rerender(e)}},this.options.enableAddRow&&(i._gEvts.iggridheaderrenderedinternal=function(){i._headerRendered()},i._gEvts.iggridheaderextracellsmodified=function(){i._hierHeaderInit()}),i._gEvts.iggridgroupbygroupedcolumnschanged=function(t,e){i._groupedColumnsChanged(e)},e.element.bind(this._gEvts),i._ti=parseInt(e.options.tabIndex||1,10),i._evts={iggridselectionmousedown:function(t){i._onEvt(t,1)},mousedown:function(e){var n;n=t.ig.util.isIE7===!0||t.ig.util.isIE8===!0?t.extend(!0,{},e):e,setTimeout(function(){i._onEvt(n,1)},0)},click:function(t){i._onEvt(t,2)},dblclick:function(t){i._onEvt(t,3)},touchstart:function(t){i._onEvt(t,11)},MSPointerDown:function(t){i._onEvt(t,11)},keydown:function(t){i._onEvt(t,4)},focus:function(t){i._onEvt(t,5)},blur:function(t){i._onEvt(t,6)},mousemove:function(t){i._onEvt(t,7)},mouseleave:function(t){i._onEvt(t,8)}},i.grid.dataSource._addChangesSuccessHandler(function(t){t.Success&&(e.rows().parent().find("."+e.css.deletedRecord).length&&e._renderData(),e.rows().removeClass(e.css.modifiedRecord))})}}),t.extend(t.ui.igGridUpdating,{version:"13.1.20131.2042"}),t.widget("ui.igEditorFilter",{setFocus:function(t,e){var i=this.options.provider;setTimeout(function(){i.setFocus(e)},t)},remove:function(){if(!this.options.provider.removeFromParent()){var t,e=this.element;t=e[0].parentNode,t&&t.tagName&&t.removeChild(e[0]),e=this.validator(),e&&e.hide()}},validator:function(){return this.options.provider.validator()},hasInvalidMessage:function(){var t=this.validator();return!!t&&t.isMessageDisplayed()},destroy:function(){this.options.provider.destroy()}}),t.extend(t.ui.igEditorFilter,{version:"13.1.20131.2042"}),t.ig.EditorProvider=t.ig.EditorProvider||Class.extend({createEditor:function(t,e,i,n,r,o,s){},getValue:function(){},setValue:function(t,e){},setFocus:function(t){},setSize:function(t,e){},removeFromParent:function(){return!1},destroy:function(){},validator:function(){},validate:function(t){var e=this.validator();return!e||!e.validate()},isValid:function(){var t=this.validator();return!t||t.isValidState()}}),t.ig.EditorProviderDefault=t.ig.EditorProviderDefault||t.ig.EditorProvider.extend({createEditor:function(e,i,n,r,s,a,l){var u,h={};return n&&(h=n.editorOptions||h,h.type=n.editorType||h.type),u=h.type,h.enableUTCDates!==!1&&e.grid.options.enableUTCDates&&(h.enableUTCDates=!0),u||("bool"===a?(h.listItems=["true","false"],h.button="dropdown",this._bool=h.readOnly=h.dropDownOnReadOnly=h.spinOnReadOnly=h.spinWrapAround=!0):"currency"===s||"percent"===s||"date"===s?(u=s,h.displayFactor=h.displayFactor||1):"number"===a?u="numeric":"date"===a?u="date":a||(u=l,u="number"==typeof u?"numeric":u&&u.getTime?"date":null),h.type=u),"int"===s?h.maxDecimals=0:"double"!==s||h.maxDecimals?s&&u&&0===u.toString().indexOf("date")&&!h.dateInputFormat&&(h.dateInputFormat=s):h.maxDecimals=100,"datepicker"!==u&&3!==u||h.button||(h.button="dropdown"),h.tabIndex=r,h._eo=h._eo||{tc:h.textChanged,kd:h.keydown},h.textChanged=function(t,i){e._notifyChanged(),h._eo.tc&&h._eo.tc(t,i)},h.keydown=function(t,n){e._13=h.textMode&&!h.hideEnterKey,e._notifyEditorKey(t,i),h._eo.kd&&h._eo.kd(t,n)},u=t("<span />"),u.igEditor||o("igEditorException"),h.id&&u.attr("id",h.id),h.excelNavigationMode=e.options.excelNavigationMode,u=u.igEditor(h),this.editor=u.data("igEditor"),u},getValue:function(){var t=this.editor.value();return this._bool?"true"===t:t},setValue:function(t){return this.editor.value(this._bool?t&&"false"!==t?"true":"false":t)},setSize:function(t,e){this.editor._listRemove(),this.editor._width(t),this.editor._height(e)},setFocus:function(){this.editor.setFocus(-1)},removeFromParent:function(){return this.editor.remove()},destroy:function(){this.editor.destroy()},validator:function(){return this.editor.validator()},validate:function(t){return this.editor.validate(t)},isValid:function(){return this.editor.isValid()}}),t.ig.EditorProviderCombo=t.ig.EditorProviderCombo||t.ig.EditorProvider.extend({createEditor:function(e,i,n,r){var s,a={};return n&&(a=n.editorOptions||a),a.tabIndex=r,a._eo=a._eo||{tc:a.textChanged,kd:a.keydown},a.textChanged=function(t,i){e._notifyChanged(),a._eo.tc&&a._eo.tc(t,i)},a.keydown=function(t,n){if(n&&n.owner&&n.owner._ddOn||e._notifyEditorKey(t,i),a._eo.kd)return a._eo.kd(t,n)},s=t("<span />"),s.igCombo||o("igComboException"),a.id&&s.attr("id",a.id),s=s.igCombo(a),this.editor=s.data("igCombo"),s},getValue:function(){return this.editor.options.allowCustomValue?this.editor.text():this.editor.value()},setValue:function(t){var e=this.editor,i=e.options;return i.filteringType&&(e.selectedIndex(-1),e.activeIndex(-1),e.dataBind()),i.allowCustomValue?e.text(null===t?i.nullText||"":t):e.value(t)},setSize:function(t,e){this.editor.options.width=t,this.editor.options.height=e,this.editor._doSize()},setFocus:function(){this.editor.setFocus(-1)},removeFromParent:function(){return this.editor.remove()},validator:function(){return this.editor.validator()},destroy:function(){this.editor.destroy()}}),t.ig.EditorProviderRating=t.ig.EditorProviderRating||t.ig.EditorProvider.extend({createEditor:function(e,i,n,r){var s,a,l={};return n&&(l=n.editorOptions||l),l._eo=l._eo||{vc:l.valueChange},l.valueChange=function(t,i){if(e._notifyChanged(),l._eo.vc)return l._eo.vc(t,i)},a=t("<div />"),a.igRating||o("igRatingException"),l.id&&a.attr("id",l.id),a=a.igRating(l),this.editor=a.data("igRating"),s=this.editor._foc,s&&(s.attr("tabIndex",r),s.keydown(function(t){e._notifyEditorKey(t,i)})),a},getValue:function(){return this.editor.value()},setValue:function(t){return this.editor.value(t||0)},setSize:function(t,e){this._once||this.editor._doVotes(this.editor.options),this._once=1;var i=this.editor.element.parent().css("backgroundColor");this.editor.element.css({width:t,height:e,backgroundColor:i})},setFocus:function(){this.editor.focus()},validator:function(){return this.editor.validator()},destroy:function(){this.editor.destroy()}}),t.ig.EditorProviderCheckbox=t.ig.EditorProviderCheckbox||t.ig.EditorProvider.extend({createEditor:function(e,i,n,r,o,a){var l,u=this,h=n;return u.updating=e,u.none="bool"!==a&&null,u.element=l=t('<span tabindex="'+r+'"/>').addClass("ui-igedit-field ui-state-default ui-corner-all").css({overflow:"hidden",textAlign:"center",outline:0,background:"#ffffff",display:"block"}).click(function(){u.setValue(0,e)}).focus(function(){u.css(!0,!0)}).blur(function(){u.css(!0)}).mouseover(function(){u.css(null,!0)}).mouseleave(function(){u.css()}).keydown(function(t){e._notifyEditorKey(t,i),t&&32===t.keyCode&&(s(t),u.setValue(0,e))}),h=h?h.editorOptions:null,h&&h.id&&l.attr("id",h.id),l=t('<span class="ui-state-default ui-corner-all ui-igcheckbox-small" />').css("display","inline-block").appendTo(l),t('<span class="ui-icon ui-icon-check ui-igcheckbox-small-on" />').css("display","block").appendTo(l),this.element},el:function(e){for(var i=this.element;e-- >0;)i=t(i.children()[0]);return i},getValue:function(){return this.value},setValue:function(t,e){var i="ui-igcheckbox-small-off";e&&(t=!this.value),this.value=t||t===!1?t:this.none,t?this.el(2).removeClass(i):this.el(2).addClass(i),e&&e._notifyChanged()},css:function(t,e){for(var i=2,n=t?"ui-state-focus":"ui-state-hover";i-- >0;)e?this.el(i).addClass(n):this.el(i).removeClass(n)},setSize:function(t,e){var n=this.el(0);this.el(1).css("marginTop",Math.floor((e-15)/2)+"px"),this.css(),this.css(!0),n.css({width:t-i(n,"borderLeftWidth")-i(n,"borderRightWidth"),height:e-i(n,"borderTopWidth")-i(n,"borderBottomWidth")})},setFocus:function(t){this.el(0).focus(),t&&this.setValue(0,this.updating)}})}(jQuery),define("igGridUpdating",["igGrid","igEditors","igValidator"],function(){}),define("flat/grid",["require","exports","utils","adapters","core/controls","layout","jquery","igGrid","igGridUpdating"],function(t,e,i,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n.property,a=n.collection,l=n.component,u=n.event,h=n.mixin,d=n.text,c=n.attribute,p=n.css,f=n.updateClass,g=n.toggleClass,m=n.jQueryOption,v=n.ignore,_=n.not;e.GridBounds=n.create(r.Bounds,{width:s().and(m(".flat-table.igGrid","width").asPx().ifAttached().convert(function(t){return this.autoWidth()||this.buildGridQueued()?null:t-this.borderWidth()})).asInt(),height:s().and(m(".flat-table.igGrid","height").asPx().ifAttached().convert(function(t){return this.autoHeight()||this.buildGridQueued()?null:t-this.borderHeight()})).asInt(),autoHeight:r.Bounds.autoHeight.onChange({handler:function(t,e){this.updateAutoSize(t,e)},beforeChange:!0}),autoWidth:r.Bounds.autoWidth.onChange({handler:function(t,e){this.updateAutoSize(t,e)},beforeChange:!0}),updateAutoSize:function(t,e){this.isAttached&&t!=e&&this.parent.queueBuildGrid()},buildGridQueued:function(){return this.parent&&this.parent.buildGridQueued()},borderWidth:function(){return this.isAttached?this.parent.borderWidth():0},borderHeight:function(){return this.isAttached?this.parent.borderHeight():0}});var y="#${parent.target.id} thead > tr";e.GridHeaderRow=n.create(r.Control,{name:c(y+".data-name").ifAttached(),click:u(y,"tap").ifAttached(),rightClick:u(y,"contextmenu",{preventDefault:!0}).ifAttached(),doubleClick:u(y,"doubletap").ifAttached(),mouseOver:u(y,"mouseenter",{ignoreOnMobile:!0}).ifAttached(),mouseOut:u(y,"mouseleave",{ignoreOnMobile:!0}).ifAttached(),swipeRight:u(y,"swiperight").ifAttached(),swipeLeft:u(y,"swipeleft").ifAttached(),swipeDown:u(y,"swipedown").ifAttached(),swipeUp:u(y,"swipeup").ifAttached(),pressAndHold:u(y,"hold").ifAttached(),background:v,panel_bounds:v,tooltip:c(y+".title").ifAttached(),opacity:f(y,"opacity").ifParent().toFloat(),height:f(y+" > th > div","height").ifParent().asPx(),_getInteractiveTarget:function(){return this.isAttached?this.getTarget(y):null}});var b='#${parent.tableId} tbody > tr[data-id="${rowId}"]';e.GridRow=n.create(r.Control,{name:c(b,"data-name").ifAttached(),click:u(b,"tap").ifAttached(),rightClick:u(b,"contextmenu",{preventDefault:!0}).ifAttached(),doubleClick:u(b,"doubletap").ifAttached(),mouseOver:u(b,"mouseover",{ignoreOnMobile:!0}).ifAttached(),mouseOut:u(b,"mouseout",{ignoreOnMobile:!0}).ifAttached(),swipeRight:u(b,"swiperight").ifAttached(),swipeLeft:u(b,"swipeleft").ifAttached(),swipeDown:u(b,"swipedown").ifAttached(),swipeUp:u(b,"swipeup").ifAttached(),pressAndHold:u(b,"hold").ifAttached(),opacity:f(b,"opacity").ifParent().toFloat(),height:f(b+" > td > div","height").ifParent().asPx(),tooltip:c(b+".title").ifAttached(),data:a().onAddOrRemove(function(){this.updateData()}),rowId:function(){return"k_"+this.id().replace("#","_")},getRowRecord:function(){return this.data().reduce(function(t,e){return t[e.columnId()]=e.value(),t},{ig_pk:this.rowId()})},updateData:function(){this.isAttached&&this.parent.updateRow(this)},_getInteractiveTarget:function(){return this.isAttached?this.getTarget(b):null}});var w="< colgroup > col:nth-child(${_index_})",x="#${parent.tableId}_${columnId}",C="#${parent.tableId}_${columnId} > div > div > span";e.GridHeaderCellData=n.create(n.Mixin,{name:c(x+".data-name").ifAttached(),columnId:s().convert(function(t){return t.replace(/-/g,"_")}),click:u(x,"tap").ifAttached(),rightClick:u(x,"contextmenu",{preventDefault:!0}).ifAttached(),doubleClick:u(x,"doubletap").ifAttached(),mouseOver:u(x,"mouseenter",{ignoreOnMobile:!0}).ifAttached(),mouseOut:u(x,"mouseleave",{ignoreOnMobile:!0}).ifAttached(),swipeRight:u(x,"swiperight").ifAttached(),swipeLeft:u(x,"swipeleft").ifAttached(),swipeDown:u(x,"swipedown").ifAttached(),swipeUp:u(x,"swipeup").ifAttached(),pressAndHold:u(x,"hold").ifAttached(),opacity:p(x,".opacity").ifAttached().toFloat(),tooltip:c(x+".title").ifAttached(),value:s({defaultValue:""}).and(d(C).ifAttached()),_getInteractiveTarget:function(){return this.isAttached?this.getTarget(x):null}}),e.GridColumn=n.create(r.Control,{columnId:s().convert(function(t){return t.replace(/-/g,"_")}),type:s(),width:p(w+".width").asPx().ifAttached().onChange(function(){this.isAttached&&this.parent.queueBuildGrid()}),cellData:h(e.GridHeaderCellData),getColumnDefinition:function(){return{headerText:this.cellData().value(),key:this.columnId(),width:this.width(),dataType:"string",template:"<div><div><div></div><span>${"+this.columnId()+"}</span></div></div>"}}});var T='#${parent.parent.tableId} tr[data-id="${parent.rowId}"] > td:nth-child(${cellIndex})';e.GridCellData=n.create(r.Control,{name:c(T+".data-name").ifAttached(),click:u(T,"tap").ifAttached(),rightClick:u(T,"contextmenu",{preventDefault:!0}).ifAttached(),doubleClick:u(T,"doubletap").ifAttached(),mouseOver:u(T,"mouseenter",{ignoreOnMobile:!0}).ifAttached(),mouseOut:u(T,"mouseleave",{ignoreOnMobile:!0}).ifAttached(),swipeRight:u(T,"swiperight").ifAttached(),swipeLeft:u(T,"swipeleft").ifAttached(),swipeDown:u(T,"swipedown").ifAttached(),swipeUp:u(T,"swipeup").ifAttached(),pressAndHold:u(T,"hold").ifAttached(),columnId:s().convert(function(t){return t.replace(/-/g,"_")}),opacity:p(T+".opacity").ifAttached().toFloat(),tooltip:c(T+".title").ifAttached(),value:s({defaultValue:""}).onChange(function(){this.updateData()}),cellIndex:function(){if(!this.parent||!this.parent.parent)return-1;var t=this.columnId(),e=i.array.findIndex(this.parent.parent.columns(),function(e){return e.columnId()===t});return e==-1?-1:e+1},updateData:function(){this.isAttached&&this.parent.updateData()},_getInteractiveTarget:function(){return this.isAttached?this.getTarget(T):null}}),e.Grid=n.create(r.Control,'<div><table class="flat-table"></table></div>',{initialize:function(){this._buildGridQueued=!1,this._buildingGrid=!1,this._gridCreated=!1,this._tableId="t_"+this.uniqueId,$(this.target).find("> .flat-table").attr("id",this._tableId)},tableId:function(){return this._tableId},fontSize:f("td","font-size").asPx(),foreground:f("td","color").asRgba(),background:f(".ui-iggrid","background-color").asRgba(),alternateRowColor:f("tr.ui-iggrid-altrecord","background-color").asRgba(),fontStyle:r.Text.fontStyle.over("tbody").ifAttached(),fontFamily:r.Text.fontFamily.over("tbody").ifAttached(),headerFontSize:f("th.ui-iggrid-header","font-size").asPx(),headerForeground:f("th.ui-iggrid-header","color").asRgba(),headerBackground:f("th.ui-iggrid-header","background-color").asRgba(),headerFontStyle:r.fontStyle("headerFontFamily").over("thead").ifAttached(),headerFontFamily:r.fontFamily("headerFontStyle").over("thead").ifAttached(),isHeaderVisible:_(g("ui-grid-header-hidden")).asBool(),verticalGridLinesVisible:_(g("ui-grid-vertical-lines-hidden")).asBool(),horizontalGridLinesVisible:_(g("ui-grid-horizontal-lines-hidden")).asBool(),borderColor:r.Border.borderColor,borderThickness:r.Border.thickness.onChange(function(){this.queueBuildGrid()}),headerRow:l().asAdapter(e.GridHeaderRow),columns:a().onAddOrRemove(function(){this.queueBuildGrid()}),rows:a().onAddOrRemove(function(){this.queueBuildGrid()}),panel_bounds:h(e.GridBounds),onAttach:function(){this.buildGrid(!0)},borderWidth:function(){var t=this.borderThickness();return t.left+t.right},borderHeight:function(){var t=this.borderThickness();return t.top+t.bottom},buildGridQueued:function(){return this._buildGridQueued},queueBuildGrid:function(){var t=this;this.isAttached&&!this._buildingGrid&&(this._buildGridQueued||(this._buildGridQueued=!0,o.onNext(function(){t.buildGrid(),t._buildGridQueued=!1})))},buildGrid:function(t){if(this.isAttached&&!this._buildingGrid){this._buildingGrid=!0,this._gridCreated&&$(this.target).find(".flat-table").igGrid("destroy"),this._gridCreated=!0;var e=this.panel_bounds(),i=this.columns(),n=this.rows(),r=e.autoWidth()?i.map(function(t){return parseInt(t.width())}).reduce(function(t,e){return t+e},0):e.width()-this.borderWidth()+"px",o=e.autoHeight()?void 0:e.height()-this.borderHeight()+"px";if($(this.target).find(".flat-table").igGrid({width:r,height:o,autoGenerateColumns:!1,columns:i.map(function(t){return t.getColumnDefinition()}).concat([{key:"ig_pk",width:e.autoWidth()?"0px":"1px"}]),dataSource:n.map(function(t){return t.getRowRecord()}),primaryKey:"ig_pk",features:[{name:"Updating",enableAddRow:!1,enableDeleteRow:!1,editMode:"none"}]}),!t){this.reloadProperty(this.headerFontFamily,this.headerFontStyle,this.fontFamily,this.fontStyle),this.headerRow().reloadProperty();for(var i=this.columns(),s=0;s<i.length;s++){i[s].reloadProperty();var a=i[s].cellData();a&&a.reloadProperty()}for(var n=this.rows(),s=0;s<n.length;s++){n[s].reloadProperty();for(var a=n[s].data(),l=0;l<a.length;l++)a[l].reloadProperty()}}this._buildingGrid=!1}},updateRow:function(t){this.isAttached&&$(this.target).find(".flat-table").igGridUpdating("updateRow",t.rowId(),t.getRowRecord())}}),n.DefaultCatalog.addCatalog("",e)}),define("flat/annotations",["require","exports","adapters","flat/common","core/controls","flat/shapes"],function(t,e,i,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i.css,a=i.text,l=i.richText,u=i.property,h=i.updateClass;e.Note=i.create(r.Text,'<div class="annotation"><span><span></span></span></div>',{text:a("span > span"),richText:u().and(l().convert(function(t,e){return"<span>"+t+"</span>"}).convert(n.ConvertRichText)),fontStyle:r.Text.fontStyle.onChange(function(){this.reloadProperty(this.richText)}),fontSize:h("> span","font-size").asPx(),align:s("text-align"),border:s("border-color").asRgba(),background:s("background-color").asRgba(),isAnnotation:!0}),e.Callout=i.create(r.Text,'<div class="annotation"><div><span></span></div></div>',{text:a("span"),border:s("border-color").asRgba(),background:s("background-color").asRgba(),isAnnotation:!0}),e.Arrow=i.create(o.Polyline,'<div><svg xmlns="http://www.w3.org/2000/svg" class="annotation" version="1.1" opacity="1" preserveAspectRatio="none"></svg></div>',{color:s("> svg > :first-child","stroke").asRgba().and(s("> svg > :first-child","fill").asRgba()),isAnnotation:!0}),i.DefaultCatalog.addCatalog("",e)}),define("flat/tabs",["require","exports","adapters","utils","core/controls","jquery","jquery_ui"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.component,s=i.children,a=i.updateClass,l=i.jQueryOption,u=i.text,h=i.ignore,d=i.event;e.Tabs=i.create(r.TextItemsControl,'<div><div class="tabslot"><ul></ul></div></div></div>',{initialize:function(){this.tabStripPlacement("top")},tabStripPlacement:l("> div.tabslot.indigo_tabs","position").ifAttached().convert(function(t){return t.toLowerCase()}),fontFamily:r.Text.fontFamily.over("> .tabslot > ul.ui-tabs-nav"),fontSize:a("> .tabslot > ul.ui-tabs-nav","font-size").asPx(),fontStyle:r.Text.fontStyle.over("> .tabslot > ul.ui-tabs-nav"),foreground:a("> .tabslot > ul.ui-tabs-nav li a","color").asRgba(),background:a("> .tabslot > div.ui-tabs-panel","background-color").asRgba(),tabBackground:a("> .tabslot > ul.ui-tabs-nav li.ui-state-active","background-color").and(a("> .tabslot > ul.ui-tabs-nav li.ui-state-active::after","background-color")).asRgba(),
borderColor:a("> .tabslot > ul.ui-tabs-nav li","border-color").and(a("> .tabslot > div.ui-tabs-panel","border-color")).asRgba(),borderThickness:a("> .tabslot > ul.ui-tabs-nav li","border-width").and(a("> .tabslot.ui-tabs-top > .ui-tabs-nav li.ui-state-active::after","height")).and(a("> .tabslot.ui-tabs-bottom > .ui-tabs-nav li.ui-state-active::after","height")).and(a("> .tabslot > div.ui-tabs-panel","border-width")).asPx(),items:s("> div.tabslot > ul").onAddOrRemove(function(){this.refreshTabs()}),onAttach:function(){for(var t=this.items(),e=0;e<t.length;e++)t[e].buildDom();var i=n.array.findIndex(this.items(),function(t){return t.isSelected()});this.getTabslot().indigo_tabs({heightStyle:"fill",active:i===-1?0:i}),this.reloadProperty(this.fontStyle,this.fontFamily),$(this.target).find("> .tabslot > ul.ui-tabs-nav li").off("keydown")},onBoundsChanged:function(){this.refreshTabs(),r.Control.prototype.onBoundsChanged.call(this)},refreshTabs:function(){this.isAttached&&(this.getTabslot().indigo_tabs("refresh"),this.reloadProperty(this.fontStyle,this.fontFamily))},getTabslot:function(){return $(this.target).find("> div.tabslot")}}),e.TabItem=i.create([r.ItemBase,r.ScrollableContainer],"<li><a></a></li>",{initialize:function(){var t=this;this._domBuilt=!1,this._wasSelectedOnMouseDown=!1,this.target.onmousedown=function(e){t._wasSelectedOnMouseDown=$(t.target).hasClass("ui-tabs-active")},this.target.onclick=function(e){t._wasSelectedOnMouseDown||($(t.target).siblings().each(function(t,e){$(this).trigger("unselected")}),$(t.target).trigger("selected"))}},panel_bounds:h,header:u("> a"),isSelected:l("indigo_tabs","active").over("< >div.tabslot").convert({beforeSet:function(t){return t?this.parent.items().indexOf(this):void 0},afterGet:function(t){return t===this.parent.items().indexOf(this)}}).ifAttached().asBool(),content:o().asAdapter(i.create(r.Container,'<div class="viewport"><div></div></div>',{children:r.Container.children.over("> div"),panel_bounds:r.Container.panel_bounds.over("> div"),layout:r.Container.layout.over("> div"),clipToContainer:r.Container.clipToContainer.over("clipped"),onAttach:function(){this.parent.updateContainer(this)}})),onAttach:function(t){var e=this,i=this.parent.getTabslot();this.buildDom()&&(i.indigo_tabs("refresh"),this.parent.reloadProperty(this.parent.tabStripPlacement)),this.isSelected()||i.on("indigo_tabsactivate",function(t,i){e.isSelected()&&(r.invalidateControl(e.content()),e.updateScroll())})},onDetach:function(t){if(this._domBuilt){var e=this.content();e&&e.target.parentNode&&$(e.target).detach()}},viewboxTarget:function(){var t=this.content();return t?t.target:null},buildDom:function(){var t=this.parent.getTabslot();if(this._domBuilt){var e=this.content();return e&&!e.target.parentNode&&t.append(e.target),!e.name()&&this.name()&&e.name(this.name()+" content"),!1}return this._domBuilt=!0,$(this.target).find("> a").attr("href",n.path.getAbsolutePathForAnchor(document.location,this.content().target.id)),t.append(this.content().target),!0},selected:d("selected"),unselected:d("unselected")}),$.widget("ui.indigo_tabs",$.ui.tabs,{options:{active:null,collapsible:!1,event:"click",heightStyle:"content",widthStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null,position:"top"},_getList:function(){return this.element.find("> ul")},_setOption:function(t,e){$.ui.tabs.prototype._setOption.apply(this,arguments),"position"===t&&this._setupPosition(e)},_refresh:function(){this._setupPosition(this.options.position),$.ui.tabs.prototype._refresh.apply(this,arguments)},_setupPosition:function(t){var e=this.element;"left"===t?(e.removeClass("ui-tabs-top ui-tabs-left ui-tabs-right ui-tabs-bottom ui-helper-clearfix").addClass("ui-tabs-left ui-helper-clearfix"),e.find("> ul > li").removeClass("ui-corner-all").removeClass("ui-corner-top").removeClass("ui-corner-left").removeClass("ui-corner-right").addClass("ui-corner-left"),e.find("> ul").prependTo(e)):"top"===t?(e.removeClass("ui-tabs-top ui-tabs-left ui-tabs-right ui-tabs-bottom ui-helper-clearfix").addClass("ui-tabs-top ui-helper-clearfix"),e.find(">ul >li").removeClass("ui-corner-all").removeClass("ui-corner-top").removeClass("ui-corner-left").removeClass("ui-corner-right").addClass("ui-corner-top"),e.find("> ul").prependTo(e)):"right"===t?(e.removeClass("ui-tabs-top ui-tabs-left ui-tabs-right ui-tabs-bottom ui-helper-clearfix").addClass("ui-tabs-right ui-helper-clearfix"),e.find("> ul > li").removeClass("ui-corner-all").removeClass("ui-corner-top").removeClass("ui-corner-left").removeClass("ui-corner-right").addClass("ui-corner-left"),e.find("> ul").prependTo(e)):"bottom"===t&&(e.removeClass("ui-tabs-top ui-tabs-left ui-tabs-right ui-tabs-bottom ui-helper-clearfix").addClass("ui-tabs-bottom ui-helper-clearfix"),e.find("> ul > li").removeClass("ui-corner-all").removeClass("ui-corner-top").removeClass("ui-corner-left").removeClass("ui-corner-right").addClass("ui-corner-bottom"),e.find("> ul").appendTo(e)),this._setupHeightStyle(this.options.heightStyle)},_setupHeightStyle:function(t){var e,i=this.element.parent();if("fill"===t){if(e=i.height(),e-=this.element.outerHeight()-this.element.height(),"top"===this.options.position||"bottom"===this.options.position){var n=this.element.find(">ul").outerHeight(!0);e!=n&&(e-=n)}for(var r=0;r<this.panels.length;r++){var o=this.panels[r];o.style.height=Math.max(0,e)+"px"}}else"auto"===t&&(e=0,this.panels.each(function(){e=Math.max(e,$(this).height("").height())}).height(e))}}),i.DefaultCatalog.addCatalog("",e)}),define("flat/text",["require","exports","adapters","utils","core/controls"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.css,s=i.attribute,a=i.prop,l=i.not,u=i.toggleClass;e.WatermarkedText=i.create([r.Control,r.TextEvents],{isEnabled:l(u("disabled")).asBool().and(l(a("disabled")).asBool()),watermarkText:s("placeholder"),text:a("value"),background:o("background-color").asRgba(),border:o("border-color").asRgba(),borderThickness:o("border-width").asPx(),cornerRadius:r.Border.cornerRadius,foreground:o("color").onChange(function(t,e){this.updatePlaceHolderColor(e)}).asRgba(),align:o("text-align"),fontFamily:r.Text.fontFamily,fontSize:r.Text.fontSize,fontStyle:r.Text.fontStyle,updatePlaceHolderColor:function(t){n.css.setInputPlaceholderColor(this.getInputId(),this.getWatermarkForegroundColor(t))},getWatermarkForegroundColor:function(t){var e=t.lastIndexOf(","),i=t.lastIndexOf(")"),n=t.substring(e+1,i);return t.replace(n,"0.5")},getInputId:function(){return this.target.id}}),e.TextBox=i.create(e.WatermarkedText,"<input>",{}),e.TextArea=i.create(e.WatermarkedText,"<textarea></textarea>",{blurOnEnter:!1}),e.PasswordBox=i.create(e.WatermarkedText,'<input type="password">',{password:a("value")}),i.DefaultCatalog.addCatalog("",e)}),define("flat/tree",["require","exports","adapters","core/controls","flat/common","jquery"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.property,s=i.component,a=i.children,l=i.css,u=i.text,h=i.toggleClass,d=i.toggleVisible,c=i.updateClass,p=i.not,f=i.ignore;e.Tree=i.create(n.TextItemsControl,'<ul class="ui-widget ui-igtree ui-igtree-collection ui-igtree-root ui-widget-content"></ul>',{initialize:function(){this._selectedNode=null},foreground:n.TextItemsControl.foreground.and(c("a","color").asRgba()),background:l("background-color").asRgba(),items:a(),fontSize:n.TextItemsControl.fontSize.and(c(".nodeIcon","height").and(c(".nodeIcon","width")).asPx()).and(c(".nodeIcon:not(:empty) +a +ul","margin-left").asPx().convert(function(t){return t||16}).asInt()),itemsIcon:s().onChange(function(t,e){this.updateDefaultIcon(e)}).asAdapter(i.create(r.Icon,{panel_bounds:f}),!0),borderColor:n.Border.borderColor,cornerRadius:n.Border.cornerRadius,borderThickness:n.Border.thickness,select:function(t){this.clearSelection(),this._selectedNode=t,this._selectedNode.addClass("ui-state-active")},clearSelection:function(){this._selectedNode&&(this._selectedNode.removeClass("ui-state-active"),this._selectedNode=null)},updateDefaultIcon:function(t){for(var e=this.items(),i=0;i<e.length;i++)e[i].updateIcon(t)}}),e.TreeItem=i.create(n.ItemBase,'<li data-role="node" class="ui-igtree-node ui-igtree-noderoot ui-igtree-parentnode"><span class="ui-icon ui-icon-triangle-1-e ui-igtree-expander" data-exp="false" data-role="expander"></span><span class="nodeIcon"></span><a href="javascript:;"></a><ul></ul></li>',{initialize:function(){var t=this;this._tree=null,this._currentIcon=null,this.isExpanded(!0),this.updateNodeClass(),$(this.target).find("> .ui-igtree-expander").click(function(){return t.toggleExpand()});var e=$(this.target).find("> a").on("doubletap",function(){return t.toggleExpand()}).hover(function(t){return e.addClass("ui-state-hover")},function(t){return e.removeClass("ui-state-hover")}).focusin(function(t){return e.addClass("ui-state-focus")}).focusout(function(t){return e.addClass("ui-state-focus")}).click(function(){var i=t.getTree(),n=e.hasClass("ui-state-active");i.select(e);var r=$(t.target);n||($(t.target).closest(".ui-igtree").find("li").each(function(t,e){$(this)[0]!==r[0]&&$(this).find("> a").trigger("unselected")}),$(t.target).find("> a").trigger("selected"))});$(this.target).find("> .ui-igtree-expander.ui-icon").on("mouseover",function(t){$(t.target).parent().hasClass("ui-igtree-parentnode")&&$(this).addClass("ui-state-hover")}).on("mouseout",function(t){$(t.target).parent().hasClass("ui-igtree-parentnode")&&$(this).removeClass("ui-state-hover")})},onAttach:function(t){this._currentIcon&&this._currentIcon.attach(t),this.updateIcon()},text:u("> a"),children:a("> ul").onAddOrRemove(function(){this.updateNodeClass()}),isSelected:f,icon:s().onChange(function(){this.updateIcon()}).asAdapter(i.create(r.Icon,{panel_bounds:f}),!0),showIcon:o({defaultValue:!0}).onChange(function(){this.updateIcon()}).asBool(),isExpanded:d("> ul").and(h("> span.ui-igtree-expander.ui-icon-triangle-1-s")).and(p(h("> span.ui-igtree-expander.ui-icon-triangle-1-e"))).asBool(),toggleExpand:function(){this.isExpanded(!this.isExpanded())},_getInteractiveTarget:function(){return this.getTarget("> a")},_isEventsTarget:function(t){return this.getTarget("> a")===t},getTree:function(){if(!this._tree){for(var t=this.parent;null!=t&&!(t instanceof e.Tree);)t=t.parent;this._tree=t}return this._tree},updateNodeClass:function(){0==this.children().length?$(this.target).removeClass("ui-igtree-parentnode").addClass("ui-igtree-node-nochildren"):$(this.target).addClass("ui-igtree-parentnode").removeClass("ui-igtree-node-nochildren")},updateIcon:function(t){if(this.showIcon()){var e=!1,i=this.icon();if(i||(i=void 0===t?this.isAttached?this.getTree().itemsIcon():null:t,e=!0),i!==this._currentIcon){this._currentIcon=i;var n=$(this.target).find("> .nodeIcon");n.empty(),i&&n.append(e?i.target.cloneNode(!0):i.target)}}else{var n=$(this.target).find("> .nodeIcon");n.empty(),this._currentIcon=null}for(var r=this.children(),o=0;o<r.length;o++)r[o].updateIcon(t)}}),i.DefaultCatalog.addCatalog("",e)}),define("flat/experimental",["require","exports","adapters","core/controls","flat/text"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchBox=i.create(r.TextBox,{}),e.Calendar=i.create(n.Control,'<div style="border: 1px solid black;"><div style="width: 172px; height:157px;"></div></div>',{}),e.DateChooser=i.create(r.TextBox,{}),i.DefaultCatalog.addCatalog("",e)}),define("css!flat/../../css/flat/pack",[],function(){}),define("flat/pack",["require","exports","flat/common","flat/shapes","flat/stencils","flat/combobox","flat/grid","flat/annotations","flat/tabs","flat/text","flat/tree","flat/experimental","css!../../css/flat/pack.css"],function(t,e,i,n,r,o,s,a,l,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modules=[i,n,r,o,s,a,l,u,h,d]}),define("text!ios/common.html",[],function(){return'<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title></title>\r\n    </head>\r\n    <body>\r\n        <div data-template-name="Slider">\r\n            <div class="fake-slider">\r\n                <div class="left-range"></div>\r\n                <div class="slider-container"></div>\r\n                <div class="right-range"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <button data-template-name="Button" type="button">\r\n            <span class="button-text"></span>\r\n        </button>\r\n        \r\n        <a data-template-name="ActionButton" data-gradient="smooth" href="javascript:;" >\r\n            <svg width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                <rect class="gradient" rx="5" ry="5" width="100%" height="100%" />\r\n            </svg>\r\n            <span class="button-text"></span>\r\n        </a>\r\n        \r\n        <a data-template-name="ActionSheetButton" data-gradient="smooth" href="javascript:;" >\r\n            <svg width="100%" height="40" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                <rect class="gradient" rx="8" ry="8" width="100%" height="100%" />\r\n            </svg>\r\n            <span class="button-text"></span>\r\n        </a>\r\n        \r\n        <li data-template-name="ButtonBarItem" class="iosButtonBarItem" >\r\n            <a class="iosBaseButton" href="javascript:;" >\r\n                <div class="button-text"></div>\r\n            </a>\r\n        </li>\r\n        \r\n        <li data-template-name="PageControlItem" class="iosButtonBarItem" >\r\n            <a class="iosBaseButton" href="javascript:;" >\r\n                <svg width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                    <rect class="gradient" width="100%" height="100%" />\r\n                </svg>\r\n                <div class="button-text"></div>\r\n            </a>\r\n        </li>\r\n                \r\n        <li data-template-name="TabBarItem SegmentedToggleItem" class="iosButtonBarItem">\r\n            <a class="iosBaseButton" href="javascript:;">\r\n                <div class="button-content">\r\n                    <span class="button-icon"></span>\r\n                    <span class="button-text"></span>\r\n                </div>\r\n            </a>\r\n        </li>\r\n        \r\n        <div data-template-name="SearchBar">\r\n            <svg class="icon" width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                <path \r\n                    class="search-icon" \r\n                    d="M6 2c-2.209 0-4 1.791-4 4s1.791 4 4 4 4-1.791 4-4c0-1.105-.448-2.105-1.172-2.828-.724-.724-1.724-1.172-2.828-1.172zm0-2c1.657 0 3.157.672 4.243 1.757 1.086 1.086 1.757 2.586 1.757 4.243 0 1.398-.478 2.684-1.28 3.704l-.045.056 3.3 3.3c.391.391.391 1.024 0 1.414-.391.391-1.024.391-1.414 0l-3.384-3.384-.065.041c-.907.551-1.972.869-3.111.869-3.314 0-6-2.686-6-6s2.686-6 6-6z" \r\n                    />\r\n            </svg>\r\n            <input type="text" placeholder="">\r\n            <a href="#" class="input-clear">\r\n                <svg width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" >\r\n                    <path \r\n                        class="icon" \r\n                        d="M 6 6 L 14 14 M 14 6 L 6 14" \r\n                        stroke-width="2" \r\n                        stroke="#fff" \r\n                        stroke-linejoin="miter" \r\n                        />\r\n                </svg>\r\n            </a>\r\n        </div>       \r\n\r\n        <div data-template-name="Header" data-gradient="smooth">\r\n            <svg width="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                <rect class="gradient" width="100%" height="100%" />\r\n            </svg>\r\n            <h1 class="text ui-helper-center-align"></h1>\r\n        </div>\r\n        \r\n        <div data-template-name="Toolbar" data-gradient="smooth">\r\n            <svg width="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n                <rect class="gradient" width="100%" height="100%" />\r\n            </svg>\r\n        </div>\r\n        \r\n        <a data-template-name="NavigationButton" data-gradient="smooth" data-direction="left" href="javascript:;">\r\n            <div class="button-content">\r\n                <svg class="button-body" preserveAspectRatio="xMinYMax slice" xmlns="http://www.w3.org/2000/svg" version="1.1">\r\n                    <path class="glow" d="" />\r\n                    <path class="stroke-and-fill" d="" />\r\n                    <path class="gradient" d=""/>\r\n                </svg>                        \r\n                <svg class="button-ending" viewBox="1983 0 17 30" preserveAspectRatio="xMaxYMax slice" xmlns="http://www.w3.org/2000/svg" version="1.1">\r\n                    <path class="glow" d="" />\r\n                    <path class="stroke-and-fill" d="" />\r\n                    <path class="gradient" d=""/>\r\n                </svg>\r\n            </div>\r\n            <div class="button-text"></div>\r\n        </a>\r\n        \r\n        <a data-template-name="IconButton" href="javascript:;">\r\n            <svg viewBox="0 0 27 27" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink"  >\r\n                <g class="adorner">\r\n                    <ellipse ry="13" rx="13" cy="13.5" cx="13.5" class="stroke" />\r\n                    <ellipse ry="9.5" rx="9.5" cy="13.5" cx="13.5" class="fill"  />\r\n                    <ellipse ry="9.5" rx="9.5" cy="13.5" cx="13.5" class="gradient" />\r\n                </g>\r\n                <path class="icon" d="" fill="#fff" stroke="rgba(0, 0, 0, 0.2)"/>\r\n\r\n            </svg>\r\n        </a>\r\n\r\n        <a data-template-name="Badge" href="javascript:;">\r\n            <span class="button-text"></span>\r\n        </a>\r\n        \r\n        \r\n        <div data-template-name="Switch" class="switch bold" data-on="true">\r\n            <div class="inner-content">\r\n                <div class="on-container"><div class="label-on"> </div><div class="handle"></div></div><div class="label-off"> </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div data-template-name="ActivityIndicator">\r\n            <svg viewBox="0 0 35 35"\r\n                 version="1.1"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" >\r\n                <g stroke="#909090">\r\n                    <title></title>\r\n                    <line x1="8.487" y1="17.525" x2="1.499" y2="17.525" stroke-opacity="1.00"></line>\r\n                    <line x1="9.695" y1="22.032" x2="3.644" y2="25.525" stroke-opacity="0.93"></line>\t\r\n                    <line x1="12.995" y1="25.33" x2="9.5" y2="31.382" stroke-opacity="0.86"></line>\t\r\n                    <line x1="17.5" y1="26.513" x2="17.5" y2="33.5" stroke-opacity="0.79"></line>\t\r\n                    <line x1="25.498" y1="31.382" x2="22.006" y2="25.33" stroke-opacity="0.72"></line>\t\r\n                    <line x1="31.356" y1="25.525" x2="25.304" y2="22.032" stroke-opacity="0.65"></line>\t\r\n                    <line x1="33.501" y1="17.525" x2="26.514" y2="17.525" stroke-opacity="0.58"></line>\r\n                    <line x1="31.356" y1="9.525" x2="25.304" y2="13.018" stroke-opacity="0.51"></line>\t\r\n                    <line x1="25.5" y1="3.667" x2="22.006" y2="9.719" stroke-opacity="0.44"></line>\r\n                    <line x1="17.5" y1="1.5" x2="17.5" y2="8.488" stroke-opacity="0.37"></line>\r\n                    <line x1="12.994" y1="9.719" x2="9.5" y2="3.667" stroke-opacity="0.30"></line>\r\n                    <line x1="9.695" y1="13.018" x2="3.644" y2="9.525" stroke-opacity="0.23"></line>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n                \r\n        <div data-template-name="Picker">\r\n            <label></label>\r\n            <select></select>\r\n        </div>\r\n        <div data-template-name="DatePicker">\r\n            <label></label>\r\n            <input type="datetime" value="2017-07-07T07:17:37">\r\n            <select style="display: none;"></select>\r\n        </div>\r\n    </body>\r\n</html>'}),define("text!ios/assets.svg",[],function(){return'<svg id="svgDefs" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n  <defs>    \r\n    <!-- BRUSHES -->\r\n    <linearGradient id="ios-icon-button-gradient-state-default" x1="0" y1="0" x2="0" y2="1" >\r\n      <stop stop-color="#fff" stop-opacity="0.6471" offset="0%"/>\r\n      <stop stop-color="#fff" stop-opacity="0" offset="83.8889%"/>\r\n      <stop stop-color="#fff" stop-opacity="0" offset="98.8889%"/>\r\n    </linearGradient>\r\n\r\n    <linearGradient id="ios-icon-button-gradient-state-hover" x1="0" y1="0" x2="0" y2="1" >\r\n      <stop stop-color="#fff" stop-opacity="0.9" offset="0%"/>\r\n      <stop stop-color="#fff" stop-opacity="0.2" offset="83.8889%"/>\r\n      <stop stop-color="#fff" stop-opacity="0.1" offset="98.8889%"/>\r\n    </linearGradient>\r\n\r\n    <linearGradient id="ios-icon-button-gradient-state-active" x1="0" y1="0" x2="0" y2="1" >\r\n      <stop stop-color="#000" stop-opacity="0.6471" offset="0%"/>\r\n      <stop stop-color="#000" stop-opacity="0" offset="83.8889%"/>\r\n      <stop stop-color="#000" stop-opacity="0" offset="98.8889%"/>\r\n    </linearGradient>\r\n\r\n    <linearGradient id="flat-gradient-state-default" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0" />\r\n      <stop stop-color="#fff" offset="100%" stop-opacity="0" />\r\n    </linearGradient>\r\n      \r\n    <linearGradient id="flat-gradient-state-hover" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0.2" />\r\n      <stop stop-color="#fff" offset="100%" stop-opacity="0.2" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="flat-gradient-state-active" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#000" offset="0%" stop-opacity="0.2" />\r\n      <stop stop-color="#000" offset="100%"\tstop-opacity="0.2" />\r\n    </linearGradient>\r\n        \r\n    <linearGradient id="ios-sharp-gradient-state-default" x1="0" y1="1" x2="0" y2="0">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0"  />\r\n      <stop stop-color="#fff" offset="50%" stop-opacity="0.15"  />\r\n      <stop stop-color="#fff" offset="51%" \tstop-opacity="0.25"  />\r\n      <stop stop-color="#fff" offset="100%" stop-opacity="0.4" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-sharp-gradient-state-hover" x1="0" y1="1" x2="0" y2="0">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0"  />\r\n      <stop stop-color="#fff" offset="50%" stop-opacity="0.2"  />\r\n      <stop stop-color="#fff" offset="51%" stop-opacity="0.3"  />\r\n      <stop stop-color="#fff" offset="100%" stop-opacity="0.45" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-sharp-gradient-state-active" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0.25" />\r\n      <stop stop-color="#fff" offset="50%" stop-opacity="0.2"  />\r\n      <stop stop-color="#000" offset="50%" stop-opacity="0.05"  />\r\n      <stop stop-color="#000" offset="100%" stop-opacity="0.02"  />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-smooth-gradient-state-default" x1="0" y1="1" x2="0" y2="0">\r\n      <stop stop-color="#fff" offset="0%" stop-opacity="0.1"  />\r\n      <stop stop-color="#fff" offset="30%" stop-opacity="0.3"  />\r\n      <stop stop-color="#fff" offset="80%" stop-opacity="0.8"  />\r\n      <stop stop-color="#fff" offset="100%" stop-opacity="0.93" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-smooth-gradient-state-hover" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#fff" stop-opacity="0.55" offset="0%"/>\r\n      <stop stop-color="#fff" stop-opacity="0.1" offset="50%"/>\r\n      <stop stop-color="#fff" stop-opacity="0" offset="83.8889%"/>\r\n      <stop stop-color="#fff" stop-opacity="0" offset="98.8889%"/>\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-smooth-gradient-state-active" x1="0" y1="0" x2="0" y2="1">\r\n      <stop stop-color="#fff" stop-opacity="0.45" offset="0%"/>\r\n      <stop stop-color="#000" stop-opacity="0.15" offset="50%"/>\r\n      <stop stop-color="#000" stop-opacity="0.15" offset="83.8889%"/>\r\n      <stop stop-color="#000" stop-opacity="0.10" offset="98.8889%"/>\r\n    </linearGradient>\r\n       \r\n    <linearGradient id="ios-header-sharp-gradient" x1="0" y1="1" x2="0" y2="0">\r\n      <stop stop-color="#FFF" offset="0%" \tstop-opacity="0"  />\r\n      <stop stop-color="#FFF" offset="50%" \tstop-opacity="0.2"  />\r\n      <stop stop-color="#fff" offset="51%" \tstop-opacity="0.3"  />\r\n      <stop stop-color="#FFF" offset="100%" stop-opacity="0.45" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-header-smooth-gradient" x1="0" y1="1" x2="0" y2="0">\r\n      <stop stop-color="#FFF" offset="0%" \tstop-opacity="0.2"  />\r\n      <stop stop-color="#FFF" offset="30%" \tstop-opacity="0.3"  />\r\n      <stop stop-color="#FFF" offset="80%" \tstop-opacity="0.8"  />\r\n      <stop stop-color="#FFF" offset="100%" stop-opacity="0.93" />\r\n    </linearGradient>\r\n       \r\n    <linearGradient id="ios-button-bar-item-state-default" x1="0" y1="0" x2="0" y2="1">\r\n      <stop offset="0"    stop-opacity="0.1"    stop-color="#fff"/>\r\n      <stop offset="0.5"  stop-opacity="0.5"    stop-color="#fff"/>\r\n      <stop offset="1"    stop-opacity="1"      stop-color="#fff"/>\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-tab-bar-icons-gradient" x1="0.297" y1="0.58" x2="0.3" y2="0.59" >\r\n      <stop offset="0%"   stop-color="#fff"  stop-opacity="0.7"/>      \r\n      <stop offset="50%"  stop-color="#fff"  stop-opacity="0"/>      \r\n      <stop offset="100%"  stop-color="#fff"  stop-opacity="0.2"/>\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-popover-top-sharp-gradient" x1="0" y1="20" x2="0" y2="68" gradientUnits="userSpaceOnUse">\r\n        <stop stop-color="#fff" stop-opacity="0.5" offset="0%"/>\r\n        <stop stop-color="#fff" stop-opacity="0.1" offset="50%"/>\r\n        <stop stop-color="#fff" stop-opacity="0" offset="50.1%"/>\r\n        <stop stop-color="#fff" stop-opacity="0" offset="100%"/>\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-popover-bottom-sharp-gradient" x1="0" y1="0" x2="0" y2="48" gradientUnits="userSpaceOnUse">\r\n        <stop stop-color="#fff" stop-opacity="0.5" offset="0%"/>\r\n        <stop stop-color="#fff" stop-opacity="0.1" offset="50%"/>\r\n        <stop stop-color="#fff" stop-opacity="0" offset="50.1%"/>\r\n        <stop stop-color="#fff" stop-opacity="0" offset="100%"/>\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-popover-top-smooth-gradient" x1="0" y1="20" x2="0" y2="68" gradientUnits="userSpaceOnUse">\r\n        <stop stop-color="#fff" offset="0%" \tstop-opacity="0.93"  />\r\n        <stop stop-color="#fff" offset="30%" \tstop-opacity="0.8"  />\r\n        <stop stop-color="#fff" offset="80%" \tstop-opacity="0.3"  />\r\n        <stop stop-color="#fff" offset="100%" stop-opacity="0" />\r\n    </linearGradient>\r\n    \r\n    <linearGradient id="ios-popover-bottom-smooth-gradient" x1="0" y1="0" x2="0" y2="48" gradientUnits="userSpaceOnUse">\r\n        <stop stop-color="#fff" offset="0%" \tstop-opacity="0.93"  />\r\n        <stop stop-color="#fff" offset="30%" \tstop-opacity="0.8"  />\r\n        <stop stop-color="#fff" offset="80%" \tstop-opacity="0.3"  />\r\n        <stop stop-color="#fff" offset="100%" stop-opacity="0" />\r\n    </linearGradient>\r\n\r\n    <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">          \r\n      <feOffset result="out" in="SourceGraphic" dx="0" dy="2"/>\r\n      <feColorMatrix result="out" in="out" type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0.6 0"/>\r\n      <feGaussianBlur result="out" in="out" stdDeviation="1"/>\r\n      <feBlend in="SourceGraphic" in2="out" mode="normal" result="Drop_Shadow1"/>\r\n    </filter>\r\n    \r\n    <filter id="inner-glow" x="-100%" y="-100%" width="300%" height="300%"> \r\n      <feGaussianBlur in="SourceAlpha" stdDeviation="0.5" result="blur"/>\r\n      <feOffset dy="1" dx="0"/>\r\n      <feComposite in2="SourceAlpha" operator="arithmetic"\r\n          k2="-1" k3="1" result="shadowDiff"/>\r\n      <feFlood flood-color="white" flood-opacity="1"/>\r\n      <feComposite in2="shadowDiff" operator="in"/>\r\n      <feComposite in2="SourceGraphic" operator="over"/>\r\n    </filter>\r\n\r\n    <filter id="screen" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox">\r\n      <feBlend mode="screen" in2="BackgroundImage" in="SourceGraphic"/>\r\n      <feColorMatrix type="saturate" result="out" in="out" values="0.9"/>\r\n    </filter>\r\n\r\n    <filter id="lighten" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox">\r\n      <feBlend mode="lighten" in2="SourceGraphic" in="SourceGraphic"/>\r\n    </filter>\r\n        \r\n    <style type="text/css">\r\n      <![CDATA[        \r\n        /* \r\n            DEFAULT GRADIENTS BRUSHES \r\n        */\r\n\r\n        /* [data-gradient=\'none\'] */\r\n            [data-gradient=\'none\'] svg .gradient{\r\n                fill: url(#flat-gradient-state-default);\r\n            }\r\n                .state-hover[data-gradient=\'none\'] svg .gradient{\r\n                    fill: url(#flat-gradient-state-hover);\r\n                }\r\n\r\n                .state-active[data-gradient=\'none\'] svg .gradient{\r\n                    fill: url(#flat-gradient-state-active);\r\n                }\r\n\r\n            /* [data-gradient=\'sharp\'] */\r\n                :not(.iosPopover)[data-gradient=\'sharp\'] svg .gradient {\r\n                    fill: url(#ios-sharp-gradient-state-default);\r\n                    opacity: 1;\r\n                }\r\n\r\n                    .state-hover[data-gradient=\'sharp\'] svg > .gradient{\r\n                        fill: url(#ios-sharp-gradient-state-hover);\r\n                        opacity: 1;\r\n                    }\r\n\r\n                    .state-active[data-gradient=\'sharp\'] svg > .gradient {\r\n                        fill: url(#ios-sharp-gradient-state-active);\r\n                        opacity: 1;\r\n                    }\r\n\r\n\r\n            /* [data-gradient=\'smooth\'] */\r\n            [data-gradient=\'smooth\'] svg .gradient {\r\n                fill: url(#ios-smooth-gradient-state-default);\r\n                opacity: 0.5;\r\n            }\r\n                [data-gradient=\'smooth\'].state-hover svg .gradient {\r\n                    fill: url(#ios-smooth-gradient-state-hover);\r\n                    opacity: 1;\r\n                }\r\n\r\n                [data-gradient=\'smooth\'].state-active svg .gradient {\r\n                    fill: url(#ios-smooth-gradient-state-active);\r\n                    opacity: 1;\r\n                }\r\n                \r\n          /* iosHeader */\r\n          .iosHeader > svg .gradient {\r\n              fill: url(#ios-header-smooth-gradient);\r\n          }\r\n              .iosHeader[data-gradient=\'none\'] > svg .gradient{\r\n                  display : none;\r\n              }\r\n\r\n              .iosHeader[data-gradient=\'sharp\'] > svg .gradient {\r\n                  fill: url(#ios-header-sharp-gradient);\r\n              }\r\n              \r\n          /* iosIconButton */\r\n          .iosIconButton .adorner .gradient {\r\n              opacity: 0.6;\r\n              fill: url(#ios-icon-button-gradient-state-default);\r\n          }\r\n\r\n              .iosIconButton.state-hover .adorner .gradient {\r\n                  fill: url(#ios-icon-button-gradient-state-hover);\r\n              }\r\n              .iosIconButton.state-hover .adorner .stroke {\r\n                  stroke: #e5e3e3;\r\n              }\r\n\r\n              .iosIconButton.state-active .adorner .gradient {\r\n                  fill: url(#ios-icon-button-gradient-state-active);\r\n              }\r\n              .iosIconButton.state-active .adorner .stroke {\r\n                  stroke: #ccc;\r\n              }\r\n                       \r\n           \r\n           /* iosSegmentedToggle iosButtonBarItem states */\r\n           .iosSegmentedToggle .iosButtonBarItem a svg > .gradient {\r\n                fill    : transparent;\r\n            }\r\n           .iosSegmentedToggle .iosButtonBarItem a:not(.state-active) svg > .gradient {\r\n                fill    : url(#ios-smooth-gradient-state-default);\r\n                opacity : 1;\r\n            }\r\n              .iosSegmentedToggle .iosButtonBarItem a:hover svg > .gradient{\r\n                  opacity : 0.5;\r\n              }\r\n              .iosSegmentedToggle .iosButtonBarItem a:active svg > .gradient {\r\n                  opacity : 0.1;\r\n              }\r\n\r\n              .iosSegmentedToggle .iosButtonBarItem a.state-active svg > .gradient {\r\n                  fill    : url(#ios-button-bar-item-state-default);\r\n                  opacity : .8;\r\n            }\r\n            \r\n            .iosTabBar ul.iosBaseButtonBar li > a > .button-content >.button-icon .icon > path.gradient  {\r\n              fill            : url(#ios-smooth-gradient-state-default);\r\n              fill-opacity    : 0.45;\r\n              \r\n              stroke          : none;\r\n            }\r\n            \r\n                .iosTabBar ul.iosBaseButtonBar li > a.state-active > .button-content >.button-icon .icon > path.gradient  {\r\n                  fill            : url(#ios-tab-bar-icons-gradient);\r\n                  fill-opacity    : 0.75;\r\n              \r\n                  stroke          : url(#ios-smooth-gradient-state-default);\r\n                  stroke-width    : 0.85px;\r\n                  stroke-opacity  : 1;\r\n                  opacity         : 1;\r\n                }\r\n          \r\n            .iosPopover[data-placement=\'top\'][data-gradient=\'smooth\'] > svg > .gradient {\r\n                fill    : url(#ios-popover-top-smooth-gradient);\r\n                opacity : .5;\r\n            }\r\n            \r\n            .iosPopover[data-placement=\'bottom\'][data-gradient=\'smooth\'] > svg > .gradient {\r\n                fill    : url(#ios-popover-bottom-smooth-gradient);\r\n                opacity : .5;\r\n            }\r\n            \r\n            .iosPopover[data-placement=\'top\'][data-gradient=\'sharp\'] > svg > .gradient {\r\n                fill : url(#ios-popover-top-sharp-gradient);\r\n                opacity: 1;\r\n            }\r\n            .iosPopover[data-placement=\'bottom\'][data-gradient=\'sharp\'] > svg > .gradient {\r\n                fill : url(#ios-popover-bottom-sharp-gradient);\r\n                opacity: 1;\r\n            }                                  \r\n      ]]>\r\n    </style>\r\n  </defs>\r\n</svg>';
}),define("text!ios/assets_disabled.svg",[],function(){return'<svg id="svgDefsDisabled" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n  <defs>    \r\n    <filter id="disabled-style">\r\n      <feComponentTransfer>\r\n        <feFuncR type="linear" slope="1" intercept=".122"/>\r\n        <feFuncG type="linear" slope="1" intercept=".122"/>\r\n        <feFuncB type="linear" slope="1" intercept=".122"/>\r\n      </feComponentTransfer>\r\n    </filter>\r\n    <style type="text/css">\r\n      <![CDATA[\r\n.iosNavigationButton.disabled svg > .stroke-and-fill {\r\n  filter : url(#disabled-style);\r\n}\r\n      ]]>\r\n    </style>\r\n  </defs>\r\n</svg>'}),define("ios/common",["require","exports","adapters","templates","core/controls","core/repeaters","flat/common","flat/text","utils","jquery_ui","animation","css_plugin","text!ios/common.html","text!ios/assets.svg","text!ios/assets_disabled.svg"],function(t,e,i,n,r,o,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=t("text!ios/common.html"),h=t("text!ios/assets.svg"),d=t("text!ios/assets_disabled.svg"),c=i.text,p=i.css,f=i.attribute,g=i.property,m=i.prop,v=i.ignore,_=i.event;e.Label=s.Label,e.Title=s.Title,e.Link=s.Link,e.TextField=a.TextBox,e.PasswordField=a.PasswordBox,e.TextArea=a.TextArea,e.Badge=i.create(r.Control,{width:v,background:p("background-color").asRgba(),text:c(" > .button-text"),type:f("data-type").convert(function(t){return t?t.toLowerCase():t}),foreground:r.Text.foreground,fontFamily:r.Text.fontFamily,fontSize:r.Text.fontSize,fontStyle:r.Text.fontStyle.over(".button-text")}),e.ProgressView=i.create(r.Text,{initialize:function(){$(this.target).progressbar()},progressColor:p("> .ui-progressbar-value.background-color").and(p("> .ui-progressbar-value.border-color")).asRgba().ifAttached(),trackColor:p(".background-color").asRgba().ifAttached(),value:g({defaultValue:0}).asInt().onChange(function(){this.updateValue()}),updateValue:function(){$(this.target).progressbar("option","value",this.value())}}),e.SearchBar=i.create([r.Control,r.TextEvents],{watermarkText:f("> input.placeholder"),text:m("> input.value").onChange(function(t,e){this.isAttached&&this.updateStyle(e)}),background:p("background-color").and(p(".input-clear > svg > path.icon.stroke")).asRgba(),border:p("border-color").asRgba(),foreground:p(".search-icon.fill").and(p(".input-clear.background-color")).and(p("input.color").convert(function(t){return this.getActualForegroundColor(t)})).asRgba(),fontFamily:r.Text.fontFamily.over("input"),fontSize:r.Text.fontSize.over("input"),fontStyle:r.Text.fontStyle.over("input"),gotFocus:_("input","focus"),lostFocus:_("input","blur"),initialize:function(){var t=this;this._input=$(this.target).find("> input"),this._inputClear=$(this.target).find("> .input-clear"),this._input.on("change keydown click",function(e){t.updateStyle(t.text())}),this._input.on("keyup",function(e){var i=t._input.val(),n=t._oldValue;n!==i&&(t._input.trigger("textchanged",i),""==i&&t._input.trigger("textempty")),t.updateStyle(t.text()),t._oldValue=i}),this._inputClear.on("click",function(e){e.preventDefault(),t.text(""),t._oldValue="",t._input.focus(),t._input.trigger("textempty")})},onAttach:function(){this.updateStyle(this.text()),this._oldValue=this.text()},getActualForegroundColor:function(t){return""!==this.text()?t:this.getWatermarkForegroundColor(t)},getWatermarkForegroundColor:function(t){var e=t.lastIndexOf(","),i=t.lastIndexOf(")"),n=t.substring(e+1,i);return t.replace(n,"0.5")},updateStyle:function(t){t?this._inputClear.show():this._inputClear.hide(),this.getTarget$("input").css("color",this.getActualForegroundColor(l.css.toRgba(this.foreground())))},getInput:function(){return this._input}}),e.ContentList=i.create(o.List,'<div class="list"><div class="list-items"></div></div>',{}),e.Settings=i.create(o.List,'<div class="list"><div class="list-items"></div></div>',{}),e.AdvancedSettings=i.create(o.List,'<div class="list"><div class="list-items"></div></div>',{}),l.svg.includeResource(h),l.svg.includeResource(d),n.DefaultCatalog.addCatalog(n.fromHtml(u,{defaultNamespace:"ios"})),i.DefaultCatalog.addCatalog("ios",e)}),define("ios/slider",["require","exports","adapters","core/controls","jquery"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i.jQueryOption,o=i.css,s=i.property,a=i.mixin;e.Slider=i.create(n.Control,{thumbBackground:o("a.ui-slider-handle","background-color").asRgba(),decreaseBackground:o(".slider-container > .ui-slider-range","background-color").and(o(".left-range","background-color")).asRgba().ifAttached(),increaseBackground:o("background-color").and(o("> .fake-slider > .right-range","background-color")).asRgba().ifAttached(),maxValue:r("slider","max").asInt().ifAttached(),minValue:r("slider","min").asInt().ifAttached(),value:s({defaultValue:50}).onChange(function(t,e){$(this.target).find(".slider-container").slider("option","value",e)}).asInt().ifAttached(),panel_bounds:a(i.create(n.Bounds,{width:n.Bounds.width.onChange(function(t,e){this.isAttached&&this.parent.updateSliderWidth(e)})})),patchJQUISlider:function(){var t=$(this.target).find(".fake-slider > .left-range"),e=$(this.target).find(".fake-slider > .right-range"),i=$(this.target).find(".ui-slider-handle"),n=$(i).outerWidth(),r={width:n/2};$(t).css(r),$(e).css(r)},updateSliderWidth:function(t){var e=$(this.target).find(".ui-slider-handle").outerWidth(),i=t-e;$(this.target).find(".fake-slider > .slider-container").css({width:i})},initialize:function(){var t=this;$(this.target).find(".fake-slider > .slider-container").slider({orientation:"horizontal",range:"min",min:0,max:100,value:50,create:function(e,i){void 0===t.value()&&t.value(50)}})},onAttach:function(){this.patchJQUISlider()}}),i.DefaultCatalog.addCatalog("ios",e)}),define("ios/switch",["require","exports","adapters","core/controls","devices","jquery"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.css,s=i.text,a=i.property,l=i.event;e.Switch=i.create(n.Text,{onText:s(".label-on"),onForeground:o(".label-on.color").asRgba(),onBackground:o(".on-container.background-color").asRgba(),offText:s(".label-off"),offForeground:o(".label-off.color").asRgba(),fontStyle:n.Text.fontStyle,on:a({defaultValue:!0}).onChange(function(t,e){var i=this.getMarginForState(e);this.toggleAnimation(i),$(this.target).attr("data-on",e)}).asBool(),onClick:function(){var t=!this.on();t?$(this.target).trigger("turnOn"):$(this.target).trigger("turnOff"),this.showStateChangeAnimation=!0,this.on(t)},getMarginForState:function(t){var e;return e=1==t?-1:-51},toggleAnimation:function(t){var e=this,i=$(this.target),n=i.find(".inner-content"),r=0;this.showStateChangeAnimation&&(r=this.switchAnimationDuration),i.addClass("state-animating"),TweenLite.to(n,r,{marginLeft:t,onComplete:function(){i.removeClass("state-animating"),e.showStateChangeAnimation=!1}}),this.fixSwitchRoundnessAndMasking&&this.toggleAnimationFix(t)},toggleAnimationFix:function(t){var e,i,n=this,r=$(this.target),o=r.find(".inner-content > .on-container");t==-51?(e=18,i=51):(e=0,i=68),TweenLite.to(o,this.switchAnimationDuration,{width:i,"margin-right":e,onComplete:function(){r.removeClass("state-animating"),n.showStateChangeAnimation=!1}})},fixSwitchRoundnessAndMasking:!1,showStateChangeAnimation:!1,initialize:function(){var t=this;this.switchAnimationDuration=.2;var e=$(this.target);e.on("click",this,function(){return t.onClick()});var i=e.find(".inner-content");i.css("margin-left",this.getMarginForState(this.on())),r.getBrowser()!=r.Browser.Safari&&r.getBrowser()!=r.Browser.Chrome||Modernizr.touch||Modernizr.flexbox||(this.fixSwitchRoundnessAndMasking=!0)},turnOn:l("turnOn"),turnOff:l("turnOff")}),i.DefaultCatalog.addCatalog("ios",e)}),define("ios/activity_indicator",["require","exports","adapters","core/controls","jquery"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i.text,o=i.attribute;e.ActivityIndicator=i.create(n.Control,{fill:o("> svg > g.stroke").asRgba(),tooltip:r("> svg > g:first-child title").onChange({handler:function(t,e){$(this.target).find("> svg > g > title").text(e)},beforeChange:!0}),timer:{},animationDuration:60,initialize:function(){this.start()},start:function(){var t=this,e=$(this.target).find("> svg > g > line"),i=e.length,n=0,r=360/i,o="0";Modernizr.cssanimations||(this.timer=window.setInterval(function(){o="rotate("+r*n+"deg)",$(t.target).find("> svg").css({transform:o}),n<i-1?n++:n=0},this.animationDuration))},stop:function(){""!=this.timer&&clearInterval(this.timer)},onDetach:function(){this.stop()}}),i.DefaultCatalog.addCatalog("ios",e)}),define("ios/toolbar",["require","exports","adapters","core/controls","jquery"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i.css,o=i.text,s=i.attribute,a=i.property,l=i.mixin;e.Toolbar=i.create(n.Control,{initialize:function(){n.Control.prototype.initialize.call(this)},background:r("background-color").asRgba(),gradientType:s("data-gradient").convert(function(t){return t?t.toLowerCase():t}),cornerRadius:a({defaultValue:0}).onChange(function(t,e){this.isAttached&&this.updateCornerRadius()}),panel_bounds:l(i.create(n.Bounds,{height:n.Bounds.height.onChange(function(t){Modernizr.touch&&this.getTarget("> svg").setAttribute("height",t)})})),updateCornerRadius:function(){var t=this.cornerRadius();$(this.target).css({"border-top-left-radius":t.topLeft,"border-top-right-radius":t.topRight,"border-bottom-left-radius":t.bottomLeft,"border-bottom-right-radius":t.bottomRight})},onAttach:function(){this.updateCornerRadius()}}),e.Header=i.create(e.Toolbar,{text:o(".text"),foreground:n.Text.foreground.over(".text"),fontFamily:n.Text.fontFamily.over(".text"),fontSize:n.Text.fontSize.over(".text"),fontStyle:n.Text.fontStyle.over(".text")}),i.DefaultCatalog.addCatalog("ios",e)}),define("json!ios/icon_buttons_dictionary.json",function(){return{DetailDisclosureIconButton:"M 11 9.9946 L 13.8501 13.5 L 11 17.0054 L 12.5751 19 L 17 13.5 L 12.5751 8 L 11 9.9946 Z",ContactAddIconButton:"M 12 8 L 12 12 L 8 12 L 8 15 L 12 15 L 12 19 L 15 19 L 15 15 L 19 15 L 19 12 L 15 12 L 15 8 L 12 8 Z",RowInsertIconButton:"M 12 8 L 12 12 L 8 12 L 8 15 L 12 15 L 12 19 L 15 19 L 15 15 L 19 15 L 19 12 L 15 12 L 15 8 L 12 8 Z",DeleteIconButton:"M 8 12 L 8 15 L 19 15 L 19 12 L 8 12 Z",TabCloseIconButton:"M 9.8807 8 C 10.0349 8 10.189 8.0589 10.306 8.1774 L 13.5003 11.3707 L 16.6946 8.1774 C 16.9301 7.9411 17.312 7.9411 17.5452 8.1774 L 18.8236 9.4533 C 19.0583 9.688 19.0583 10.0715 18.8251 10.307 L 15.6308 13.5003 L 18.8251 16.6943 C 19.0583 16.9306 19.0583 17.311 18.8251 17.5465 L 17.5468 18.824 C 17.312 19.0587 16.9301 19.0587 16.6953 18.824 L 13.5011 15.6307 L 10.306 18.824 C 10.0721 19.0587 9.6893 19.0587 9.4546 18.8224 L 8.1755 17.5465 C 7.9415 17.311 7.9415 16.9306 8.1755 16.6943 L 11.3697 13.5003 L 8.1762 10.307 C 7.9431 10.0715 7.9431 9.688 8.1762 9.4549 L 9.4546 8.1774 C 9.5716 8.0589 9.7257 8 9.8807 8 Z",AppDeleteIconButton:"M 9.8807 8 C 10.0349 8 10.189 8.0589 10.306 8.1774 L 13.5003 11.3707 L 16.6946 8.1774 C 16.9301 7.9411 17.312 7.9411 17.5452 8.1774 L 18.8236 9.4533 C 19.0583 9.688 19.0583 10.0715 18.8251 10.307 L 15.6308 13.5003 L 18.8251 16.6943 C 19.0583 16.9306 19.0583 17.311 18.8251 17.5465 L 17.5468 18.824 C 17.312 19.0587 16.9301 19.0587 16.6953 18.824 L 13.5011 15.6307 L 10.306 18.824 C 10.0721 19.0587 9.6893 19.0587 9.4546 18.8224 L 8.1755 17.5465 C 7.9415 17.311 7.9415 16.9306 8.1755 16.6943 L 11.3697 13.5003 L 8.1762 10.307 C 7.9431 10.0715 7.9431 9.688 8.1762 9.4549 L 9.4546 8.1774 C 9.5716 8.0589 9.7257 8 9.8807 8 Z"}}),define("ios/buttons",["require","exports","adapters","core/controls","layout","jquery","json!ios/icon_buttons_dictionary.json"],function(t,e,i,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i.css,s=i.text,a=i.attribute,l=i.property,u=i.ignore,h=i.mixin,d=i.toggleClass,c=i.not,p=i.prop,f=t("json!ios/icon_buttons_dictionary.json");e.BaseButton=i.create(n.Control,{isEnabled:c(d("disabled")).asBool().and(c(p("disabled")).asBool()),toggleMouseState:function(t){"mouseup"==t.type||"mouseout"==t.type?$(this.target).removeClass("state-active").removeClass("state-hover"):"mousedown"==t.type||"dblclick"==t.type||"doubletap"==t.type?$(this.target).addClass("state-active"):"mouseenter"!=t.type&&"mouseover"!=t.type||$(this.target).addClass("state-hover")},toggleMobileUIState:function(t){"release"==t.type?$(this.target).removeClass("state-active"):"touch"==t.type&&$(this.target).addClass("state-active")},gradientType:a("data-gradient").convert(function(t){return t?t.toLowerCase():t}),initialize:function(){var t=this;$(this.target).addClass("iosBaseButton"),Modernizr.touch?$(this.target).on("touch tap hold release",function(e){return t.toggleMobileUIState(e)}):$(this.target).on("mouseenter mouseover mousedown mouseup dblclick mouseout",function(e){return t.toggleMouseState(e)})}}),e.BorderButton=i.create(e.BaseButton,{foreground:n.Text.foreground,fontFamily:n.Text.fontFamily,fontSize:n.Text.fontSize,fontStyle:n.Text.fontStyle,background:o("background-color").asRgba(),borderColor:n.Border.borderColor,borderThickness:n.Border.thickness,cornerRadius:n.Border.cornerRadius,opacity:o("opacity").toFloat(),text:s()}),e.Button=i.create(e.BorderButton,{initialize:function(){e.BorderButton.prototype.initialize.call(this)},text:s(".button-text"),background:o(".background-color").asRgba(),textAlignment:o("text-align"),cornerRadius:l({defaultValue:{topLeft:8,topRight:8,bottomLeft:8,bottomRight:8}}).onChange(function(t,e){this.isAttached&&this.recalculateBorderRadius()}),borderThickness:n.Border.thickness.onChange(function(t,e){this.isAttached&&this.recalculateBorderRadius()}),recalculateBorderRadius:function(){var t=this.cornerRadius(),e=this.borderThickness()||{left:0,right:0,top:0,bottom:0},i=this._getCorrectBorderRadius,n={"border-top-left-radius":i(t.topLeft,e.left),"border-top-right-radius":i(t.topRight,e.right),"border-bottom-left-radius":i(t.bottomLeft,e.left),"border-bottom-right-radius":i(t.bottomRight,e.right)};$(this.target).css(n)},onAttach:function(){this.recalculateBorderRadius()},_getCorrectBorderRadius:function(t,e){return e=e||0,0!=t&&(t+=e/2),t}}),e.IconButton=i.create(e.BaseButton,{buttonType:l().onChange(function(t,e){this.updateIconReference(e),this.updateDataButtonType(e)}).ifAttached(),updateDataButtonType:function(t){this.target.setAttribute("data-buttontype",this.getCSSReference(t))},updateIconReference:function(t){var e=this.getCSSReference(t);this.target.querySelector("path.icon").setAttribute("d",this.getIconPath(e))},getCSSReference:function(t){return t.replace(" ","")+"IconButton"},getIconPath:function(t){return f[t]}}),e.ActionButton=i.create(e.BorderButton,{initialize:function(){e.BorderButton.prototype.initialize.call(this)},text:s(".button-text"),border:u,panel_bounds:h(i.create(n.Bounds,{height:n.Bounds.height.onChange(function(t,e){this.isAttached&&e&&$(this.target).find("> .button-text").css("line-height",e+"px")})}))}),e.NavigationButton=i.create(e.BaseButton,{initialize:function(){e.BaseButton.prototype.initialize.call(this)},text:s(".button-text"),foreground:n.Text.foreground.over(".button-text"),fontFamily:n.Text.fontFamily.over(".button-text"),fontSize:n.Text.fontSize.over(".button-text"),fontStyle:n.Text.fontStyle.over(".button-text"),background:o(".stroke-and-fill.fill").asRgba(),direction:a("data-direction").and(d(".button-content.ui-helper-flip-x").convert(function(t){return"right"===t})).convert(function(t){return t?t.toLowerCase():t}),heightForIphoneLandscape:l({defaultValue:!1}).onChange(function(t){this.updatePaths(t)}).asBool(),panel_bounds:h(i.create(n.Bounds,{width:n.Bounds.width.onChange(function(t,e){this.isAttached&&e&&this.parent.fixInnerWidth(e)})})),pathsData:function(){return{normal:{glow:"M 15 1 L 1994 1 C 1996.7615 1 1999 3.2385 1999 6 L 1999 25 C 1999 27.7615 1996.7615 30 1994 30 L 15 30 C 12.2385 30 10.4375 27.5 8 25 L 0 16 L 8 6 C 11.125 2.3125 12.2385 1 15 1 Z","stroke-and-fill":"M 16 0 L 1995 0 C 1997.7615 0 2000 2.2385 2000 5 L 2000 24 C 2000 26.7615 1997.7615 29 1995 29 L 16 29 C 13.2385 29 11.4375 26.5 9 24 L 1 15 L 9 5 C 12.125 1.3125 13.2385 0 16 0 Z",gradient:"M 16.5713 1 L 1994.1428 1 C 1996.8254 1 1999 3.0842 1999 5.6553 L 1999 23.3447 C 1999 25.9158 1996.8254 28 1994.1428 28 L 16.5713 28 C 13.8887 28 12.1392 25.6724 9.7715 23.3447 L 2 14.9653 L 9.7715 5.6553 C 12.8071 2.2222 13.8887 1 16.5713 1 Z"},small:{glow:"M12,1h1982c2.762,0,5,2.238,5,5v13c0,2.762-2.238,5-5,5H12c-2.762,0-4.563-3.5-7-6l-5-6l5-6C8.125,2.313,9.238,1,12,1z","stroke-and-fill":"M13,0h1982c2.762,0,5,2.238,5,5v13c0,2.762-2.238,5-5,5H13c-2.762,0-3.821-2.552-6.258-5.052L1,11l5-6C9.125,1.313,10.238,0,13,0z",gradient:"M13.571,1h1980.571c2.683,0,4.857,2.084,4.857,4.655v11.689c0,2.571-2.175,4.655-4.857,4.655H13.571c-2.683,0-3.69-2.379-6.058-4.707L2,10.965l4.771-5.31C9.807,2.222,10.889,1,13.571,1z"}}},fixInnerWidth:function(t){var e=this;$(this.target).find("> .button-content > .button-body").css("width",t-4),$(this.target).find("> .button-text").css("width",t-13),r.onNext(function(){$(e.target).css("opacity",.9),r.onNext(function(){$(e.target).css("opacity",1)})})},updatePaths:function(t){var e=this.pathsData().normal;t===!0&&(e=this.pathsData().small);var i=$(this.target).find("> .button-content");$.each(e,function(t,e){$(i).find("> svg > ."+t).attr("d",e)})},onAttach:function(){var t=this.heightForIphoneLandscape();$(this.target).attr("data-height-for-iphone-landscape",t),this.updatePaths(t)}}),e.ActionSheetButton=i.create(e.BorderButton,{text:s(".button-text"),background:o("svg.background-color").asRgba(),panel_bounds:h(i.create(n.Bounds,{width:n.Bounds.width.onChange(function(t,e){this.isAttached&&e&&this.parent.fixInnerWidth(e)})})),fixInnerWidth:function(t){$(this.target).find("> .button-text").css("width",t-6);var e=this.getTarget("> svg");e&&(e.setAttribute("width",t-6),r.onNext(function(){$(e).css("opacity",.9),r.onNext(function(){$(e).css("opacity",1)})}))},initialize:function(){e.BorderButton.prototype.initialize.call(this)},onAttach:function(){this.fixInnerWidth(this.panel_bounds().width())}}),i.DefaultCatalog.addCatalog("ios",e)}),define("ios/button_bars",["require","exports","data","adapters","utils","core/controls","ios/buttons","flat/common","icons","jquery","json!ios/icon_buttons_dictionary.json"],function(t,e,i,n,r,o,s,a,l){"use strict";function u(t){if(t.parent){var e=t.property("key");if(e){var i=t.parent.property(t.parentProperty);if(n.isCollection(i)){for(var r=[],o=0;o<i.length;o++){var s=i[o];s!==t&&s.hasProperty("key")&&s.property("key")===e&&r.push(s)}return r}}}return[]}Object.defineProperty(e,"__esModule",{value:!0});var h=n.css,d=n.text,c=n.attribute,p=n.property,f=n.ignore,g=n.children,m=n.child,v=n.mixin,_=n.toggleClass,y=n.updateClass,b=n.addClass,w=n.not,x=n.prop,C=n.event;e.ButtonBarItem=n.create(o.ItemBase,{isEnabled:w(_("disabled")).asBool().and(w(x("disabled")).asBool()),itemKey:p(),icon:m("a .button-icon").onChange(function(){this.parent&&this.parent.updateStyle()}),defaultIconId:"Star",text:d("a .button-text"),isSelected:_("> a","state-active").onChange(function(t,e){this.isAttached&&e&&this.parent.select(this)}).asBool(),initialize:function(){var t=this;o.ItemBase.prototype.initialize.call(this),this.defaultIconId&&this.icon(this.getDefaultIcon()),$(this.target).find("> a").on("click",this,function(){return t.onClickHandler()})},onAttach:function(){o.ItemBase.prototype.onAttach.apply(this,arguments),this.reloadProperty(this.isSelected)},onAddRemove:function(){this.parent.updateStyle()},onClickHandler:function(){this.isSelected()||($(this.target).siblings().each(function(t,e){$(this).trigger("unselected")}),$(this.target).trigger("selected")),this.isSelected(!0)},getDefaultIcon:function(){var t=new a.Icon;return t.datatype(i.Catalog.get("Icon")),t.catalogId(this.defaultIconId),t},selected:C("selected"),unselected:C("unselected")}),e.BaseButtonBar=n.create(s.BaseButton,'<ul class="iosBaseButtonBar" data-gradient="smooth"></ul>',{fontFamily:o.Text.fontFamily,fontStyle:o.Text.fontStyle,fontSize:h(".button-text.font-size").asPx().ifAttached(),foreground:p({defaultValue:"rgba(255,0,0,1)"}).onChange(function(){this.updateForeground()}).asRgba(),background:p({defaultValue:"rgba(0,0,0,0)"}).onChange(function(){this.updateBackground()}).asRgba(),selectedForeground:p({defaultValue:"rgba(255,255,255,1)"}).onChange(function(){this.updateSelectedForeground()}).asRgba(),selectedBackground:p({defaultValue:"rgba(0,0,0,0)"}).onChange(function(){this.updateSelectedBackground()}).asRgba(),contentType:p().and(b().convert(function(t){return t?"type-"+t.toLowerCase():null})),items:g().onAddOrRemove(function(){this.updateStyle(),this.updateSelection(this.isAttached)}),onAttach:function(){this.updateStyle()},initialize:function(){this._currentButtonBarItem=null},selectedItem:function(){return this._currentButtonBarItem},select:function(t,e){var i=this._currentButtonBarItem;return!(i===t&&!e)&&(null!==i&&i!==t&&this._currentButtonBarItem.isSelected(!1),this._currentButtonBarItem=t,this.updateStyle(),!0)},updateSelection:function(t){for(var e=this.items(),i=0;i<e.length;i++){var n=e[i];n.isSelected()&&this.select(n,t)}},getButtonBar:function(){var t=$(this.target);return t.hasClass("iosBaseButtonBar")||(t=t.find("> .iosBaseButtonBar")),t},updateStyle:function(){if(this.isAttached){var t=this.getButtonBar();this.updateBackground(t),this.updateSelectedBackground(t),this.updateForeground(t),this.updateSelectedForeground(t)}},updateBackground:function(t){(t||this.getButtonBar()).find("> .iosButtonBarItem > a:not(.state-active)").css("background-color",this.background())},updateSelectedBackground:function(t){(t||this.getButtonBar()).find("> .iosButtonBarItem > a.state-active").css("background-color",this.selectedBackground())},updateForeground:function(t){t=t||this.getButtonBar();var e=this.foreground();t.find("> .iosButtonBarItem > a:not(.state-active)").css("color",e),t.find("> .iosButtonBarItem > a:not(.state-active) svg").css("fill",e)},updateSelectedForeground:function(t){t=t||this.getButtonBar();var e=this.selectedForeground();t.find("> .iosButtonBarItem > a.state-active").css("color",e),t.find("> .iosButtonBarItem > a.state-active svg").css("fill",e)}}),e.SegmentedToggle=n.create(e.BaseButtonBar,{tooltip:c("title"),initialize:function(){e.BaseButtonBar.prototype.initialize.apply(this,arguments),this.background("#FFBCBCBC"),this.foreground("#FF757575"),this.selectedForeground("#FFFFFFFF"),this.selectedBackground("#FF3A7BE3")}}),e.SegmentedTogglePanels=n.create(e.SegmentedToggle,{key:p(),isAnimable:!1,isSwipeable:!1,animationDuration:.3,initialize:function(){e.SegmentedToggle.prototype.initialize.call(this),this.isAnimating=!1,this._bound=!1,this._relatedItem=null},onAttach:function(){e.SegmentedToggle.prototype.onAttach.apply(this,arguments),this.bindToPanels()},onRelatedItemAttach:function(t){this.bindToPanels(),this.updateSelection()},getRelatedItem:function(){if(null===this._relatedItem){var t=u(this);t.length>0&&(this._relatedItem=t[0])}return this._relatedItem},bindToPanels:function(){var t=this;if(!this._bound&&this.isSwipeable&&this.isAttached){var e=this.getRelatedItem();e&&(this._bound=!0,$(e.target).on("mousedown",function(t){var e=t.originalEvent.target;e&&"IMG"==e.nodeName&&t.preventDefault()}).on("touchmove",function(t){t.preventDefault()}).on("swipeleft",function(e){t.handleButtonBarItem($(t.target).find(".state-active"),"left")}).on("swiperight",function(e){t.handleButtonBarItem($(t.target).find(".state-active"),"right")}))}},handleButtonBarItem:function(t,e){$(t).removeClass("state-active");var i=$(t).parent(),n=i;"left"===e?$(i).next().length>0&&(n=$(i).next()):$(i).prev().length>0&&(n=$(i).prev()),$(n).find("> a").addClass("state-active").trigger("click")},select:function(t,i){var n=this,r=this.getRelatedItem();if(!r)return!1;var s=r.getItem(t.itemKey());if(!s)return!1;var a=s.target,l=this.selectedItem(),u=l?r.getItem(l.itemKey()):null,h=u?u.target:null;if(!e.SegmentedToggle.prototype.select.call(this,t,i)&&!this.isAnimable)return!1;if(this.isAnimable){h||(h=a);var d=$(this.target),c=$(d).find("> li"),p=$(h).parent(),f=$(p).find("> div"),g=$(f).index(h),m=$(c).index(t.target),v=-100*m+"%";if(h===a&&h.style.left==v)return!1;if(g!==-1){var _;_=g>m?f.slice(m,g):f.slice(g,m+1),_.each(function(t,e){$(e).css("visibility","")})}o.invalidateControl(s),this._timeline&&(this._timeline.kill(),this._timeline=null);var y=$(f);if(this.isAttached&&this.animationDuration&&h!==a){this.isAnimating=!0,this._timeline=new TimelineLite({onComplete:function(){$(f).css("visibility","hidden"),$(a).css("visibility",""),n.isAnimating=!1}});for(var b=0;b<y.length;b++)this._timeline.to(y[b],this.animationDuration,{left:v},"0");this._timeline.play()}else{$(f).css("visibility","hidden"),$(a).css("visibility","");for(var b=0;b<y.length;b++)y[b].style.left=v}}else r.getTarget$(" > [data-key]").hide(),$(a).show(),o.invalidateControl(s)}}),e.ContainerList=n.create(o.Control,"<div/>",{key:c("data-key"),background:h("background-color").asRgba(),borderColor:h("border-color").asRgba(),borderThickness:h("border-width").asPx(),items:g().onAddOrRemove(function(){this.onItemChange()}),getItem:function(t){for(var e=this.items(),i=0;i<e.length;i++)if(e[i].itemKey()===t)return e[i];return null},onAttach:function(){var t=u(this);t.length>0&&t[0].onRelatedItemAttach(this)},onItemChange:function(){if(this.isAttached){var t=u(this);t.length>0&&t[0].onRelatedItemAttach(this)}}}),e.ContainerListItem=n.create([o.ControlItemBase,o.ScrollableContainer],"<div/>",{panel_bounds:f,background:h("background-color").asRgba(),borderColor:o.Border.borderColor,borderThickness:o.Border.thickness,cornerRadius:o.Border.cornerRadius,itemKey:c("data-key"),isSelected:f}),e.SegmentedControlButtons=n.create(e.SegmentedTogglePanels,{isAnimable:!1,isSwipeable:!1,items:e.BaseButtonBar.items.onAddOrRemove(function(){this.isAttached&&this.updateHeight(this.panel_bounds().height())}),initialize:function(){e.SegmentedTogglePanels.prototype.initialize.apply(this,arguments),this.background("#FFB4BEC6"),this.foreground("#FF3F5C84"),this.selectedForeground("#FFFFFFFF"),this.selectedBackground("#FF42628E")},panel_bounds:v(n.create(o.Bounds,{height:o.Bounds.height.onChange(function(t){this.isAttached&&t&&this.parent.updateHeight(t)})})),updateHeight:function(t){var e={height:t};$(this.target).find("> li > a ").css(e),$(this.target).find("> li > a .button-text").css(e).css("line-height",t-2+"px"),this.invalidateParent()},onAttach:function(){e.SegmentedTogglePanels.prototype.onAttach.apply(this,arguments);var t=this.panel_bounds().height();this.updateHeight(t)}}),e.SegmentedToggleItem=n.create(e.ButtonBarItem,{}),e.SegmentedControlContent=n.create(e.ContainerList,'<div class="iosContainerList"/>',{}),e.PageControlButtons=n.create(e.SegmentedTogglePanels,'<ul class="iosBaseButtonBar" data-buttons-color="" />',{isAnimable:!0,isSwipeable:!0,buttonsColor:h("svg.background-color").asRgba(),background:f,foreground:f,selectedForeground:f,selectedBackground:f}),e.PageControlContent=n.create(e.ContainerList,'<div class="iosContainerList"/>',{}),e.PageControlItem=n.create(e.ButtonBarItem,{icon:f,defaultIconId:null}),e.MaskedIcon=n.create(a.Icon,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none" viewbox="0 0 32 32"><path class="shadow" transform="translate(4,5)" /><path class="fill" transform="translate(3,4)" /><path class="gradient" transform="translate(3,4)"/></svg>',{path:c(":first-child.d").and(c(":last-child.d")).convert(function(t){return r.strings.startsWith(t,"F1")?t.substr(2):t}),catalogId:c("data-catalogid").onChange(function(t,e){var i=l.getIcon(e);this.target.childNodes[0].setAttribute("d",i),this.target.childNodes[1].setAttribute("d",i),this.target.childNodes[2].setAttribute("d",i)}),tooltip:d("> path > title").onChange({handler:function(t,e){r.svg.setTooltip(this.target.childNodes[0],e)},beforeChange:!0})}),e.TabBarItem=n.create([e.ButtonBarItem,o.ScrollableContainer],{text:f,header:d("a .button-text"),icon:m(".button-icon").asAdapter(e.MaskedIcon),panel_bounds:f,content:m("< > div.tab-bar-content").onChange(function(t,e){e.target.id=this.target.id+"_container",this.reloadProperty(this.isSelected),this.updateContainer(e)}).asAdapter(n.create(o.Container,'<div class="viewport"><div></div></div>',{children:o.Container.children.over("> div"),panel_bounds:o.Container.panel_bounds.over(">div"),layout:o.Container.layout.over(">div"),clipToContainer:o.Container.clipToContainer.over("clipped")})).ifAttached(),viewboxTarget:function(){var t=this.content();return t?t.target:null}}),e.TabBar=n.create(o.Control,'<div data-gradient="smooth"><div class="tab-bar-content"></div><nav><ul class="iosBaseButtonBar"></ul></nav></div>',{stripBackground:h(" > nav","background-color").asRgba(),background:h(" > .tab-bar-content","background-color").asRgba(),foreground:y(" > nav :not(.state-active) > .button-content > .button-text","color").asRgba(),selectedForeground:y(" > nav .state-active > .button-content > .button-text","color").asRgba(),fontFamily:o.Text.fontFamily.over("> nav"),fontSize:y(" > nav .button-text","font-size").asPx(),fontStyle:o.Text.fontStyle.over("> nav"),iconFill:y(" > nav :not(.state-active) > .button-content > .button-icon .fill","fill").asRgba(),selectedIconFill:y(" > nav .state-active > .button-content > .button-icon .fill","fill").asRgba(),gradientType:c("data-gradient").convert(function(t){return t?t.toLowerCase():t}),itemsMode:c("data-itemsmode").convert(function(t){return t?t.toLowerCase():""}),items:g("> nav > ul.iosBaseButtonBar").onAddOrRemove(function(){this.isAttached&&this.updateSelection()}).asAdapter(e.TabBarItem),panel_bounds:v(n.create(o.Bounds,{height:o.Bounds.height.onChange(function(t,e){var i=this.getTarget("> nav");i&&(e-=i.offsetHeight),this.getTarget("> .tab-bar-content").style.height=e+"px"}),invalidate:function(){this.reloadProperty(this.height)}})).onChange(function(){this.onBoundsChanged()}),initialize:function(){this._currentSelection=null},updateSelection:function(){for(var t=this.items(),e=0;e<t.length;e++){var i=t[e];i.isSelected()&&this.select(i)}},select:function(t){if(this._currentSelection!==t){var e=$(this.target).find("> .tab-bar-content"),i=e.find("> *");i.css("display","none");var n=document.querySelector("#"+t.target.id+"_container");n&&(n.style.setProperty("display","block"),null!==this._currentSelection&&this._currentSelection.isSelected(!1),this._currentSelection=t,o.invalidateControl(t))}}}),n.DefaultCatalog.addCatalog("ios",e)}),define("text!ios/popover.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body>\r\n    <div data-template-name="Popover" data-placement="top" data-gradient="smooth">\r\n        <svg version="1.1"\r\n             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\r\n             x="0" y="0"\r\n             width="100" height="120">\r\n            <path class="fill" d="M0 0 Z" shape-rendering="geometricPrecision" />\r\n            <path class="gradient" d="M0 0 Z" shape-rendering="geometricPrecision" />\r\n        </svg>\r\n        <div class="viewport"></div>\r\n    </div>\r\n</body>\r\n</html>\r\n'}),define("ios/popover",["require","exports","adapters","utils","core/controls","templates","jquery","text!ios/popover.html"],function(t,e,i,n,r,o){"use strict";function s(t,e,i,n){var r={x:a(i,t),y:l(n,e),w:w,h:x,placement:n||"Top"},o={x:0+T/2,y:r.h+T/2,w:t-T,h:e-x-T,r:C},s="";return s+=h(r,o),s+=d(r,o),s+=c(r,o),s+=u(r,o),s+="Z"}function a(t,e){var i=e*t/100-w/2;return i<C?i=C:i>e-w-C&&(i=e-w-C),i}function l(t,e){var i;switch(t){case"Bottom":i=e-x;break;case"Top":i=0}return i}function u(t,e){var i="";switch(t.placement){
case"Top":i+="Q"+f(e.x,e.y+e.h)+f(e.x,e.y+e.h-e.r),i+="L"+f(e.x,e.y+e.r),i+="Q"+f(e.x,e.y)+f(e.x+e.r,e.y);break;case"Bottom":i+="Q"+f(e.x,e.y+e.h-t.h)+f(e.x,e.y+e.h-e.r-t.h),i+="L"+f(e.x,e.y+e.r-t.h),i+="Q"+f(e.x,e.y-t.h)+f(e.x+e.r,e.y-t.h)}return i}function h(t,e){var i="";switch(t.placement){case"Top":i+="M"+f(e.x+e.r,e.y),i+=p(e.x+t.x,e.y,t.w,t.h,t.placement),i+="L"+f(e.x+e.w-e.r,e.y),i+="Q"+f(e.x+e.w,e.y)+f(e.x+e.w,e.y+e.r);break;case"Bottom":i+="M"+f(e.x+e.r,e.y-t.h),i+="L"+f(e.x+e.w-e.r,e.y-t.h),i+="Q"+f(e.x+e.w,e.y-t.h)+f(e.x+e.w,e.y+e.r-t.h)}return i}function d(t,e){var i="";switch(t.placement){case"Top":i+="L"+f(e.x+e.w,e.y+e.h-e.r);break;case"Bottom":i+="L"+f(e.x+e.w,e.y+(e.h-t.h)-e.r)}return i}function c(t,e){var i="";switch(t.placement){case"Top":i+="Q"+f(e.x+e.w,e.y+e.h)+f(e.x+e.w-e.r,e.y+e.h),i+="L"+f(e.x+e.r,e.y+e.h);break;case"Bottom":i+="Q"+f(e.x+e.w,e.y+e.h-t.h)+f(e.x+e.w-e.r,e.y+e.h-t.h),i+=p(e.x+t.x,e.y+e.h-t.h,t.w,t.h,t.placement),i+="L"+f(e.x+e.r,e.y+e.h-t.h)}return i}function p(t,e,i,n,r){var o="";switch(r){case"Top":o+="L"+f(t,e),o+="L"+f(t+i/2,e-n),o+="L"+f(t+i,e);break;case"Bottom":o+="L"+f(t+i,e),o+="L"+f(t+i/2,e+n),o+="L"+f(t,e)}return o}function f(t,e){return t+" "+e+" "}Object.defineProperty(e,"__esModule",{value:!0});var g=i.css,m=i.attribute,v=i.property,_=i.child,y=i.mixin,b=t("text!ios/popover.html"),w=40,x=20,C=8,T=1;e.Popover=i.create([r.Control,r.ScrollableContainer],{background:g("> svg > path.fill.fill").and(g("> svg > path.fill.stroke")).asRgba(),gradientType:m("data-gradient").convert(function(t){return t?t.toLowerCase():t}),arrowPosition:v({defaultValue:50}).onChange(function(t,e){t!==e&&this.draw()}).asInt(),arrowPlacement:v({defaultValue:"Top"}).onChange(function(t,e){t!==e&&($(this.target).attr("data-placement",e.toLowerCase()),this.draw(),this.isAttached&&Modernizr.touch&&n.ui.forceRepaint3(this.target))}),content:_("> .viewport").asAdapter(r.Container).onChange(function(t,e){this.isAttached&&this.updateContainer(e)}),panel_bounds:y(i.create(r.Bounds,{width:r.Bounds.width.onChange(function(t,e){t!==e&&(this.getTarget("> svg").setAttribute("width",e+T),this.getTarget("> .viewport").style.width=e-12+"px",this.parent&&this.parent.draw())}),height:r.Bounds.height.onChange(function(t,e){if(t!==e){this.getTarget("> svg").setAttribute("height",e+T);var i=e;e>0&&(i=e-x),this.getTarget("> .viewport").style.height=i-11+"px",this.parent&&this.parent.draw()}})})),draw:function(){if(this.isAttached){var t=this.panel_bounds(),e=t.width(),i=t.height(),n=this.arrowPosition(),r=this.arrowPlacement(),o=s(e,i,n,r);this.getTarget("> svg > path.fill").setAttribute("d",o),this.getTarget("> svg > path.gradient").setAttribute("d",o)}},onAttach:function(){this.draw()},viewboxTarget:function(){return this.getTarget("> .viewport")}}),o.DefaultCatalog.addCatalog(o.fromHtml(b,{defaultNamespace:"ios"})),i.DefaultCatalog.addCatalog("ios",e)}),define("text!ios/pickers.html",[],function(){return'<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title></title>\r\n    </head>\r\n\r\n    <body data-namespace="ios">\r\n\r\n        <div data-template-name="iPhonePickerDialog" class="iphone-pickers-dialog" style=\'display: none;\'>\r\n            <div class="buttons-container">\r\n                <button class="action-button action-button-done">\r\n                    <span class="button-text" data-translate-id="player.controls.datePicker.done">Done</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <div data-template-name="iPadPickerDialog" class="ipad-pickers-dialog" style=\'display: none;\'>            \r\n            <div class="picker-dialog-content" data-placement="top">\r\n                <div class="buttons-container">\r\n                    <button class="action-button action-button-done">\r\n                        <span class="button-text" data-translate-id="player.controls.datePicker.done">Done</span>\r\n                    </button>\r\n                </div>                \r\n            </div>\r\n        </div>\r\n        \r\n        <div data-template-name="PickersWheels">\r\n            <div class="wheels-container" data-format="MMMM dd yyyy">\r\n                <div class="wheel months">\r\n                    <div class="list-container" >\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n                        \r\n                <div class="wheel days">\r\n                    <div class="list-container" >\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n                        \r\n                <div class="wheel years">\r\n                    <div class="list-container" >\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="visor">\r\n\t                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="yyyy MMMM dd">\r\n                <div class="wheel years">\r\n                    <div class="list-container">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel months">\r\n                    <div class="list-container">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel days">\r\n                    <div class="list-container">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="h m tt">\r\n                <div class="wheel time">\r\n                    <div class="list-container time hours">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time mins">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time am-pm">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="tt h m">\r\n                <div class="wheel time">\r\n                    <div class="list-container time am-pm">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="wheel time">\r\n                    <div class="list-container time hours">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time mins">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="simple-list">\r\n                <div class="wheel simple-list">\r\n                    <div class="list-container">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="dddd MMM dd h m tt">\r\n                <div class="wheel date">\r\n                    <div class="list-container date">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time hours">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time mins">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time am-pm">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="wheels-container" data-format="MMM dd dddd tt h m">\r\n                <div class="wheel date">\r\n                    <div class="list-container date">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time am-pm">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time hours">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="wheel time">\r\n                    <div class="list-container time mins">\r\n                        <ul tabindex="1"></ul>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="visor">\r\n                    <div class="glass"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</html>'}),define("ios/pickers_dialog",["require","exports","layout","templates","utils","animation","css_plugin","text!ios/pickers.html"],function(t,e,i,n,r){"use strict";function o(){return e.PickerDialog&&"none"!==e.PickerDialog.style.getPropertyValue("display")}function s(){l("iPhonePickerDialog",function(t){var e=t.querySelector(".action-button-done");e.addEventListener("click",function(){return d(!0)}),r.locale.translateElement(e.childNodes[0].parentElement)})}function a(){l("iPadPickerDialog",function(t){var e=t.querySelector(".action-button-done");e.addEventListener("click",function(){return f()}),r.locale.translateElement(e.childNodes[0].parentElement)})}function l(t,i){if(x!=t){null!==e.PickerDialog&&($(e.PickerDialog).detach(),e.PickerDialog=null);var n=y("ios"+t),r=$(y("iosPickersWheels")).find("> .wheels-container"),o=$(n).find(".picker-dialog-content");1===o.length?r.each(function(t,e){return o[0].appendChild(e)}):r.each(function(t,e){return n.appendChild(e)}),n.style.display="none",e.PickerDialog=n,x=t,i&&i(e.PickerDialog),document.body.appendChild(e.PickerDialog)}}function u(){S||(S=!0,i.onNext(function(){o()&&(v(),g()),S=!1}))}function h(t){var i=e.PickerDialog;if(i){var n=i.getAttribute("data-platform");n&&$(i).removeClass(n+"-picker"),t&&(i.setAttribute("data-platform",t),$(i).addClass(t+"-picker"))}}function d(t){var i=e.PickerDialog;if(o())if(t){if(!C){C=!0;var n=i.offsetHeight;TweenLite.fromTo(i,T,{bottom:0},{bottom:"-"+n,onComplete:function(){i.style.display="none",e.PickerDialogOwner=null,C=!1}})}}else i.style.bottom="-"+i.offsetHeight+"px",i.style.display="none",e.PickerDialogOwner=null,C=!1}function c(t,i){var n=e.PickerDialog;if(e.PickerDialogOwner=t,h(i),n&&"none"===n.style.getPropertyValue("display")&&!C){C=!0;var r=$(n).height();n.style.removeProperty("display"),TweenLite.fromTo(n,T,{bottom:"-"+r},{bottom:0,onComplete:function(){C=!1,g()}})}u()}function p(t,i,n){w=n,w.open(e.PickerDialog,t,m,!0,u),e.PickerDialogOwner=t,h(i),$(document).off("mousedown",_),$(document).on("mousedown",_),u()}function f(){e.PickerDialogOwner=null,w.close(e.PickerDialog),$(document).off("mousedown",_)}function g(){}function m(t){var i=t.getBoundingClientRect();if(0===i.height&&0===i.width)return null;var n,r=document.querySelector("#prototype .content-viewbox").getBoundingClientRect(),o=e.PickerDialog,s=$(o).find(" > .picker-dialog-content"),a=s.outerHeight(),l=s.outerWidth(),u=r.height+r.top-(a+i.height),h=i.width/2-l/2;return i.top+i.height<=u?(n=i.height,s.attr("data-placement","top")):(n=-a,s.attr("data-placement","bottom")),{x:h,y:n}}function v(){var t=$(e.PickerDialog).find(".wheels-container:visible ul");t.each(function(t,e){var i=e,n=$(i).find("> li"),r=$(n[0]).outerHeight(),o=$(e).find("li.selected"),s=$(n).index(o),a=$(i).parent().outerHeight()/2,l=a-r/2,u=l-s*r,h="";h+="-moz-transform: translateY("+u+"px);",h+="-ms-transform: translateY("+u+"px);",h+="-webkit-transform: translateY("+u+"px);",h+="transform: translateY("+u+"px);",$(i).attr("style",h)})}function _(t){if(e.PickerDialogOwner){var i=$(e.PickerDialog).find(t.target).length>0,n=$(e.PickerDialogOwner).find($(t.target)).length>0;i||n||f()}}function y(t){var e=n.DefaultCatalog.get(t),i=e.apply();return i}Object.defineProperty(e,"__esModule",{value:!0});var b=t("text!ios/pickers.html");e.PickerDialog=null,e.PickerDialogOwner=null;var w=null,x=null,C=!1,T=.25,S=!1;e.isPickerVisible=o,e.createIPhonePickerDialog=s,e.createIPadPickerDialog=a,e.updatePickerSelection=u,e.hideIPhonePicker=d,e.showIPhonePicker=c,e.showIPadPicker=p,e.hideIPadPicker=f,n.DefaultCatalog.addCatalog(n.fromHtml(b))}),define("ios/pickers",["require","exports","adapters","layout","devices","core/controls","utils","ios/pickers_dialog","jquery_ui","animation","css_plugin"],function(t,e,i,n,r,o,s,a){"use strict";function l(){return(new Date).toString()}function u(t,e,i){i=i||new Date;var n,r,o,s,a;if("datetime"===e||"datetime-local"===e){var l=t.substr(0,"YYYY-MM-DD".length).split("-");o=parseInt(l[0]),n=parseInt(l[1]),r=parseInt(l[2]);var u=t.substr("YYYY-MM-DDT".length).split(":");s=parseInt(u[0]),a=parseInt(u[1])}else if("date"===e){var h=t.split("-");o=parseInt(h[0]),n=parseInt(h[1]),r=parseInt(h[2]),s=i.getHours(),a=i.getMinutes()}else if("time"===e){o=i.getFullYear(),n=i.getMonth()+1,r=i.getDate();var d=t.split(":");s=parseInt(d[0]),a=parseInt(d[1])}else o=i.getFullYear(),n=i.getMonth()+1,r=i.getDate(),s=i.getHours(),a=i.getMinutes();return n+"/"+r+"/"+o+" "+s+":"+a}function h(t){return s.strings.dateFromIndigo(t).toString()}function d(t,e,i){var n,r,o,a;if(t.indexOf("T")==="0000-00-00".length){var l=t.split("T"),u=l[0].split("-");n=parseInt(u[1])+"/"+parseInt(u[2])+"/"+parseInt(u[0]);var h=l[1].split(":");o=parseInt(h[0]),a=parseInt(h[1])}else{var d=new Date(t),c=d.getFullYear(),p=d.getMonth()+1,f=d.getDate();switch(o=d.getHours(),a=d.getMinutes(),i){case"MMM dd dddd tt h m":case"yyyy MMMM dd":n=c+"/"+p+"/"+f;break;case"MMMM dd yyyy":case"dddd MMM dd h m tt":n=p+"/"+f+"/"+c}}var g,m="";switch(o<12?(0===o&&(o=12),g=s.locale.formatMessage("player.controls.datePicker.am","AM")):(g=s.locale.formatMessage("player.controls.datePicker.pm","PM"),o>12&&(o-=12)),i){case"MMM dd dddd tt h m":case"tt h m":r=g+" "+o+":"+_(a);break;case"dddd MMM dd h m tt":case"h m tt":r=o+":"+_(a)+" "+g}switch(e){case"datetime":m=n+" "+r;break;case"date":m=n;break;case"time":m=r}return m}function c(t,e){var i=new Date(t),n=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),a=i.getMinutes(),l=i.getSeconds(),u="",h=n+"-"+_(r)+"-"+_(o),d=_(s)+":"+_(a)+":"+_(l);switch(e){case"datetime-local":u=h+"T"+d;break;case"datetime":var c=new Date,p=c.getTimezoneOffset()/60,f=c.getTimezoneOffset()%60;u=h+"T"+d+p+":"+f;break;case"date":u=h;break;case"time":u=d}return u}Object.defineProperty(e,"__esModule",{value:!0});var p=i.text,f=i.css,g=i.property,m=i.children,v=i.toggleAttribute,_=s.strings.pad;e.PickerItem=i.create(o.ItemBase,"<option />",{text:p(),isSelected:v("selected").onChange(function(t,e){this.isAttached&&e&&this.parent.onSelect(this)}).asBool(),onAttach:function(){this.reloadProperty(this.isSelected)}}),e.Picker=i.create(o.Control,{foreground:f("color").asRgba(),fontFamily:o.Text.fontFamily,fontSize:o.Text.fontSize,fontStyle:o.Text.fontStyle,align:f("text-align"),items:m("> select").onAddOrRemove(function(){this.isAttached&&a.PickerDialogOwner===this.target&&this.refreshDialogList()}),showPicker:g({defaultValue:!1}).onChange(function(t,e){this.isAttached&&this.updatePickerDialogState()}).asBool(),initialize:function(){o.Control.prototype.initialize.call(this),this.scrollAnimationDuration=.5,this.clickAnimationDuration=.5,this.label=$(this.target).find("> label"),this.select=$(this.target).find("> select"),this.ul=$(this.target).find("> ul"),this.input=$(this.target).find("> input"),this.renderedDevice="iPad",this.listFormat="simple-list",this.isAnimating=!1},onAttach:function(t){this.render(t.device().id),this.updatePickerDialogState()},onDetach:function(){this.updatePickerDialogState(!0)},updatePickerDialogState:function(t){var e=this.showPicker();e&&!t?null===a.PickerDialogOwner&&this.showCurrentPicker():a.PickerDialogOwner===this.target&&this.hideCurrentPicker(!t)},getPickerDialog:function(){return a.PickerDialog},onSelect:function(t){this.updateLabel(t.text())},renderNativePicker:function(){var t=this;$(this.target).find("> ul").hide(),$(this.select).css({opacity:0}).on("change select",function(e){t.updateLabel($(t.select).find("> option:selected").text())}),$(this.target).click(function(e){$(t.select).is(":hidden")||"hidden"===$(t.select).css("visibility")||$(t.select).trigger("focus")})},renderCustomCommonPicker:function(){var t=this;$(this.target).find("select").hide(),$(this.input).hide(),"simple-list"==this.listFormat&&this.updateLabel($(this.target).find(" > li.selected").text()||"picker"),$(this.target).on("click",function(e){t.showCustomPicker()})},renderCustomIpadPicker:function(){this.renderCustomCommonPicker()},renderCustomIphonePicker:function(){var t=$(this.getPickerDialog());$("#prototype .content-fixed").append(t),this.renderCustomCommonPicker()},getPlatform:function(){return"ios"},showCurrentPicker:function(){r.isMobile()?this.showNativePicker():this.showCustomPicker()},hideCurrentPicker:function(t){r.isMobile()?$(this.select).trigger("blur"):this.hidePicker(t)},showNativePicker:function(){var t=this;n.onNext(function(){$(t.target).is(":hidden")||"hidden"===$(t.target).css("visibility")||$(t.target).trigger("click")})},showCustomPicker:function(){switch(this.refreshDialogList(),this.renderedDevice){case"iPhone":a.showIPhonePicker(this.target,this.getPlatform());break;case"iPad":a.showIPadPicker(this.target,this.getPlatform(),this.attachContext.host().popups())}},hidePicker:function(t){switch(this.renderedDevice){case"iPhone":a.hideIPhonePicker(t);break;case"iPad":a.hideIPadPicker()}},dataFormat:function(){switch(this.format()){case"time":return s.locale.formatMessage("player.controls.datePicker.timeFormat","h m tt");case"date":return s.locale.formatMessage("player.controls.datePicker.dateFormat","MMMM dd yyyy");case"datetime":return s.locale.formatMessage("player.controls.datePicker.dateTimeFormat","dddd MMM dd h m tt");default:return this.format()}},swapLists:function(t){t.find(".wheels-container").removeClass("selected-format"),"simple-list"===this.listFormat?t.find('.wheels-container[data-format="'+this.listFormat+'"]').addClass("selected-format"):t.find('.wheels-container[data-format="'+this.dataFormat()+'"]').addClass("selected-format")},updateLabel:function(t){$(this.label).text(t)},getSelectedValuesFromWheelContainer:function(t){var e=$(t).find("ul"),i=[];return e.length>0&&$(e).each(function(t,e){i.push($(e).find("> li.selected").attr("data-value"))}),i},clearWheelItems:function(t){"simple-list"===this.listFormat?t.find('.wheels-container[data-format="'+this.listFormat+'"] ul').empty():t.find('.wheels-container[data-format="'+this.dataFormat()+'"] ul').empty()},loadWheelItems:function(t){this.clearWheelItems(t);var e=new Date(this.currentDateTime());switch(this.format()){case"time":this.loadHourWheelItems(t,e),this.loadMinuteWheelItems(t,e),this.loadAmPmWheelItems(t,e);break;case"date":this.loadMonthsWheelItems(t,e),this.loadDaysWheelItems(t,e),this.loadYearsWheelItems(t,e);break;case"datetime":this.loadMonthDayWheelItems(t,e),this.loadHourWheelItems(t,e),this.loadMinuteWheelItems(t,e),this.loadAmPmWheelItems(t,e)}},getListItemTemplate:function(t,e,i,n){var r={html:t,"data-value":e};if("simple-list"===this.listFormat){var o={title:$("<div />",{html:t}).text()};$.extend(r,o)}if(n){var s={class:"selected"};$.extend(r,s)}return $("<li />",r)},loadMinuteWheelItems:function(t,e){for(var i=t.find(".wheel.time .list-container.time.mins ul"),n=e.getMinutes(),r=0;r<=59;r++)$(i).append(this.getListItemTemplate(_(r),r.toString(),r==n,r==n))},loadHourWheelItems:function(t,e){var i=t.find(".wheel.time .list-container.time.hours ul"),n=e.getHours();n>12?n-=12:0==n&&(n=12);for(var r=1;r<=12;r++)$(i).append(this.getListItemTemplate(r.toString(),r.toString(),r==n,r==n))},loadAmPmWheelItems:function(t,e){var i=t.find(".wheel.time .list-container.time.am-pm ul"),n=e.getHours();$(i).append(this.getListItemTemplate(s.locale.formatMessage("player.controls.datePicker.am","AM"),"AM",n<12,n<12)),$(i).append(this.getListItemTemplate(s.locale.formatMessage("player.controls.datePicker.pm","PM"),"PM",n>=12,n>=12))},loadYearsWheelItems:function(t,e){for(var i=t.find(".wheel.years .list-container ul"),n=e.getFullYear(),r=1900;r<=2030;r++){var o=s.locale.formatMessage("player.controls.datePicker.yearFormat",{year:r},r.toString());$(i).append(this.getListItemTemplate(o,r.toString(),r==n,r==n))}},loadDaysWheelItems:function(t,e){for(var i=t.find(".wheel.days .list-container ul"),n=e.getDate(),r=1;r<=31;r++){var o=s.locale.formatMessage("player.controls.datePicker.dayFormat",{day:r},r.toString());$(i).append(this.getListItemTemplate(o,r.toString(),r==n,r==n))}},loadMonthsWheelItems:function(t,e){for(var i=t.find(".wheel.months .list-container ul"),n=s.locale.formatMessage,r=[n("player.controls.datePicker.january","January"),n("player.controls.datePicker.february","February"),n("player.controls.datePicker.march","March"),n("player.controls.datePicker.april","April"),n("player.controls.datePicker.mayLong","May"),n("player.controls.datePicker.june","June"),n("player.controls.datePicker.july","July"),n("player.controls.datePicker.august","August"),n("player.controls.datePicker.september","September"),n("player.controls.datePicker.october","October"),n("player.controls.datePicker.november","November"),n("player.controls.datePicker.december","December")],o=e.getMonth(),a=0;a<r.length;a++)$(i).append(this.getListItemTemplate(r[a],a.toString(),a==o,a==o))},loadMonthDayWheelItems:function(t,e){var i=s.locale.formatMessage,n=[i("player.controls.datePicker.jan","Jan"),i("player.controls.datePicker.feb","Feb"),i("player.controls.datePicker.mar","Mar"),i("player.controls.datePicker.apr","Apr"),i("player.controls.datePicker.may","May"),i("player.controls.datePicker.jun","Jun"),i("player.controls.datePicker.jul","Jul"),i("player.controls.datePicker.aug","Aug"),i("player.controls.datePicker.sep","Sep"),i("player.controls.datePicker.oct","Oct"),i("player.controls.datePicker.nov","Nov"),i("player.controls.datePicker.dec","Dec")],r=[i("player.controls.datePicker.sun","Sun"),i("player.controls.datePicker.mon","Mon"),i("player.controls.datePicker.tue","Tue"),i("player.controls.datePicker.wed","Wed"),i("player.controls.datePicker.thu","Thu"),i("player.controls.datePicker.fri","Fri"),i("player.controls.datePicker.sat","Sat")],o=$(t).find(".wheel.date .list-container.date ul"),a=new Date(e.getTime());a.setDate(1),0==e.getMonth()?(a.setMonth(11),a.setFullYear(e.getFullYear()-1)):a.setMonth(e.getMonth()-1);var l=new Date(e.getTime());l.setDate(1),e.getMonth()>=10?(l.setMonth(e.getMonth()+2-12),l.setFullYear(e.getFullYear()+1)):l.setMonth(e.getMonth()+2);for(var u="",h=!1,d=!1,c=new Date,p=a,f=$("<span class='today'/>").text(s.locale.formatMessage("player.controls.datePicker.today","Today")).html();p<l;){h=c.toDateString()==p.toDateString(),d=e.toDateString()==p.toDateString();var g;g="MMM dd dddd tt h m"==this.dataFormat()?n[p.getMonth()]+" "+s.locale.formatMessage("player.controls.datePicker.dayFormat",{day:p.getDate()},p.getDate().toString())+" <span class='day'>"+r[p.getDay()]+"</span> ":"<span class='day'>"+r[p.getDay()]+"</span> "+n[p.getMonth()]+" "+p.getDate(),u=h?f:g,o.append(this.getListItemTemplate(u,s.date.toShortDateString(p),d,d)),p.setDate(p.getDate()+1)}},getWheelSelectedItemIndex:function(t){var e=$(t).closest("ul")[0],i=$(e).find("> li"),n=$(i).index(t);return n},resetDialogListsBehaviors:function(t){var e=this,i="click",n="keydown",r="swipe",o="mousewheel DOMMouseScroll",s=40,a=38;$(t).find(".wheels-container > .wheel > .list-container").off(r).on(r,function(t){var i=t;i.stopPropagation(),i.preventDefault();var n=$(i.currentTarget).find("> ul > li.selected"),r=$(i.currentTarget).find("> ul > li"),o=$(n).outerHeight(),s=e.getWheelSelectedItemIndex(n),a=Math.round(i.gesture.deltaY/o),l=s-a,u=$(r[l]);switch(i.gesture.direction){case"up":l>r.length-1&&(l=r.length);break;case"down":l<0&&(l=0)}void 0!==u&&u.length>0&&e.scrollToItem(u,Math.round(i.gesture.velocityY))}),$(t).find(".wheels-container > .wheel > .list-container > ul").off(i).on(i,"li",function(t){var i=$(t.currentTarget).closest("ul")[0],n=$(i).find("> li.state-animating");n.length<1&&($(t.currentTarget).addClass("state-animating"),e.scrollToItem(t.currentTarget))}).off(o).on(o,function(t){t.stopPropagation(),t.preventDefault();var i=t.originalEvent,n=i.wheelDelta>0||i.detail<0?1:-1,r=$(i.currentTarget).find("> li.selected");if(0!=r.length&&!e.isAnimating){var o,s,a=e.getWheelSelectedItemIndex(r),l=$(i.currentTarget).find("> li"),u=10;n<0?(s=a+u,s>l.length-1&&(s=l.length-1)):(s=a-u,s<0&&(s=0)),o=$(l[s]),!e.isAnimating&&void 0!==o&&o.length>0&&e.scrollToItem(o)}}).off(n).on(n,function(t){t.preventDefault();var i=$(t.currentTarget).find("> li.selected"),n=void 0;switch(t.which){case s:n=$(i).next();break;case a:n=$(i).prev()}!e.isAnimating&&void 0!==n&&n.length>0&&e.scrollToItem(n)})},setItemSelected:function(t){var e=$(t).closest("ul")[0],i=$(e).find("> li.selected");$(i).removeClass("selected"),$(t).addClass("selected")},scrollToItem:function(t,e){var i=this,n=$(t).closest("ul")[0],r=$(n).find("> li"),o=$(r[0]).outerHeight(),s=$(r).index(t),a=$(n).parent().outerHeight()/2,l=a-o/2,u=l-s*o,h=e||this.scrollAnimationDuration;TweenLite.to($(n),h,{transform:"translateY("+u+"px)",onStart:function(){i.isAnimating=!0},onComplete:function(){i.setItemSelected(t),$(t).removeClass("state-animating"),i.getUpdatedValueAndUpdateLabel(n,t),i.isAnimating=!1}})},getUpdatedValueAndUpdateLabel:function(t,e){var i=$(t),n=$(i).closest(".wheels-container"),r=this.getSelectedValuesFromWheelContainer(n);if(r.length>0)if("simple-list"==this.listFormat){var o=$(this.target).find("select > option"),s=$(this.target).find('select > option[selected="selected"]'),a=this.getWheelSelectedItemIndex(e);$(s).removeAttr("selected"),$(o[a]).attr("selected","selected"),this.updateLabel(r.join())}else{var l="",u=new Date(this.currentDateTime());switch(this.dataFormat()){case"dddd MMM dd h m tt":var h=r[0],d=r[1],c=r[2],p=r[3];l=h+" "+d+":"+_(c)+" "+p;break;case"MMM dd dddd tt h m":var h=r[0],p=r[1],d=r[2],c=r[3];l=h+" "+d+":"+_(c)+" "+p;break;case"MMMM dd yyyy":var f=parseInt(r[0])+1,g=r[1],m=r[2];l=f+"/"+g+"/"+m+" "+u.getHours()+":"+u.getMinutes();break;case"yyyy MMMM dd":var m=r[0],f=parseInt(r[1])+1,g=r[2];l=f+"/"+g+"/"+m+" "+u.getHours()+":"+u.getMinutes();break;case"h m tt":var d=r[0],c=r[1],p=r[2];l=u.getMonth()+1+"/"+u.getDate()+"/"+u.getFullYear()+" "+d+":"+c+" "+p;break;case"tt h m":var p=r[0],d=r[1],c=r[2];l=u.getMonth()+1+"/"+u.getDate()+"/"+u.getFullYear()+" "+d+":"+c+" "+p}this.displayCurrentDate(!1),this.dateTime(l)}},refreshDialogList:function(){var t=this,e=$(this.getPickerDialog());if(this.resetDialogListsBehaviors(e),"simple-list"===this.listFormat){this.clearWheelItems(e);var i=e.find(".wheel.simple-list ul"),n=$(this.target).find("select > option");$(n).each(function(e,n){$(i).append(t.getListItemTemplate($(n).text(),$(n).text(),$(n).attr("selected"),$(n).attr("selected")))})}else this.loadWheelItems(e);this.swapLists(e),a.updatePickerSelection()},render:function(t){if(r.isMobile())this.renderNativePicker();else{switch(t){case"iPhone4":this.renderedDevice="iPhone";break;case"iPhone5":this.renderedDevice="iPhone";break;case"iPhone6":this.renderedDevice="iPhone";break;case"iPad":this.renderedDevice="iPad";break;default:this.renderedDevice="iPad"}this.renderCustomPicker(this.renderedDevice)}},renderCustomPicker:function(t){switch(t){case"iPhone":a.createIPhonePickerDialog(),this.renderCustomIphonePicker();break;case"iPad":a.createIPadPickerDialog(),this.renderCustomIpadPicker()}}}),e.DatePicker=i.create(e.Picker,{dateTime:g().onChange(function(){this.refreshDatetimeAndFormat()}).onChange(function(t){return h(t)}),format:g({defaultValue:"datetime"}).onChange(function(){this.refreshDatetimeAndFormat()}).convert(function(t){return t.toLowerCase()}),displayCurrentDate:g({defaultValue:!1}).onChange(function(t,e){this.refreshDatetimeAndFormat()}).asBool(),currentDateTime:function(){return this._dateTime},initialize:function(){e.Picker.prototype.initialize.apply(this,arguments),this.listFormat=this.format(),this._dateTime=null},onAttach:function(t){e.Picker.prototype.onAttach.apply(this,arguments),this.refreshDatetimeAndFormat()},renderNativePicker:function(){var t=this;$(this.target).find("> ul").hide(),$(this.input).css({opacity:0}).on("change",function(e){var i=$(e.currentTarget).val(),n=new Date(t.currentDateTime());t.dateTime(i?u(i,$(t.input).attr("type"),n):l()),t.displayCurrentDate(!1)}),$(this.target).click(function(e){$(t.input).trigger("focus")})},refreshDatetimeAndFormat:function(){this.listFormat=this.format(),this._dateTime=this.displayCurrentDate()?l():this.dateTime();var t,e=this.listFormat,i=this._dateTime,n="datetime"===e?"datetime-local":e;t=c(i,n),$(this.input).attr("type",n).attr("value",t).prop("value",t),this.updateLabel(d(i,e,this.dataFormat())),r.isMobile()||this.isAnimating||a.PickerDialogOwner!==this.target||this.refreshDialogList()}}),i.DefaultCatalog.addCatalog("ios",e)}),define("css!ios/../../css/ios/pack",[],function(){}),define("ios/pack",["require","exports","ios/common","ios/slider","ios/switch","ios/activity_indicator","ios/toolbar","ios/buttons","ios/button_bars","ios/popover","ios/pickers","css!../../css/ios/pack.css"],function(t,e,i,n,r,o,s,a,l,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modules=[i,n,r,o,a,l,s,u,h]}),define("text!ios7/common.html",[],function(){return'<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title></title>\r\n    </head>\r\n    <body>\r\n        <div data-template-name="Switch" class="switch" data-on="true">\r\n            <div class="switch-wrapper">\r\n                <div class="inner-content">\r\n                    <div class="switch-on"></div>\r\n                    <div class="switch-handle"></div>\r\n                    <div class="switch-off"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <button data-template-name="Button" type="button">\r\n            <span class="button-text"></span>\r\n        </button>\r\n        \r\n        <a data-template-name="ActionButton" href="javascript:;" >\r\n            <span class="button-text"></span>\r\n        </a>\r\n        \r\n        <a data-template-name="ActionSheetButton" href="javascript:;" >\r\n            <span class="button-text"></span>\r\n        </a>\r\n        \r\n        <li data-template-name="ButtonBarItem" class="iosButtonBarItem" >\r\n            <a class="iosBaseButton" href="javascript:;" >\r\n                <div class="button-text"></div>\r\n            </a>\r\n        </li>\r\n        \r\n        <a data-template-name="IconButton" href="javascript:;">\r\n            <svg viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">\r\n                <g class="adorner">                    \r\n                    <ellipse cy="10.5" cx="10.5" rx="9.5" ry="9.5" class="fill"/>\r\n                </g>\r\n                <path class="icon" d="" fill="#fff" />\r\n            </svg>\r\n        </a>\r\n        \r\n        <a data-template-name="NavigationButton" data-direction="left" href="javascript:;">\r\n            <svg class="button-pointer-left" width="15" height="24" xmlns="http://www.w3.org/2000/svg">\r\n                <path class="stroke-and-fill" d="m13.48515,1.94719l-10,10l10,10" />\r\n                </svg>\r\n            <div class="button-text"></div>\r\n            <svg class="button-pointer-right" width="15" height="24" xmlns="http://www.w3.org/2000/svg">\r\n                <path class="stroke-and-fill" d="m1.81205,21.94719l10,-10l-10,-10" />\r\n            </svg>\r\n        </a>\r\n        \r\n        <div data-template-name="TextField">\r\n            <input type="text" placeholder="">\r\n            <a href="#" class="input-clear">\r\n                <svg width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1">\r\n                    <path class="icon"\r\n                          d="M 6 6 L 14 14 M 14 6 L 6 14"\r\n                          stroke-width="2"\r\n                          stroke="#fff"\r\n                          stroke-linejoin="miter" />\r\n                </svg>\r\n            </a>\r\n        </div>\r\n        \r\n        <div data-template-name="SearchBar">\r\n            <svg class="icon" width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n                <path class="search-icon"\r\n                      d="M5,1 C2.79086,1 1,2.79086 1,5 C1,7.20914 2.79086,9 5,9 C7.20914,9 9,7.20914 9,5 C9,2.79086 7.20914,1 5,1 z M5,0 C7.76142,0 10,2.23858 10,5 C10,6.16497 9.60158,7.23689 8.93357,8.08693 L8.87132,8.16422 L13.0159,12.3088 L12.3088,13.0159 L8.16422,8.87133 L8.08693,8.93357 C7.23689,9.60158 6.16497,10 5,10 C2.23858,10 0,7.76142 0,5 C0,2.23858 2.23858,0 5,0 z" />\r\n            </svg>\r\n            <input type="text" placeholder="">\r\n            <a href="#" class="input-clear">\r\n                <svg width="100%" height="100%" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 20 20">\r\n                    <path class="icon"\r\n                          d="M 6 6 L 14 14 M 14 6 L 6 14"\r\n                          stroke-width="2"\r\n                          stroke="#fff"\r\n                          stroke-linejoin="miter" />\r\n                </svg>\r\n            </a>\r\n        </div>\r\n        \r\n        <div data-template-name="Header" class="bold">\r\n            <h1 class="text ui-helper-center-align"></h1>\r\n        </div>\r\n        \r\n        <div data-template-name="Toolbar">\r\n        </div>\r\n    </body>\r\n</html>';
}),define("json!ios7/icon_buttons_dictionary.json",function(){return{DetailDisclosureIconButton:"m8.42526,8.16592l1.03737,0l2.07474,0l0,0.51868l0,7.78026l1.03737,0l0,0.51868l-1.03737,0l-2.07474,0l-1.03737,0l0,-0.51868l1.03737,0l0,-7.78026l-1.03737,0l0,-0.51868zm2.07474,-4.14946c0.85938,0 1.55605,0.69667 1.55605,1.55605c0,0.85938 -0.69667,1.55605 -1.55605,1.55605c-0.85938,0 -1.55605,-0.69667 -1.55605,-1.55605c0,-0.85938 0.69667,-1.55605 1.55605,-1.55605z",ContactAddIconButton:"m10,5l1,0l0,5l5,0l0,1l-5,0l0,5l-1,0l0,-5l-5,0l0,-1l5,0l0,-5z",RowInsertIconButton:"m10,5l1,0l0,5l5,0l0,1l-5,0l0,5l-1,0l0,-5l-5,0l0,-1l5,0l0,-5z",DeleteIconButton:"M5,10L16,10L16,11L5,11z",TabCloseIconButton:"m4.02321,4.02321l12.95358,12.95358m0,-12.95358l-12.95358,12.95359",AppDeleteIconButton:"m7.1181,7.1181l6.76381,6.76381m0,-6.76381l-6.76381,6.76381"}}),define("ios7/common",["require","exports","adapters","templates","core/controls","../ios/activity_indicator","../ios/buttons","../ios/button_bars","../ios/common","../ios/switch","../ios/pickers","../ios/slider","text!ios/common.html","text!ios7/common.html","json!ios7/icon_buttons_dictionary.json"],function(t,e,i,n,r,o,s,a,l,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=t("text!ios/common.html"),p=t("text!ios7/common.html"),f=t("json!ios7/icon_buttons_dictionary.json"),g=i.text,m=i.css,v=i.attribute,_=i.ignore,y=i.child,b=i.children,w=i.updateClass;e.Badge=l.Badge,e.Slider=d.Slider,e.ProgressView=l.ProgressView,e.SegmentedToggle=i.create(a.SegmentedToggle,{initialize:function(){a.SegmentedToggle.prototype.initialize.apply(this,arguments),this.background("#FFFFFFFF"),this.selectedBackground("#FF007AFF"),this.foreground("#FF007AFF"),this.selectedForeground("#FFFFFFFF")},updateSelectedBackground:function(t){a.SegmentedToggle.prototype.updateSelectedBackground.apply(this,arguments),(t||this.getButtonBar()).css("border-color",this.selectedBackground()),this.foreground(this.selectedBackground())},updateBackground:function(t){a.SegmentedToggle.prototype.updateBackground.apply(this,arguments),this.selectedForeground(this.background())}}),e.SegmentedToggleItem=i.create(a.SegmentedToggleItem,{defaultIconId:"iOS 7 Favorites"}),e.SegmentedControlButtons=i.create(a.SegmentedControlButtons,{initialize:function(){a.SegmentedControlButtons.prototype.initialize.apply(this,arguments),this.background("#FFFFFFFF"),this.selectedBackground("#FF007AFF"),this.foreground("#FF007AFF"),this.selectedForeground("#FFFFFFFF")},updateSelectedBackground:function(t){a.SegmentedToggle.prototype.updateSelectedBackground.apply(this,arguments),(t||this.getButtonBar()).css("border-color",this.selectedBackground()),this.foreground(this.selectedBackground())},updateBackground:function(t){a.SegmentedToggle.prototype.updateBackground.apply(this,arguments),this.selectedForeground(this.background())}}),e.SegmentedControlContent=a.SegmentedControlContent,e.Title=l.Title,e.Label=l.Label,e.Link=l.Link,e.Toolbar=i.create(r.Control,{background:m("background-color").asRgba()}),e.Header=i.create(e.Toolbar,{text:g(".text"),foreground:r.Text.foreground.over(".text"),fontFamily:r.Text.fontFamily.over(".text"),fontSize:r.Text.fontSize.over(".text"),fontStyle:r.Text.fontStyle.over(".text")}),e.TextField=l.TextField,e.TextArea=l.TextArea,e.PasswordField=l.PasswordField,e.SearchBar=l.SearchBar,e.ActivityIndicator=o.ActivityIndicator,e.PageControlButtons=a.PageControlButtons,e.PageControlContent=a.PageControlContent,e.PageControlItem=a.PageControlItem,e.ContainerListItem=a.ContainerListItem,e.Button=i.create(s.Button,{cornerRadius:r.Border.cornerRadius,borderThickness:r.Border.thickness}),e.ActionButton=i.create(s.ActionButton,{background:_,borderColor:_}),e.ActionSheetButton=i.create(s.ActionSheetButton,{background:m("background-color").asRgba(),borderThickness:_}),e.NavigationButton=i.create(s.NavigationButton,{background:_,foreground:r.Text.foreground.and(m("svg > path.stroke")).asRgba(),fixInnerWidth:function(t){},pathsData:function(){return{normal:{"stroke-and-fill":"m11.97065,1.04615l-10,10l10,10"},small:{"stroke-and-fill":"m11.97065,1.04615l-10,10l10,10"}}}}),e.IconButton=i.create(s.IconButton,{getIconPath:function(t){return f[t]}}),e.TabBarItem=i.create(a.TabBarItem,{icon:y(".button-icon").onChange(function(t){this.isAttached&&this.updateIconStyle()}),isSelected:a.ButtonBarItem.isSelected.onChange(function(t){this.isAttached&&this.updateIconStyle()}),onAttach:function(){a.TabBarItem.prototype.onAttach.apply(this,arguments),this.updateIconStyle()},updateIconStyle:function(){var t=this.icon();t&&void 0!==t.isSelected&&t.isSelected(this.isSelected())}}),e.TabBar=i.create(a.TabBar,'<div data-stripheight="small"><div class="tab-bar-content"></div><nav><ul class="iosBaseButtonBar"></ul></nav></div>',{iconFill:w(" > nav :not(.state-active) > .button-content .icon svg","fill").asRgba(),selectedIconFill:w(" > nav .state-active > .button-content .icon svg","fill").asRgba(),items:b("> nav > ul.iosBaseButtonBar").asAdapter(e.TabBarItem),stripHeight:v("data-stripheight").convert(function(t){return t?t.toLowerCase():t})}),e.Switch=i.create(u.Switch,{onText:_,onForeground:_,offText:_,offForeground:_,fontSize:_,fontStyle:_,fontFamily:_,onBackground:m(".switch-on.background-color").and(m(".switch-handle.box-shadow").convert(function(t){return"0px 0px 1px 2px "+t+" inset"})).asRgba(),getMarginForState:function(t){var e;return e=t===!0?1:-19}}),e.ContentList=l.ContentList,e.Settings=l.Settings,e.AdvancedSettings=l.AdvancedSettings,e.DatePicker=i.create(h.DatePicker,{getPlatform:function(){return"ios7"}}),e.Picker=i.create(h.Picker,{getPlatform:function(){return"ios7"}}),e.PickerItem=h.PickerItem,n.DefaultCatalog.addCatalog((new n.TemplateCatalog).merge(n.fromHtml(c,{defaultNamespace:"ios7"})).merge(n.fromHtml(p,{defaultNamespace:"ios7"}))),i.DefaultCatalog.addCatalog("ios7",e)}),define("text!ios7/popover.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body>\r\n    <div data-template-name="Popover" data-placement="top">\r\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="100" height="120">\r\n            <path class="fill" d="M0 0 Z" shape-rendering="geometricPrecision" />\r\n        </svg>\r\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="100" height="120">\r\n            <path class="border" d="M0 0 Z" shape-rendering="geometricPrecision" />\r\n        </svg>\r\n\r\n        <div class="viewport"></div>\r\n    </div>\r\n</body>\r\n</html>\r\n'}),define("ios7/popover",["require","exports","adapters","templates","utils","core/controls","jquery","text!ios7/popover.html"],function(t,e,i,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i.css,a=i.attribute,l=i.property,u=i.child,h=i.mixin,d=t("text!ios7/popover.html"),c="M {10} {0} Q {10} {10} {0} {10} L {1} {10} Q {2} {10} {2} {0} L {2} {3} Q {2} {4} {1} {4} L {5} {4} C {6} {8} {7} {8} {9} {4} L {0} {4} Q {10} {4} {10} {3} z",p="M {11} {0} Q {11} {1} {2} {1} L {7} {1} C {9} -4.3 {10} -4.3 {8} {1} L {3} {1} Q {4} {1} {4} {0} L {4} {5} Q {4} {6} {3} {6} L {2} {6} Q {11} {6} {11} {5} z",f=28,g=13,m=10,v=1,_=6,y="Top",b="Bottom";e.Popover=i.create([o.Control,o.ScrollableContainer],{background:s("> svg > path.fill.fill").and(s("> svg > path.fill.stroke")).asRgba(),arrowPosition:l({defaultValue:50}).onChange(function(){this.updateShape()}).asInt(),arrowPlacement:l({defaultValue:"Top"}).and(a("data-placement").convert(function(t){return t.toLowerCase()})).onChange(function(){this.updateShape()}),content:u("> .viewport").asAdapter(o.Container).onChange(function(t,e){this.isAttached&&this.updateContainer(e)}),panel_bounds:h(i.create(o.Bounds,{width:o.Bounds.width.onChange(function(t,e){this.getTarget$("> .viewport").css("width",e-2*_),this.getTarget$("> svg").attr("width",e+"px"),this.parent&&this.parent.updateShape()}),height:o.Bounds.height.onChange(function(t,e){var i=e>0?e-g:e;this.getTarget$("> .viewport").css("height",i-2*_),this.getTarget$("> svg").attr("height",e+"px"),this.parent&&this.parent.updateShape()})})),onAttach:function(){this.updateShape()},updateShape:function(){if(this.isAttached){var t=this.panel_bounds().width(),e=this.panel_bounds().height(),i=null,n=v/2,o=this.arrowPlacement(),s=this.arrowPosition(),a=m+f/2+(t-2*m-f)*s/100;o===y?i=r.strings.format(p,m+g+n,g+n,m+n,t-m-n,t-n,e-m-n,e-n,a-f/2+n,a+f/2-n,a+4-n,a-4+n,n):o==b&&(i=r.strings.format(c,m+n,t-m-n,t-n,e-m-g-n,e-g-n,a+f/2-n,a-4+n,a+4-n,e+4.3-n,a-f/2+n,n)),this.getTarget$("> svg > path").attr("d",i)}},viewboxTarget:function(){return this.getTarget("> .viewport")}}),n.DefaultCatalog.addCatalog(n.fromHtml(d,{defaultNamespace:"ios7"})),i.DefaultCatalog.addCatalog("ios7",e)}),define("css!ios7/../../css/ios7/pack",[],function(){}),define("ios7/pack",["require","exports","ios7/common","ios7/popover","css!../../css/ios7/pack.css"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modules=[i,n]}),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,r=n._mouseInit;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind("touchstart",t.proxy(e,"_touchStart")).bind("touchmove",t.proxy(e,"_touchMove")).bind("touchend",t.proxy(e,"_touchEnd")),r.call(e)}}}(jQuery),define("jquery_ui_touch_punch",["jquery_ui"],function(){}),define("text!shell.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body>    \r\n    <div data-template-name="invite_layer" id="invite_layer" style="display: none;">\r\n        <div id="toolbar_invite" class="invite-on-load player-helper-center-align invite-box" style="display: none;">\r\n            <span class="invite-title" data-translate-id="toolbar-invite.text">Tap with two fingers to toggle toolbar</span>\r\n            <div class="invite-icon-large"></div>\r\n        </div>\r\n    </div>\r\n    <div data-template-name="error_layer" id="error_layer" style="display:none">\r\n        <div class="player-error not-supported-browser" style="display:none">\r\n            <p><strong data-translate-id="player-shell.error-browser-unsupported-title">Oops!</strong><span data-translate-id="player-shell.error-browser-unsupported"> Looks like your browser is not supported, please update to IE9+. </span></p>\r\n            <p data-translate-id="player-shell.error-browser-unsupported-text">If you are using a IE9+ browser, maybe it\'s in compatibility mode? See here how to <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view" target="_blank">disable compatibility mode</a> and reload.</p>\r\n        </div>\r\n    </div>\r\n    <div data-template-name="orientation_warning" id="orientation_warning" style="display: none;">\r\n        <div id="landscape_warning" class="player-helper-center-align invite-box" style="display: none;">\r\n            <p class="invite-text">\r\n                <strong data-translate-id="player-shell.error-not-available-title">Oops!</strong>\r\n                <br/><span data-translate-id="orientation-warning.text-landscape">This prototype was designed for LANDSCAPE orientation. Please turn me.</span>\r\n            </p>\r\n        </div>\r\n        <div id="portrait_warning" class="player-helper-center-align invite-box" style="display: none;">\r\n            <p class="invite-text">\r\n                <strong data-translate-id="player-shell.error-not-available-title">Oops!</strong>\r\n                <br/><span data-translate-id="orientation-warning.text-portrait">This prototype was designed for PORTRAIT orientation. Please turn me.</span>\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-template-name="toolbar_buttons" id="toolbar_buttons">\r\n        <div class="primary-buttons">\r\n            <div class="split"></div>\r\n            <input id="home" type="button" class="player-toggle-button" />\r\n            <label for="home" data-translate-title-id="player.toolbar-home-screen" title="Go to the project Home Screen">\r\n                <span class="player-icon player-icon-home"></span>\r\n                <span class="player-button-text">Home</span>\r\n            </label>\r\n            <div id="toc_toolbar_button_container"></div>\r\n            <div id="notice_highlight" class="toolbar-notice">\r\n                <span>Highlighting for interactive</span><br /><span>elements is </span><b class="on">ON</b><b class="off">OFF</b>\r\n            </div>\r\n            <input id="toggle_highlight" type="checkbox" checked="checked" class="player-toggle-button" />\r\n            <label id="toggle_highlight_label" for="toggle_highlight">\r\n                <span class="player-icon player-icon-highlight"></span>\r\n                <span class="player-button-text">Highlight</span>\r\n            </label>\r\n            <div id="notice_notes" class="toolbar-notice notice-notes notice-flash">\r\n                <span>Design annotations</span><br /><span>are turned </span><b class="on">ON</b><b class="off">OFF</b>\r\n            </div>\r\n            <input id="toggle_notes" type="checkbox" checked="checked" class="player-toggle-button" />\r\n            <label id="toggle_notes_label" for="toggle_notes">\r\n                <span class="player-icon player-icon-notes"></span>\r\n                <span class="player-button-text">Notes</span>\r\n            </label>\r\n            <div id="breakpoint_picker_button_container"></div>\r\n            <div class="split"></div>\r\n        </div>\r\n        <div class="secondary-buttons">\r\n            <input id="restart" type="button" class="player-toggle-button" />\r\n            <label for="restart" data-translate-title-id="player.toolbar-restart" title="Refresh and restart">\r\n                <span class="player-icon player-icon-restart"></span>\r\n                <span class="player-button-text">Restart</span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>\r\n'}),define("ui/drag",["require","exports","utils"],function(t,e,i){"use strict";function n(t,e){var n;e=void 0===e?1:e,r(t,function(e){n={x:t.scrollLeft,y:t.scrollTop}},function(r){var o=i.geom.sub(n,{x:r.x*e,y:r.y*e});t.scrollLeft=o.x,t.scrollTop=o.y})}function r(t,e,n,r){function s(){n(S(w,b))}function a(t){return y===x&&(y=C,b=t,e(b),m(),!0)}function l(t){return y===C&&i.geom.distance(b,t)>o&&(y=T),y===T&&(w=t,s(),!0)}function u(t){return y===T?(w=t,s(),r&&r(),y=x,v(),!0):y===C&&(r&&r(),y=x,v(),!1)}function h(t){0===t.button&&a({x:t.clientX,y:t.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}function d(t){l({x:t.clientX,y:t.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}function c(t){0===t.button&&u({x:t.clientX,y:t.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}function p(t){if(1===t.touches.length){var e=t.touches[0];a({x:e.clientX,y:e.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}}function f(t){if(1===t.touches.length){var e=t.touches[0];l({x:e.clientX,y:e.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}}function g(t){if(0===t.touches.length&&1===t.changedTouches.length){var e=t.changedTouches[0];u({x:e.clientX,y:e.clientY})&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}}function m(){document.addEventListener("mousemove",d,!0),document.addEventListener("mouseup",c,!0),document.addEventListener("touchmove",f,!0),document.addEventListener("touchend",g,!0)}function v(){document.removeEventListener("mousemove",d,!0),document.removeEventListener("mouseup",c,!0),document.removeEventListener("touchmove",f,!0),document.removeEventListener("touchend",g,!0)}function _(){v(),t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",p)}var y,b,w,x=0,C=1,T=2;y=x;var S=i.geom.sub;return t.addEventListener("mousedown",h),t.addEventListener("touchstart",p),{dispose:_}}Object.defineProperty(e,"__esModule",{value:!0});var o=3;e.dragScroll=n,e.drag=r}),define("css!ui/../../css/ui/opd",[],function(){}),define("ui/opd",["require","exports","utils","devices","./drag","css!../../css/ui/opd.css"],function(t,e,i,n,r){"use strict";function o(t,e,n,r,o){i.css.addClass(n,"opd-box");var a=document.createElement("canvas");return n.appendChild(a),new s(t,e,n,a,r)}Object.defineProperty(e,"__esModule",{value:!0}),e.create=o;var s=function(){function t(t,e,n,r,o,s){this.viewport=t,this.content=e,this.opd=n,this.visuals=o,this.options={targetFill:"rgba(255, 255, 255, 0.8)",viewportFill:"rgba(0, 0, 0, 0.15)",viewportBorder:1,viewportBorderStroke:"#bebebe",viewportPaddingFill:"rgba(0, 0, 0, 0.2)",minViewportSize:{width:20,height:20},canvasSize:{width:300,height:150}},this.options=i.extend(this.options,s),r.width=this.options.canvasSize.width,r.height=this.options.canvasSize.height,this._canvas=r,this._ctx=r&&r.getContext?r.getContext("2d"):null,this._contentTranslate={x:0,y:0},this._ctx&&this.render(),this.registerInteractions()}return t.prototype.dispose=function(){this._canvasDrag&&this._canvasDrag.dispose(),this._viewportDrag&&this._viewportDrag.dispose(),this.viewport.removeEventListener("scroll",this._renderCallback),window.removeEventListener("resize",this._renderCallback)},t.prototype.registerInteractions=function(){var t,e=this;if(this._viewportDrag=r.drag(this.viewport,function(i){var n=e._contentTranslate;t={x:n.x,y:n.y}},function(n){e._contentTranslate=i.geom.sub(t,n),e.render()}),this._ctx){this.render(),this._renderCallback=function(t){e.render()},this.viewport.addEventListener("scroll",this._renderCallback),window.addEventListener("resize",this._renderCallback);var n;this._canvasDrag=r.drag(this._canvas,function(t){i.css.addClass(e.opd,"ui-dragging");var r=e.viewport,o=e._canvasScale,s=e._canvasTranslate,a=e._contentTranslate,l=i.ui.getTransform(document.body,e._canvas).transform(t);a.x=(l.x-s.x)/o-r.clientWidth/2,a.y=(l.y-s.y)/o-r.clientHeight/2,n={x:a.x,y:a.y},e.render()},function(t){var r=e._canvasScale,o=e._contentTranslate,s={x:t.x/r,y:t.y/r},a=i.geom.add(n,s);o.x=a.x,o.y=a.y,e.render()},function(){i.css.removeClass(e.opd,"ui-dragging")})}},t.prototype.render=function(){var t=this._ctx;if(t){this.updatePan(),this.clear();var e=this.viewport,n=this.visuals,r=this.options,o=this._canvas,s={width:o.width,height:o.height},a=n.map(function(t){return t.bounds()}).reduce(i.geom.rectUnion),l=this._contentTranslate,u={x:l.x,y:l.y,width:e.clientWidth,height:e.clientHeight},h={x:0,y:0};if(u.width>a.width&&u.height>a.height)return this.opd.style.display="none",void(this._visible=!1);this._visible||(this.opd.style.display=""),this._visible=!0,u.width>a.width&&(h.x=(u.width-a.width)/2,a.width=u.width),u.height>a.height&&(h.y=(u.height-a.height)/2,a.height=u.height);var d=this._canvasScale=i.geom.scaleRatio(s,a);this._canvasScale=d;var c=this._canvasTranslate={x:Math.round((s.width-a.width*d)/2),y:Math.round((s.height-a.height*d)/2)};this._canvasTranslate=c,t.setTransform(1,0,0,1,0,0),t.translate(c.x,c.y),t.scale(d,d);for(var p=0;p<n.length;p++){var f=n[p],g=f.bounds();g&&this.renderRect(i.geom.translate(f.bounds(),h),r.targetFill)}var m=this.getPaddingForMinSize(u,r.minViewportSize);this.renderRect(u,r.viewportFill,r.viewportBorder,r.viewportBorderStroke,m,r.viewportPaddingFill)}},t.prototype.renderRect=function(t,e,i,n,r,o){var s=this._ctx;r&&o?(s.lineWidth=r,s.fillStyle=e,s.strokeStyle=o,t.width-r>0&&t.height-r>0&&s.fillRect(t.x+r/2,t.y+r/2,t.width-r,t.height-r),s.strokeRect(t.x,t.y,t.width,t.height),i&&n&&(s.lineWidth=i,s.strokeStyle=n,s.strokeRect(t.x-r/2,t.y-r/2,t.width+r,t.height+r))):(s.fillStyle=e,s.fillRect(t.x,t.y,t.width,t.height),i&&n&&(s.lineWidth=i,s.strokeStyle=n,s.strokeRect(t.x,t.y,t.width,t.height)))},t.prototype.getPaddingForMinSize=function(t,e){var i=this._canvasScale,n=Math.max(0,(e.height-t.height*i)/i),r=Math.max(0,(e.width-t.width*i)/i);return Math.max(n,r)},t.prototype.updatePan=function(){var t,e=this.content.style,i=this._contentTranslate,r=Math.round;t=n.support.transform3d()?"translate3d("+r(-i.x)+"px, "+r(-i.y)+"px, 0px)":"translate("+r(-i.x)+"px, "+r(-i.y)+"px)",e.setProperty("-webkit-transform",t),e.setProperty("-moz-transform",t),e.setProperty("-ms-transform",t),e.setProperty("transform",t)},t.prototype.clear=function(){var t=this._ctx;if(t){var e=this._canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),t.restore()}},t}()}),define("toc/toc",["require","exports","utils"],function(t,e,i){"use strict";function n(t,e,i,n){var r=s.build(t,i,n);return $(e).empty().append(r)[0]}function r(t){return t?("/"===t[0]&&(t=t.substr(1)),i.path.asLowerCaseUri(t)):""}function o(t){return t?("/"===t[0]&&(t=t.substr(1)),t.toLowerCase()):""}Object.defineProperty(e,"__esModule",{value:!0}),e.buildToc=n,e.toScreenPath=r,e.uriToScreenPath=o;var s;!function(t){function e(t,e,i){return u=e,h=i,r(t)}function n(t){return a(t.items)}function r(t){return'<table class="toc-tree project" data-project="'+i.path.asUri(t.target.project)+'"><tbody>'+a(t.items)+"</tbody></table>"}function o(t){var e=i.strings.escapeHtml(t.label),n=i.strings.escapeHtml(t.target.screen),r=i.strings.escapeHtml(u(t.target.screen)),o=t.items&&t.items.length>0?t.items[0].target.state:"",s="chk_"+r,l=e,d=""!==o?i.strings.escapeHtml(h(t.target.screen,o)):"",c="design-file "+t.type;return""===d&&(c+=" toc-no-thumb",l="Prototypes shared on older versions of indigo do not include screenpart thumbnails"),'\n<tr class="'+c+'" data-screen="'+n+'" data-state="" >\n    <td>\n        <div>\n            <a href="'+r+'" class="toc-label" title="'+l+'">\n                <span class="toc-file-name">'+e+'</span>                  \n                <div class="toc-thumbnail-box"><img class="toc-thumbnail" src="'+d+'"></div>\n            </a>\n            <input id="'+s+'" type="checkbox" class="player-toggle-button toc-open-explorer" />\n            <label for="'+s+'" title="'+i.locale.formatMessage("table-of-contents.show-state-tooltip","Show interactions explorer")+'">\n                <span class="player-button-text">'+i.locale.formatMessage("table-of-contents.show-state","Show states")+"&nbsp;&gt;</span>\n            </label>\n        </div>\n    </td>\n    "+a(t.items)+"\n</tr>\n"}function s(t){return""}function a(t){return t?t.map(function(t){return l(t)}).join(""):""}function l(t){switch(t.type){case"folder":return n(t);case"screen":case"screenpart":return o(t);case"state":return s(t);case"project":return r(t);default:return""}}var u,h;t.build=e}(s||(s={}))}),define("toc/toc_parser",["require","exports","utils","./toc"],function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;!function(t){function e(t){var e=i.dom.firstChild(t,"Toc.Root");return r(e.firstElementChild)}function r(t){var e;e={label:t.getAttribute("Label"),type:t.getAttribute("Type"),target:null,items:null};var n=i.dom.firstChild(t,"TocEntry.Target");switch(n&&(e.target=o(n.firstElementChild)),e.type){case"project":case"folder":case"screen":case"screenpart":var r=i.dom.firstChild(t,"TocEntry.Items");r&&s(e,r)}return e}function o(t){return{project:t.getAttribute("Project"),screen:n.toScreenPath(t.getAttribute("Screen")),state:t.getAttribute("State")}}function s(t,e){for(var i=e.firstElementChild;i;)(t.items||(t.items=[])).push(r(i)),i=i.nextElementSibling}t.parse=e}(r=e.xaml||(e.xaml={}))}),define("toc/graph",["require","exports"],function(t,e){"use strict";function i(t,e){if(t.kind===e.kind){var i=!0;for(var n in e)"created"!==n&&"id"!==n&&t[n]!==e[n]&&(i=!1);if(i)return!0}}Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.State=0]="State",t[t.SwitchTo=1]="SwitchTo",t[t.Navigate=2]="Navigate",t[t.OpenUrl=3]="OpenUrl",t[t.Back=4]="Back"}(n=e.TargetKind||(e.TargetKind={})),e.matches=i}),define("toc/graph_builder",["require","exports","views","utils","operations","adapters","./graph","core/commands"],function(t,e,i,n,r,o,s,a){"use strict";function l(t){return u.build(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.build=l;var u;!function(t){function e(t){for(var e,i=t.getStates(),n=l(t),r=0;r<i.length;r++){var o=i[r],s=n[o.id];s.next=u(n,o.id,o.operations),o.isRootState&&(e=s),s.next.sort(function(t,e){return t.created.getTime()-e.created.getTime()})}var a=t.content().viewportSize();return e?{root:e,contentWidth:a.width,contentHeight:a.height}:null}function l(t){for(var e={},i=t.getStates(),n=0;n<i.length;n++){var r=i[n];e[r.id]={kind:s.TargetKind.State,id:g++ +"",created:r.created,label:r.title,state:r.id,parent:r.basedOn,next:[],isShared:!r.isShared}}return e}function u(t,e,i){function n(i){if(h(i)){var n=f(t,e,i);n&&!p(s,n)&&s.push(n)}else if(d(i))for(var r=i.getStates(),o=0;o<r.length;o++){var a=r[o];s=s.concat(u(t,e,a.operations).filter(function(t){return!p(s,t)}))}else if(c(i)){var l=i.customizations;s=s.concat(u(t,e,l.operations).filter(function(t){return!p(s,t)}))}}var s=[];if(i)for(var a=0;a<i.length;a++){var l,g,m=i[a];m instanceof r.Set&&(l=m),m instanceof r.Add&&(l=m),l&&l.value instanceof o.Adapter&&(g=l.value),g&&(n(g),g.visit(function(t,e,i){return n(i)}))}return s}function h(t){return t instanceof a.Command}function d(t){return t instanceof i.SharedControl}function c(t){return t.customizations instanceof r.InterpretedState}function p(t,e){return t.some(function(t){return s.matches(t,e)})}function f(t,e,i){if(!(i instanceof a.CommandSwitchTo))return i instanceof a.CommandOpenUrl?{kind:s.TargetKind.OpenUrl,id:g++ +"",created:i.created(),label:i.url(),url:i.url()}:i instanceof a.CommandNavigate?{kind:s.TargetKind.Navigate,id:g++ +"",created:i.created(),label:n.path.getFileName(i.screen(),!1),screen:i.screen(),state:i.state()}:i instanceof a.CommandBack?{kind:s.TargetKind.Back,created:i.created(),id:g++ +"",label:"Back"}:null;var r=t[i.sceneId()];return r?e===r.parent?r:{kind:s.TargetKind.SwitchTo,id:g++ +"",created:r.created,label:r.label,state:i.sceneId()}:void 0}var g=0;t.build=e}(u||(u={}))}),define("toc/graph_layout",["require","exports","../utils","./graph"],function(t,e,i,n){"use strict";function r(t,e,n){v=e,_=n;var r={},a=o(t),u=s(r,a,t.root,0,0,{}),h=l(r,t.root,{}),d=[];u=i.geom.rectUnion(u,h);for(var c in r){var p=r[c];p.y(p.y()-u.y),p.x(p.x()-u.x),d.push(p)}return d}function o(t){var e,i=t.contentWidth,n=t.contentHeight;return e=i>n?m/i:g/n,{width:t.contentWidth*e+2*f,height:t.contentHeight*e+p}}function s(t,e,r,o,l,h){if(h[r.id])return null;h[r.id]=!0;var p=u(t,r);p.node().kind===n.TargetKind.State&&(p.width(e.width),p.height(e.height));var f=r;if(f.next&&0!==f.next.length){for(var g=null,m=0;m<f.next.length;m++){var v=s(t,e,f.next[m],o+p.width()+d,l,h);v&&(g=g?i.geom.rectUnion(g,v):v,l=v.y+v.height,l+=c)}if(g.height<p.height()){var _=Math.round((p.height()-g.height)/2),y={};if(r.kind===n.TargetKind.State)for(var m=0;m<f.next.length;m++)a(t,f.next[m],_,y);g.y+=_}return p.x(o),p.y(Math.round(g.y+g.height/2-p.height()/2)),i.geom.rectUnion(g,{x:p.x(),y:p.y(),width:p.width(),height:p.height()})}return p.x(o),p.y(l),{x:o,y:l,width:p.width(),height:p.height()}}function a(t,e,i,r){if(!r[e.id]){r[e.id]=!0;var o=u(t,e);if(o.y(o.y()+i),e.kind===n.TargetKind.State)for(var s=e,l=0;l<s.next.length;l++)a(t,s.next[l],i,r)}}function l(t,e,i){if(!i[e.id]){i[e.id]=!0;var r=u(t,e);if(e.kind===n.TargetKind.State)for(var o=e,s=0;s<o.next.length;s++){var a=o.next[s],h=_(e,a),d=u(t,a);d&&(h.x(r.x()+r.width()),h.y(r.y()+r.height()/2),h.endX(d.x()),h.endY(d.y()+d.height()/2),h.render(),t[a.id+"_to_"+e.id]=h),l(t,a,i)}}return null}function u(t,e){var i=t[e.id];return i||(i=v(e),t[e.id]=i),i}Object.defineProperty(e,"__esModule",{value:!0});var h,d=100,c=50,p=29,f=10,g=195+p,m=260+2*f;!function(t){t[t.Target=0]="Target",t[t.Connector=1]="Connector"}(h=e.VisualKind||(e.VisualKind={}));var v,_;e.layout=r}),define("text!toc/graph_targets.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n<body>\r\n    <div data-template-name="interactionsExplorer" class="interactions-explorer">        \r\n        <div class="interactions-explorer-viewport">\r\n            <div class="ruler"></div>\r\n            <div class="interactions-explorer-content"></div>\r\n        </div>\r\n        <h1 class="interactions-explorer-title"><span></span></h1> \r\n        <div class="interactions-explorer-opd">            \r\n        </div>        \r\n    </div>\r\n\r\n    <div data-template-name="stateTarget" class="ix-target state-target">\r\n        <span class="target-label-box target-label-you-are-here" data-translate-id="toc-explorer.you-are-here">You are here</span>\r\n        <div class="target-label-box">            \r\n            <span class="target-label">You are here</span>            \r\n        </div>\r\n        <div class="target-thumbnail-box">\r\n            <img class="target-thumbnail"></img>\r\n        </div>\r\n    </div>\r\n\r\n    <div data-template-name="navigateTarget" class="ix-target ix-label navigate-target" tabindex="0">\r\n        <span class="target-title" data-translate-id="toc-explorer.navigate-to">Navigate to:</span>\r\n        <span class="target-label"></span>\r\n    </div>\r\n\r\n    <div data-template-name="backTarget" class="ix-target ix-label back-target" tabindex="0">\r\n        <span class="target-title" data-translate-id="toc-explorer.back">Back</span>\r\n    </div>\r\n\r\n    <div data-template-name="openUrlTarget" class="ix-target ix-label openurl-target" tabindex="0">\r\n        <span class="target-title" data-translate-id="toc-explorer.navigate-to">Navigate to:</span>\r\n        <span class="target-label"></span>\r\n    </div>\r\n\r\n    <div data-template-name="switchToTarget" class="ix-target ix-label switchto-target" tabindex="0">\r\n        <span class="target-title" data-translate-id="toc-explorer.switch-to">Switch to:</span>\r\n        <span class="target-label"></span>\r\n    </div>\r\n    \r\n    <div data-template-name="connectorVisual" class="ix-connector">\r\n        <svg>\r\n            <path vector-effect="non-scaling-stroke"></path>\r\n        </svg>\r\n    </div>\r\n</body>\r\n'}),define("toc/graph_render",["require","exports","adapters","templates","utils","./graph","./graph_layout","text!./graph_targets.html"],function(t,e,i,n,r,o,s){"use strict";function a(t){return s.layout(t,u,h)}function l(t){for(var e=p.apply("interactionsExplorer"),i=$(e).find(".interactions-explorer-content")[0]||e,n=null,o=0;o<t.length;o++)i.appendChild(t[o].element()),n=r.geom.rectUnion(n,{x:t[o].x(),y:t[o].y(),width:t[o].width(),height:t[o].height()});return i.style.width=n.width+"px",i.style.height=n.height+"px",e}function u(t){var e=d(t.kind);return e.node(t),e}function h(t,e){return new w}function d(t){switch(t){case o.TargetKind.State:return new C;case o.TargetKind.SwitchTo:return new T;case o.TargetKind.Navigate:return new S;case o.TargetKind.Back:return new k;case o.TargetKind.OpenUrl:return new P;default:throw new r.ArgumentException("Unknown target kind")}}function c(t,e){return t.x?t.x+","+t.y:t+","+e}Object.defineProperty(e,"__esModule",{value:!0});var p=n.fromHtml(t("text!./graph_targets.html"),{
translateStrings:!0}),f=260,g=195,m=f,v=42,_=10,y=6;e.layout=a,e.compose=l;var b=i.create(i.Adapter,{kind:s.VisualKind.Target,x:i.style("left").asPx(),y:i.style("top").asPx(),width:i.style("width").asPx(),height:i.style("height").asPx(),node:i.property().onChange(function(t,e){this.onNodeChanged(e)}),label:i.text(".target-label").and(i.attribute("title").convert(function(t){return r.locale.formatMessage("toc-explorer.click-to-open",{target:t},"Click to open: "+t)})),element:function(){return this.target},bounds:function(){return{x:this.x(),y:this.y(),width:this.width(),height:this.height()}},onNodeChanged:function(t){this.label(t.label)},disabled:i.toggleClass("disabled")}),w=i.create(b,function(){return p.apply("connectorVisual")},{kind:s.VisualKind.Connector,endX:i.property(),endY:i.property(),render:function(){var t,e,i,n,r=this.x(),o=this.y(),s=this.endX(),a=this.endY(),l=Math.floor(s-r),u=Math.floor(a-o),h=_,d=y;if(Math.abs(u)<2){var p,f=Math.sqrt(l*l+u*u),g={x:f-h,y:0},m={x:f-h,y:-d},v={x:f-h,y:d},b=Math.atan2(u,l),w=Math.cos(b),x=Math.sin(b);g={x:g.x*w-g.y*x,y:g.x*x+g.y*w},m={x:m.x*w-m.y*x,y:m.x*x+m.y*w},v={x:v.x*w-v.y*x,y:v.x*x+v.y*w},p="M0,0 L 0,0 L "+c(g)+" L "+c(m)+" L "+c({x:l,y:u})+" L "+c(v)+" L "+c(g)+"z",t=Math.min(0,l,g.x,m.x,v.x),i=Math.min(0,u,g.y,m.y,v.y),e=Math.max(0,l,g.x,m.x,v.x),n=Math.max(0,u,g.y,m.y,v.y)}else{var C=(s-r)/2;p="M0,0 L"+c(C,0)+" L "+c(C,u)+" L "+c(l-h,u)+" L "+c(l-h,u-d)+" L "+c(l,u)+" L "+c(l-h,u+d)+" L "+c(l-h,u)+" L "+c(C,u)+" L "+c(C,0)+"z",t=Math.min(0,C,l,l-h),i=Math.min(0,u,u-d),e=Math.max(0,C,l,l+h),n=Math.max(0,u,u+d)}l=e-t,u=n-i;var T=this.target.querySelector("svg");T.setAttribute("viewBox",t+" "+i+" "+l+" "+u),T.setAttribute("width",Math.ceil(l)+"px"),T.setAttribute("height",Math.ceil(u)+"px"),this.target.querySelector("path").setAttribute("d",p),i<0&&this.y(this.y()+i),t<0&&this.x(this.x()+t)}}),x=i.create(b,{height:i.property().asPx(),initialize:function(){this.height(v),this.width(m)}}),C=i.create(b,function(){return p.apply("stateTarget")},{state:i.attribute("data-state"),initialize:function(){this.height(g),this.width(f)},onNodeChanged:function(t){b.prototype.onNodeChanged.call(this,t),this.state(t.state)}}),T=i.create(x,function(){return p.apply("switchToTarget")},{state:i.attribute("data-state"),onNodeChanged:function(t){b.prototype.onNodeChanged.call(this,t),this.state(t.state)}}),S=i.create(x,function(){return p.apply("navigateTarget")},{state:i.attribute("data-state"),screen:i.attribute("data-screen"),onNodeChanged:function(t){b.prototype.onNodeChanged.call(this,t),this.screen(t.screen),this.state(t.state)}}),k=i.create(x,function(){return p.apply("backTarget")},{label:i.ignore,initialize:function(){x.prototype.initialize.call(this),this.height(v-16)}}),P=i.create(x,function(){return p.apply("openUrlTarget")},{url:i.attribute("data-url"),onNodeChanged:function(t){b.prototype.onNodeChanged.call(this,t),this.url(t.url)}})}),define("css!toc/../../css/toc/toc_layer",[],function(){}),define("css!toc/../../css/toc/explorers_layer",[],function(){}),define("text!toc/module.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n    <body>\r\n        <div data-template-name="explorers_layer" id="explorers_layer" class="ui-helper-hidden">\r\n            <div id="interactions_explorer_layer">\r\n            </div>\r\n        </div>    \r\n\r\n        <div data-template-name="toc_toolbar_button" data-template-fragment="true">\r\n            <input id="toggle_toc" type="checkbox" class="player-toggle-button" />\r\n            <label id="toggle_toc_label" for="toggle_toc" data-translate-title-id="player.toolbar-toc" title="Show table of contents">\r\n                <span class="player-icon player-icon-toc"></span>\r\n                <span class="player-button-text">TOC</span>\r\n            </label>\r\n            <div class="split"></div>\r\n        </div>\r\n\r\n        <div data-template-name="toc_layer" id="toc_layer" class="ui-helper-hidden">\r\n            <div id=\'toc_header\'>\r\n                <div id="toc_search_layer">\r\n                    <div class="search-bar">\r\n                        <input type="text" autocorrect="off" id="toc_search_input" placeholder="Search {design_type} ({count})" />\r\n                        <a href="#" class="input-clear player-icon player-icon-close"> </a>\r\n                        <span class="player-icon player-icon-search"></span>\r\n                    </div>\r\n                </div>                                \r\n            </div>            \r\n            <div id="toc_content">\r\n                <div id="toc_treeview_layer">\r\n                </div>\r\n            </div>\r\n            <div id="toc-toggle-design-type">\r\n                <ul class="ui-helper-reset ui-helper-horizontal-list">\r\n                    <li>\r\n                        <input id="toggle_screens" type="radio" name="opt_group_design_type" class="player-toggle-button" data-design-type-filter="screen" checked="checked" />\r\n                        <label for="toggle_screens">\r\n                            <span class="player-button-text">Screens ({count})</span>\r\n                        </label>\r\n                    </li>\r\n                    <li>\r\n                        <input id="toggle_screenparts" type="radio" name="opt_group_design_type" data-design-type-filter="screenpart" class="player-toggle-button" />\r\n                        <label for="toggle_screenparts">\r\n                            <span class="player-button-text">Screenparts ({count})</span>\r\n                        </label>\r\n                    </li>            \r\n                </ul>                \r\n            </div>            \r\n        </div>\r\n    </body>\r\n</html>'}),define("toc/module",["require","exports","config","utils","templates","projects","ui/opd","devices","loader","./toc","./toc_parser","./graph","./graph_builder","./graph_render","./graph_layout","css!../../css/toc/toc_layer.css","css!../../css/toc/explorers_layer.css","text!./module.html"],function(t,e,i,n,r,o,s,a,l,u,h,d,c,p,f){"use strict";function g(t){K=t,K.registerModuleService("toc",{getToc:function(){var t=K.project;if(t){var e=t.property("toc");if(e){var i=h.xaml.parse(e);return i&&(i.items=P(i.items),E(t,i)),i}}return null},isExplorerOpenChanged:function(){return y()},isExplorerOpen:function(){return j()},explorerEntrySelected:function(){return v()},openExplorer:function(t,e){return b(),F(t,e)},disableExplorerLabels:function(t){return"undefined"==typeof t?Z:void(Z=t)},closeExplorer:function(){W()}});var e=n.env.parseQueryString();i.EnableExplorer&&"1"===e.show_explorer&&(b(),F(t.screenPath,""))}function m(){var e=r.fromHtml(t("text!./module.html"),{translateStrings:!0});b(e),K.configChanged().subscribe(k),$("#toolbar_buttons .primary-buttons #toc_toolbar_button_container").prepend(e.apply("toc_toolbar_button")),$("#toolbar_layer").append(e.apply("toc_layer")),$("#toggle_toc").change(function(){var t=$("#toggle_toc").is(":checked");$("#toggle_toc_label").prop("title",t?n.locale.formatMessage("player.toolbar-toc-hide-tooltip","Hide table of contents"):n.locale.formatMessage("player.toolbar-toc-show-tooltip","Show table of contents")),K.config("toc_show",t)}).prop("checked",K.config("toc_show")===!0),$("#toggle_screenparts").on("change",C),$("#toggle_screens").on("change",C),x(),K.stateReached().subscribe(O),K.switchingToState().subscribe(O),O();var i=n.env.parseQueryString();"1"===i.open_toc&&K.config("toc_show",!0),a.isMobile()&&a.onOrientationChange().subscribe(function(){w()})}function v(){return X||(X=n.events.create())}function _(t){X&&X.trigger(t)}function y(){return G||(G=n.events.create())}function b(e){!J&&K&&(e=e||r.fromHtml(t("text!./module.html"),{translateStrings:!0}),J=!0,$("#content_layer").append(e.apply("explorers_layer")),$("#explorers_layer").on("webkitAnimationEnd msAnimationEnd animationend",function(t){var e=t.currentTarget;$(e).hasClass("fadeInLeft")?$(e).removeClass("ui-helper-hidden"):$(e).addClass("ui-helper-hidden")}))}function w(){a.isMobile()&&$('#toolbar_buttons input:not(#toggle_toc):not("#home"):not("#toggle_highlight")').prop("disabled",K.config("toc_show")),a.getOrientation()===a.Orientation.Portrait?a.getMobile()===a.Mobile.IPhone&&$("#home, #toggle_highlight").prop("disabled",!0):j()||$("#home, #toggle_highlight").prop("disabled",!1)}function x(){var t=this,e=$("#toc_search_layer"),i=$("#toc_search_input"),n=$(e).find("> .search-bar > .input-clear"),r=$(e).find("> .search-bar > .player-icon-search");$(i).on("change keydown keyup mouseup",function(t){0==$(t.currentTarget).val().length?($(n).hide(),$(r).show()):($(n).show(),$(r).hide()),C()}),$(n).hide().on("click",function(e){e.preventDefault(),$(t).hide(),$(i).val(""),$(i).focus(),$(i).trigger("change")})}function C(){D();var t=$("#toc_search_input").val().toLocaleLowerCase(),e=$("#toggle_screens").prop("checked"),i=$("#toggle_screenparts").prop("checked"),r=$("#toc_treeview_layer > .toc-tree"),o=$();e&&(o=o.add($(r).find(".screen"))),i&&(o=o.add($(r).find(".screenpart"))),$(r).removeClass("no-matches"),$(r).find(".toc-no-matches").remove(),$(r).find("tr").hide();var s=$(o).filter(function(){var e=$(this).find(".toc-label").text().toLocaleLowerCase();return e.indexOf(t)!=-1});s.length>0?$(s).show():($(r).addClass("no-matches"),$('<div class="toc-no-matches"/>').text(n.locale.formatMessage("table-of-contents.no-matches","No matches")).appendTo($(r))),T()}function T(){var t=$("#toc_search_input").val().toLocaleLowerCase(),e=$(Y).find(".screen").filter(function(){var e=$(this).find(".toc-label").text().toLocaleLowerCase();return e.indexOf(t)!=-1}).length;$("#toggle_screens + label > .player-button-text").text(n.locale.formatMessage("table-of-contents.screen-button",{count:e},"Screens ("+e+")")),$("#toggle_screens + label").prop("title",n.locale.formatMessage("table-of-contents.screen-button-tooltip","Only show screens"));var i=$(Y).find(".screenpart").filter(function(){var e=$(this).find(".toc-label").text().toLocaleLowerCase();return e.indexOf(t)!=-1}).length;$("#toggle_screenparts + label > .player-button-text").text(n.locale.formatMessage("table-of-contents.screenpart-button",{count:i},"Screenparts ("+i+")")),$("#toggle_screenparts + label").prop("title",n.locale.formatMessage("table-of-contents.screenpart-button-tooltip","Only show screenparts"))}function S(){return!$("#toc_layer").hasClass("ui-helper-hidden")}function k(t){"toc_show"===t.key&&(t.newValue?(M(),$("#toc_layer").removeClass("ui-helper-hidden")):$("#toc_layer").addClass("ui-helper-hidden"),w())}function P(t){return t?t.map(function(t){return"folder"===t.type?P(t.items):"screen"===t.type||"screenpart"===t.type?[t]:[]}).reduce(function(t,e){return t.concat(e)}):[]}function E(t,e){var i=u.toScreenPath(t.startScreen);"screen"!==e.type&&"screenpart"!==e.type&&(e.items.sort(function(t,e){var n=t.target&&t.target.screen===i,r=e.target&&e.target.screen===i;return n&&!r?-1:r&&!n?1:t.label<e.label?-1:t.label===e.label?0:1}),e.items.forEach(function(e){e.items&&e.items.length>0&&E(t,e)}))}function I(){return $("#toc-toggle-design-type").find("input[type=radio]:checked").attr("data-design-type-filter")}function D(){var t=I();$("#toc_search_input").attr("placeholder","screen"===t?n.locale.formatMessage("table-of-contents.search-screen-placeholder",{kind:t},"Search "+t+"s..."):n.locale.formatMessage("table-of-contents.search-screenpart-placeholder",{kind:t},"Search "+t+"s..."))}function A(){var t=$(Y).find(".screen").length;$("#toggle_screens + label > .player-button-text").text(n.locale.formatMessage("table-of-contents.screen-button",{count:t},"Screens ("+t+")"));var e=$(Y).find(".screenpart").length;if($("#toggle_screenparts + label > .player-button-text").text(n.locale.formatMessage("table-of-contents.screenpart-button",{count:e},"Screenparts ("+e+")")),0===t||0===e)t>0?$("#toggle_screens").prop("checked",!0):e>0&&$("#toggle_screenparts").prop("checked",!0),$("#toc_layer").addClass("ui-state-no-toggle-design-displayed");else{var i=K.project.startScreen,r=i.indexOf(".screenpart")!==-1;r&&($("#toggle_screens").prop("checked",!1),$("#toggle_screenparts").prop("checked",!0))}}function O(){S()&&M()}function M(){if(Q!==K.projectPath){Y=null,Q=K.projectPath;var t=K.project;if(t){var e=t.property("toc"),n=e?h.xaml.parse(t.property("toc")):null;n&&(n.items=P(n.items),E(t,n),Y=u.buildToc(n,$("#toc_treeview_layer"),function(t){return K.buildScreenUri(t)},function(t,e){return V(K.projectPath,t,e)}),$(Y).find('.design-file[data-screen="'+u.toScreenPath(t.startScreen)+'"]').addClass("toc-entry-home"),A(),C(),$(Y).on("click","toc-tree:not(.no-matches) .project, toc-tree:not(.no-matches) .folder",function(t){t.stopPropagation(),$(t.currentTarget).find(".design-file, .folder").toggle()}),$(Y).on("click",".design-file",function(t){return t.stopPropagation(),W(),L(t.currentTarget),!1}),i.EnableExplorer?$(Y).on("click",".design-file .player-toggle-button.toc-open-explorer + label",function(t){t.stopPropagation();var e=$(t.currentTarget).prev(),i=$(e).is(":checked");return i?W():N($(t.currentTarget).closest(".design-file")[0]),!1}):$(Y).find(".toc-open-explorer").hide())}}if(Y)try{var r=K.currentScreenPath;if(r){var o=$(Y).find('.design-file[data-screen="'+u.uriToScreenPath(r)+'"]');if(o.hasClass("selected"))return;$(Y).find(".design-file").removeClass("selected");var s,a=$("#toc_content"),l=$(o).position().top,d=$(o).outerHeight(),c=$(a).scrollTop(),p=$(a).height();$(o).addClass("selected");var f=c<l&&l+d<c+p;if(!f){if(c+p/2>l){var g=l-c;s=c+g}else{var g=c+p-(l+d);s=c-g}$(a).animate({scrollTop:s},{duration:"slow"})}W()}else $(Y).find(".design-file").removeClass("selected"),W()}catch(t){}else $("#toggle_toc + label").hide()}function L(t){var e=$(t);return R(e.attr("data-screen"),e.attr("data-state"))}function R(t,e){return a.isMobile()&&K.hideToolbar(!0),K.openScreen(t,e)}function N(t){if(t){var e=t.getAttribute("data-screen"),i=$(t).find("td > div > a.toc-label").text();F(e,i)}}function F(t,e){var i=u.uriToScreenPath(t),n=u.uriToScreenPath(K.currentScreenPath);return n&&i===n?B(t,e):R(t).done(function(i){return B(t,e)})}function B(t,e){return l.IndigoDocumentLoader.fromPath(K.projectPath,t,{shouldYield:!1,customReader:null}).done(function(i){if(i){var n=c.build(i);if(n){var r=p.layout(n);Z&&H(r);var o=p.compose(r),a=K.lastSwitchedToState||K.lastAppliedState;a&&$(o).find('.state-target[data-state="'+a.id+'"]').addClass("state-target-current"),$(o).on("mouseup tap",".ix-target",function(t){0===t.button&&(t.stopPropagation(),q(t.currentTarget))}),$(o).find(".ix-target.state-target").each(function(e,i){var n=V(K.projectPath,t,$(i).attr("data-state"));$(i).find(".target-thumbnail").attr("src",n)}),$(o).find(".interactions-explorer-title > span").text(e),$("#prototype").addClass("ui-helper-hidden"),$("#explorers_layer").removeClass("ui-helper-hidden"),$("#interactions_explorer_layer").empty().append(o),s.create(o.querySelector(".interactions-explorer-viewport"),o.querySelector(".interactions-explorer-content"),o.querySelector(".interactions-explorer-opd"),r.filter(function(t){return t.kind===f.VisualKind.Target})),z(t)}}})}function H(t){for(var e=0;e<t.length;e++)if(void 0!==t[e].node())switch(t[e].node().kind){case d.TargetKind.Back:case d.TargetKind.Navigate:case d.TargetKind.OpenUrl:case d.TargetKind.SwitchTo:t[e].disabled(!0)}}function V(t,e,r){if(i.ThumbsPath){var s=n.path.combine(i.ThumbsPath,e,r+".png");return i.AuthorizationQueryString?s+"?"+i.AuthorizationQueryString:s}return o.getProjectResourcePath(t,n.path.combine("thumbs",e,r+".png"))}function j(){var t=$("#explorers_layer");return t.length>0&&!t.hasClass("ui-helper-hidden")&&!t.hasClass("fadeOutLeft")}function z(t){$("#prototype").addClass("ui-helper-hidden"),$("#explorers_layer").removeClass("ui-helper-hidden").addClass("fadeInLeft").removeClass("fadeOutLeft"),U();var e=$(Y).find('.design-file[data-screen="'+t+'"] .player-toggle-button.toc-open-explorer');e.length&&(e.prop("checked",!0),e.find("+ label").text("< "+n.locale.formatMessage("table-of-contents.hide-state","Hide states"))),G&&G.trigger(!0)}function W(){$("#prototype").removeClass("ui-helper-hidden"),$("#explorers_layer").removeClass("fadeInLeft").addClass("fadeOutLeft"),U(),G&&G.trigger(!1)}function U(){var t=$(Y).find(".design-file .player-toggle-button.toc-open-explorer:checked");t.length&&(t.prop("checked",!1),t.find("+ label").text(n.locale.formatMessage("table-of-contents.show-state","Show states")+" >"))}function q(t){var e=$(t);if(e.hasClass("state-target")){var i=e.attr("data-state"),n={stateId:i,handled:!1};_(n),n.handled||(W(),K.openState(i))}else if(e.hasClass("switchto-target")){var i=e.attr("data-state"),r={stateId:i,handled:!1};_(r),r.handled||(W(),K.openState(i))}else if(e.hasClass("openurl-target")){var o={handled:!1};_(o),o.handled||window.open(e.attr("data-url"),"_blank")}else if(e.hasClass("navigate-target")){var s=e.attr("data-screen"),i=e.attr("data-state"),a={screenPath:s,stateId:i,handled:!1};_(a),a.handled||(W(),K.openScreen(s,i))}}Object.defineProperty(e,"__esModule",{value:!0});var G,X,K=null,Y=null,Q=null,J=!1,Z=!1;e.initialize=g,e.initializeToolbar=m}),define("css!responsive/../../css/responsive/bootstrap",[],function(){}),define("responsive/bootstrap",["require","exports","utils","adapters","core/controls","core/containers","projects","css!../../css/responsive/bootstrap.css"],function(t,e,i,n,r,o,s){"use strict";function a(t){return-(t/2)+"px"}Object.defineProperty(e,"__esModule",{value:!0});var l=n.children,u=n.css,h=n.cssPadding,d=n.property,c=n.addClass,p=n.mixin,f=n.updateClass,g=function(t,e,i){var n;return n=e?"col-"+t+"-"+e+"-":"col-"+t+" col-"+t+"-",i=void 0===i?-1:i,d().onChange(function(t,e){t&&t!==i&&$(this.target).removeClass(n+t),e&&e!==i&&$(this.target).addClass(n+e)})};e.BootstrapElement=n.create(r.ViewElement,{isAbsolute:!1,bootstrapContainer_horizontalAlignment:c({defaultClass:"horiz-stretch"}).prefix("horiz-").asLowerCase(),bootstrapContainer_verticalAlignment:c().prefix("vert-").asLowerCase(),bootstrapContainer_spanXs:g("xs"),bootstrapContainer_spanSm:g("sm"),bootstrapContainer_spanMd:g("md"),bootstrapContainer_spanLg:g("lg"),bootstrapContainer_offsetXs:g("xs","off"),bootstrapContainer_offsetSm:g("sm","off"),bootstrapContainer_offsetMd:g("md","off"),bootstrapContainer_offsetLg:g("lg","off"),bootstrapContainer_visibilityXs:g("xs","vis").asLowerCase(),bootstrapContainer_visibilitySm:g("sm","vis").asLowerCase(),bootstrapContainer_visibilityMd:g("md","vis").asLowerCase(),bootstrapContainer_visibilityLg:g("lg","vis").asLowerCase(),bootstrapContainer_margin:h()}),e.BootstrapCell=n.create([n.Wrapper,e.BootstrapElement],'<div class="fluid-cell horiz-stretch"></div>',{}),e.Column=n.create([r.Control,e.BootstrapElement],'<div class="fluid-cell horiz-stretch"><div></div></div>',{initialize:function(){this.projectPath=null},panel_bounds:p(n.create(r.Bounds,{height:r.Bounds.height.over("> div")})),background:u("> div","background-color").asRgba(),bootstrapContainer_margin:d({defaultValue:i.Thickness.zero()}).onChange(function(t,e){var i=this.getGutter();this.setGutterProperties(i,e)}).asThickness(),children:l("> div").wrap(e.BootstrapCell),backgroundImage:d().onChange(function(t,e){this.updateBackgroundImage(this.projectPath,e)}),backgroundImageStretch:c("> div").asLowerCase(),updateGutter:function(t){this.setGutterProperties(t,this.bootstrapContainer_margin())},getGutter:function(){var t=this.parent;return t?t.getGutter():30},setGutterProperties:function(t,e){var i=t/2;this.getTarget$().css({"padding-left":e.left,"padding-top":e.top,"padding-right":e.right,"padding-bottom":e.bottom}),this.getTarget$("> div").css({"padding-left":Math.max(0,i-e.left),"padding-right":Math.max(0,i-e.right)})},updateBackgroundImage:function(t,e){null!=t&&this.getTarget$("> div").css("background-image",e?'url("'+s.getProjectResourcePath(t,i.path.asLowerCaseUri(e))+'")':"")},onAttach:function(t){this.projectPath!==t.baseUrl()&&(this.projectPath=t.baseUrl(),this.updateBackgroundImage(this.projectPath,this.backgroundImage()))}}),e.Row=n.create([r.Control,e.BootstrapElement],'<div class="row"></div>',{background:u("background-color").asRgba(),padding:r.Border.padding,children:l(),updateGutter:function(t){for(var e=this.children(),i=0;i<e.length;i++)e[i].updateGutter(t)},getGutter:function(){var t=this.parent;return t?t.gutter():30}}),e.BootstrapContainer=n.create(r.Control,"<div></div>",{isAbsolute:!1,padding:r.Border.padding,gutter:d({defaultValue:30}).onChange(function(t,e){t!==e&&this.updateChildrenGutter(e)}).and(f("> .row","margin-left").and(f("> .row","margin-right")).convert(a).ifAttached()).asInt(),children:l(),onAttach:function(){var t=this.gutter();30!==t&&this.updateChildrenGutter(t)},updateChildrenGutter:function(t){for(var e=this.children(),i=0;i<e.length;i++)e[i].updateGutter(t)}}),e.BootstrapBox=n.create(o.ContainerBox,"<div></div>"),n.DefaultCatalog.addCatalog("",e)}),define("css!responsive/../../css/responsive/toolbar",[],function(){}),define("text!responsive/toolbar.html",[],function(){return'<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title></title>\r\n</head>\r\n    <body>\r\n        <div data-template-name="responsive_toolbox" id="breakpoint-picker-button" class="player-hover-button">\r\n            <span class="breakpoint-picker-option player-icon"></span>            \r\n            <div class="breakpoint-picker" style="display: none;">\r\n                <div id="breakpoint-picker-menu">\r\n                    <input id="xs_breakpoint_button" type="button" class="player-toggle-button" />\r\n                    <label for="xs_breakpoint_button" data-translate-title-id="responsive-toolbox.extra-small" title="Extra Small (Phone)">\r\n                        <span class="player-icon player-icon-phone"></span>\r\n                        <span class="player-button-text" data-translate-id="responsive-toolbox.extra-small-label">XS - Phone</span>\r\n                    </label>\r\n                    <input id="sm_breakpoint_button" type="button" class="player-toggle-button" />\r\n                    <label for="sm_breakpoint_button" data-translate-title-id="responsive-toolbox.small" title="Small (Tablet)">\r\n                        <span class="player-icon player-icon-tablet-landscape"></span>\r\n                        <span class="player-button-text" data-translate-id="responsive-toolbox.small-label">SM - Tablet</span>\r\n                    </label>\r\n                    <input id="md_breakpoint_button" type="button" class="player-toggle-button" />\r\n                    <label for="md_breakpoint_button" data-translate-title-id="responsive-toolbox.medium" title="Medium (Desktop)">\r\n                        <span class="player-icon player-icon-desktop"></span>\r\n                        <span class="player-button-text" data-translate-id="responsive-toolbox.medium-label">MD - Desktop</span>\r\n                    </label>\r\n                    <input id="lg_breakpoint_button" type="button" class="player-toggle-button" />\r\n                    <label for="lg_breakpoint_button" data-translate-title-id="responsive-toolbox.large" title="LG - (Lrg. Desktop)">\r\n                        <span class="player-icon player-icon-monitor"></span>\r\n                        <span class="player-button-text" data-translate-id="responsive-toolbox.large-label">LG - Lrg. Desktop</span>\r\n                    </label>\r\n                    <input id="fit_breakpoint_button" type="button" class="player-toggle-button" />\r\n                    <label for="fit_breakpoint_button" data-translate-title-id="responsive-toolbox.fit" title="Fit to Browser">\r\n                        <span class="player-icon player-icon-move "></span>\r\n                        <span class="player-button-text" data-translate-id="responsive-toolbox.fit-label">Fit to Browser</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>                  \r\n    </body>\r\n</html>\r\n'}),define("responsive/toolbar",["require","exports","utils","templates","devices","config","css!../../css/responsive/toolbar.css","text!./toolbar.html"],function(t,e,i,n,r,o){"use strict";function s(t){S=t,k=n.fromHtml(E,{translateStrings:!0}),r.isMobile()&&c("fit");var e=o.QueryOptions.bp;e&&I.indexOf(e)!==-1&&c(e),S.sizeChanged().subscribe(g),S.switchingToState().subscribe(g),S.openingScreen().subscribe(function(){return O=null}),g(),S.registerModuleService("responsive",{getIsResponsive:h,getCurrentBreakpoint:d,setUserBreakpoint:c,breakpointUpdated:l})}function a(){r.isMobile()||(L=!0,$("#toolbar_buttons .primary-buttons #breakpoint_picker_button_container").append(k.apply("responsive_toolbox")),$("#breakpoint-picker-button").hover(p,f),$("#xs_breakpoint_button").click(function(){c("xs")}),$("#sm_breakpoint_button").click(function(){c("sm")}),$("#md_breakpoint_button").click(function(){c("md")}),$("#lg_breakpoint_button").click(function(){c("lg")}),$("#fit_breakpoint_button").click(function(){c("fit")}),$(window).keydown(function(t){var e=t.which||t.keyCode;if(t.ctrlKey||t.metaKey){var i;switch(e){case 49:i="xs";break;case 50:i="sm";break;case 51:i="md";break;case 52:i="lg";break;case 53:i="fit"}i&&(c(i),t.preventDefault(),t.stopImmediatePropagation())}}))}function l(){return P||(P=i.events.create())}function u(){P&&P.trigger(x)}function h(){return A}function d(){return x}function c(t){D||(D=!0,$("html").addClass("preset-bpoint")),m(t)}function p(){L&&($("#breakpoint-picker-button").hasClass("player-button-disabled")||$("#breakpoint-picker-button .breakpoint-picker").stop().fadeIn({duration:150}))}function f(){L&&$("#breakpoint-picker-button .breakpoint-picker").stop().fadeOut({duration:100})}function g(){var t=S.currentScreenPath;O!==t&&(O=t,T=null);var e=null!=b();e!==A&&(e?$("html").addClass("responsive"):$("html").removeClass("responsive"),A=e),v(),_()}function m(t){var e=t+"-bpoint",i=$("html");i.hasClass(e)||(i.removeClass(C||(C=I.map(function(t){return t+"-bpoint"}).join(" "))),i.addClass(e),_()),x=t,u()}function v(){if(A&&!D){var t=y();if(t){var e=parseInt(t.style.width);if(e>0){var i;i=e<768?"xs":e<992?"sm":e<1200?"md":"lg",m(i)}}}}function _(){var t=y();if(null!=t){var e;e="fit"===x&&r.isMobile()?window.innerWidth:t.getBoundingClientRect().width;var i=w(e),n=$("#prototype");T!==i&&(n.removeClass(M.join(" ")),i&&n.addClass(i),T=i)}}function y(){return document.querySelector("#prototype > .content > .layer > .content-viewbox")}function b(){return document.querySelector("#prototype.browser > .content > .layer > .content-viewbox > .content-layer > .bootstrapBox")}function w(t){var e=[M[0]];return t>=1200&&e.push(M[3]),t>=992&&e.push(M[2]),t>=768&&e.push(M[1]),e.join(" ")}Object.defineProperty(e,"__esModule",{value:!0});var x,C,T,S,k,P,E=t("text!./toolbar.html"),I=["xs","sm","md","lg","fit"],D=!1,A=!1,O=null,M=["size-xs","size-sm","size-md","size-lg"],L=!1;e.initialize=s,e.initializeToolbar=a}),define("responsive/module",["require","exports","./bootstrap","./toolbar"],function(t,e,i,n){"use strict";function r(t){n.initialize(t)}function o(){n.initializeToolbar()}Object.defineProperty(e,"__esModule",{value:!0}),e.modules=[n,i],e.initialize=r,e.initializeToolbar=o});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();define("shell",["require","exports","utils","config","player","loader","layout","projects","storage","devices","errors","templates","jquery","hammer","modernizr","css","text","core/pack","flat/pack","ios/pack","ios7/pack","jquery_ui_touch_punch","animation","timeline","easings","text!shell.html","toc/module","responsive/module"],function(t,e,i,n,r,o,s,a,l,u,h,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=d.fromHtml(t("text!shell.html"),{translateStrings:!0}),p=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(i.ErrorCode);p.OK=new p(0),p.ProjectCannotBeFound=new p(1),e.ErrorCode=p;var f=function(){function e(e,i){var r=this;if(this._config=$.extend(this.defaultConfig(),e||{}),i=i||{},this._player=null,this._project=null,this._projectPath=null,this._defaultStylesheetPath=null,this._moduleServices={},this._initialState=null,this._sizeChanged=null,this._runningInteraction=null,this._stateReached=null,this._openingScreen=null,this._projectLoaded=null,this._switchingToState=null,this._performedInteractions=null,this._toolbarLoaded=!1,this._firstRun=!0,n.CreateShell){var o=document.getElementById("toolbar_content");o&&!document.getElementById("toolbar_buttons")&&o.appendChild(c.apply("toolbar_buttons"));var s=document.getElementById("shell_layer");s&&!document.getElementById("invite_layer")&&(s.appendChild(c.apply("invite_layer")),s.appendChild(c.apply("error_layer")),s.appendChild(c.apply("orientation_warning")))}this._toolbarLayer=void 0===i.toolbarLayer?document.getElementById("toolbar_layer"):i.toolbarLayer,this._toolbarToggle=void 0===i.toolbarToggle?document.getElementById("toolbar_toggle"):i.toolbarToggle,this._toolbarToggleMobile=document.getElementById("toolbar_toggle_mobile"),this._toolbarContent=void 0===i.toolbarContent?document.getElementById("toolbar_content"):i.toolbarContent,this._inviteLayer=void 0===i.inviteLayer?document.getElementById("invite_layer"):i.inviteLayer,this._errorLayer=void 0===i.errorLayer?document.getElementById("error_layer"):i.errorLayer,this._contentLayer=i.contentLayer||document.getElementById("content_layer"),this._prototype=i.prototypeContainer||document.getElementById("prototype"),this._inviteOnLoad=$(".invite-on-load"),this._pendingModuleLoad=0,this._loadingScreen=!1,this._loading=!1,this.loadPrefs();var a=$("html");n.EnableOrientationCheck?a.addClass("orientation-check"):a.removeClass("orientation-check"),n.UseFullScreen&&(a.addClass("fullscreen"),n.CenterFullScreen&&a.addClass("fullscreen-center")),this._loadingModules=!1,n.Modules.length>0&&(this._loadingModules=!0,t(n.Modules,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{for(var i=0;i<t.length;i++)t[i].initialize(r)}finally{r._loadingModules=!1,r.refreshLoading()}}))}return Object.defineProperty(e.prototype,"executingInteractions",{get:function(){return this._isExecutingInteractions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightInteractions",{get:function(){return this._config.highlightInteractions},set:function(t){this.config("highlightInteractions",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAnnotations",{get:function(){return!u.isMobile()&&this._config.showAnnotations},set:function(t){this.config("showAnnotations",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showChrome",{get:function(){return this._config.showChrome},set:function(t){this.config("showChrome",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAnnotationLayersBounds",{get:function(){return this._player?this._player.screen.maxAnnotationLayersBounds:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this._player?this._player.screen:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastAppliedState",{get:function(){return this._player?this._player.lastAppliedState:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSwitchedToState",{get:function(){return this.screen?this.screen.lastSwitchedToState:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"project",{get:function(){return this._project},
enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projectPath",{get:function(){return this._player?this._player.projectPath:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenPath",{get:function(){return this._player?this._player.screenPath:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentScreenPath",{get:function(){return this._player?this._player.currentScreenPath:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openingAnimations",{get:function(){return this._config.openingAnimations},set:function(t){this._config.openingAnimations=t,this._player&&(this._player.openingAnimations=this._config.openingAnimations)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transtionsAtEndOfTimeline",{get:function(){return this._config.transitionsAtEndOfTimeline},set:function(t){this._config.transitionsAtEndOfTimeline=t,this._player&&(this._player.transtionsAtEndOfTimeline=this._config.transitionsAtEndOfTimeline)},enumerable:!0,configurable:!0}),e.prototype.sizeChanged=function(){return this._sizeChanged||(this._sizeChanged=i.events.create())},e.prototype.runningInteraction=function(){return this._runningInteraction||(this._runningInteraction=i.events.create())},e.prototype.stateReached=function(){return this._stateReached||(this._stateReached=i.events.create())},e.prototype.switchingToState=function(){return this._switchingToState||(this._switchingToState=i.events.create())},e.prototype.configChanged=function(){return this._configChanged||(this._configChanged=i.events.create())},e.prototype.openingScreen=function(){return this._openingScreen||(this._openingScreen=i.events.create())},e.prototype.projectLoaded=function(){return this._projectLoaded||(this._projectLoaded=i.events.create())},e.prototype.loadingPrototype=function(){return this._loadingPrototype||(this._loadingPrototype=i.events.create())},e.prototype.loadedPrototype=function(){return this._loadedPrototype||(this._loadedPrototype=i.events.create())},e.prototype.failed=function(){return this._failed||(this._failed=i.events.create())},e.prototype.playerRootConfigured=function(){return this._playerRootConfigured||(this._playerRootConfigured=i.events.create())},e.prototype.buildScreenUri=function(t,e){return n.BuildScreenUri(t,e||this.projectPath)},e.prototype.openState=function(t){if(null===this._player)throw new i.InvalidOperationException("No screen has been loaded");return this._player.openState(t)},e.prototype.openScreen=function(t,e){var n=this;if(null===this._player)throw new i.InvalidOperationException("No screen has been loaded");return this.notifyLoadingScreen(),s.deferredToNext().then(function(){return n._player.openScreen(t,e).always(function(){return n.notifyLoadedScreen()})})},e.prototype.run=function(t,e,r,o){var s=this,u=null==t?n.ProjectPath:t;this._projectPath=a.hasProjectExtension(u)?i.path.getFolder(u):u,this._defaultStylesheetPath=o,this._initialScreen=null==e?n.InitialScreen:e,this._initialState=null==r?n.InitialState:r,this.hideError();var h=this._config.showToolbar===!0||this._config.showToolbar!==!1&&this._prefs.invitesShown!==!0;return u?(this.preLoadActions(),this.hookPostLoadActions(a.Project.fromUrl(u).then(function(t){return n.PreLoadResources?i.defer.asJQuery(t.preloadResources(s._projectPath).then(function(){return t},function(e){return t})):i.defer.donePromise(t)}).then(function(t){return s._project=t,s.applyProjectShellConfiguration(),s.notifyProjectLoaded(),s.createPlayerFromUrl(s._initialScreen||i.path.asLowerCaseUri(t.startScreen),s._projectPath,s._project.defaultStylesheetPath),s._player.run(s._initialState)},function(t){var e=t.code==l.ErrorCode.NotFound?new i.Exception("ShellException","Project cannot be loaded",t,p.ProjectCannotBeFound):t;return s.onError(e),e}),h)):this._initialScreen?(this.createPlayerFromUrl(this._initialScreen,this._projectPath,o),this.restartCurrentScreen(h)):void this.showToolbar()},e.prototype.openCurrentScreen=function(){return this._player?this._player.openCurrentScreen():i.defer.donePromise(null)},e.prototype.clearScreenCache=function(){o.IndigoDocumentLoader.clearCache()},e.prototype.config=function(t,e){if(void 0===e)return this._config[t];var i=this._config[t];return i!==e&&(this._config[t]=e,this._player&&void 0!==this._player[t]&&(this._player[t]=e),this.notifyConfigChanged({key:t,newValue:e,oldValue:i})),this},e.prototype.toggleToolbar=function(){this.isToolbarVisible()?this.hideToolbar(!0):this.showToolbar()},e.prototype.showToolbar=function(){this._toolbarLayer&&(this._toolbarLoaded||this.setupToolbar(),this._toolbarLayer.style.removeProperty("display"),$(this._toolbarLayer).removeClass("ui-helper-hidden"),this._toolbarToggle.style.removeProperty("display"),$(this._toolbarToggle).removeClass("toolbar-toggle-hidden"))},e.prototype.hideToolbar=function(t){this.hideInvites(t),this._toolbarLayer&&(t||(this._toolbarLayer.style.display="none",this._toolbarToggle.style.display="none"),$(this._toolbarLayer).addClass("ui-helper-hidden"),$(this._toolbarToggle).addClass("toolbar-toggle-hidden"))},e.prototype.restart=function(t){this.resetNotices(),t===!0||t!==!1&&n.ReloadScreenWhenRestarting?(this.clearScreenCache(),this.run(this._projectPath,this._initialScreen,this._initialState,this._defaultStylesheetPath)):this.restartCurrentScreen()},e.prototype.goBack=function(){this._player.goBack()},e.prototype.resetNotices=function(){var t=$("#notice_highlight");t.removeClass("notice-flash-off"),t.removeClass("notice-flash-on");var e=$("#notice_notes");e.removeClass("notice-flash-off"),e.removeClass("notice-flash-on")},e.prototype.goHome=function(){return this.project?this.openScreen(i.path.asLowerCaseUri(this.project.startScreen)):null},e.prototype.getModuleService=function(t){return this._moduleServices[t]},e.prototype.registerModuleService=function(t,e){if(!e)throw new i.InvalidOperationException("Must provide a service to register.");if(this._moduleServices[t])throw new i.InvalidOperationException("Service for "+t+" already registered.");this._moduleServices[t]=e},e.prototype.hasElement=function(t){var e=this.screen;return!!e&&!!e.find(t)},e.prototype.findDOMNode=function(t){var e=this.screen;if(e){var i=e.find(t);if(i)return i.target}return null},e.prototype.recordInteractions=function(){this._performedInteractions=[]},e.prototype.executeInteractions=function(t,e){var i=this,n=this._player;return n?(this._isExecutingInteractions=!0,n.executeInteractions(t,e).always(function(){i._isExecutingInteractions=!1})):$.Deferred().reject()},e.prototype.replayInteractions=function(t){var e=this;this._performedInteractions&&this.goHome().then(function(){var i=e._performedInteractions.slice(0);e._performedInteractions=null,e.executeInteractions(i.slice(0,t)),e._performedInteractions=i})},e.prototype.recordInteraction=function(t){this._performedInteractions&&t.triggerId&&t.indigoEventType&&this._performedInteractions.push(t)},e.prototype.restartCurrentScreen=function(t){this.hideError();var e=this.isToolbarVisible()||t===!0;return this.preLoadActions(),this.hookPostLoadActions(this._player.run(this._initialState),e)},e.prototype.preLoadActions=function(){this.notifyLoadingScreen(),this.hideToolbar(!1)},e.prototype.hookPostLoadActions=function(t,e){var i=this;return t.always(function(){return i.notifyLoadedScreen()}).done(function(){e&&i.showToolbar(),i._firstRun&&(i._firstRun=!1,i.setupInvites(),i.setupOrientation())})},e.prototype.notifyRunningInteraction=function(t){this.executingInteractions||(this.recordInteraction(t),this._runningInteraction&&this._runningInteraction.trigger(t))},e.prototype.notifyStateReached=function(t){this._stateReached&&this._stateReached.trigger(t)},e.prototype.notifySwitchingToState=function(t){this._switchingToState&&this._switchingToState.trigger(t)},e.prototype.notifySizeChanged=function(){this._sizeChanged&&this._sizeChanged.trigger(this)},e.prototype.notifyConfigChanged=function(t){this._configChanged&&this._configChanged.trigger(t)},e.prototype.notifyProjectLoaded=function(){null!=this._projectLoaded&&this._projectLoaded.trigger(this)},e.prototype.notifyLoadingScreen=function(){null!=this._openingScreen&&this._openingScreen.trigger(null),this._loadingScreen=!0,this.hideError(),this.refreshLoading()},e.prototype.notifyLoadedScreen=function(){this._loadingScreen=!1,this.refreshLoading()},e.prototype.applyProjectShellConfiguration=function(){if(this._project){var t=this._project.options;void 0===n.ShowNotes&&void 0!==t.showAnnotations&&(this.showAnnotations=t.showAnnotations),void 0===n.ShowHighlight&&void 0!==t.highlightInteractions&&(this.highlightInteractions=t.highlightInteractions)}},e.prototype.refreshLoading=function(){var t=this._loadingScreen||this._pendingModuleLoad>0||this._loadingModules;t!==this._loading&&(this._loading=t,this._loading?this._loadingPrototype&&this._loadingPrototype.trigger(this):this._loadedPrototype&&this._loadedPrototype.trigger(this),this._loading&&this._config.showLoadingIndicator?this.showLoading():this.hideLoading())},e.prototype.showLoading=function(){this._contentLayer&&$(this._contentLayer).scrollLeft(0).scrollTop(0).addClass("ui-helper-loading")},e.prototype.hideLoading=function(){this._contentLayer&&$(this._contentLayer).removeClass("ui-helper-loading")},e.prototype.setupToolbar=function(){var e=this;this._toolbarLoaded=!0,$("#restart").click(function(){e.restart()}),$("#home").click(function(){e.goHome()});var r=this._toolbarToggle;r&&(this._config.showToolbarToggle?$(r).on("click",function(){e.toggleToolbar()}).on("mouseover",function(){$(r).fadeIn(500)}):$(r).addClass("ui-helper-hidden"));var o=this._toolbarToggleMobile;o&&$(o).on("click",function(){e.toggleToolbar()}),$("#toggle_highlight").prop("checked",this._config.highlightInteractions).change(function(){e.highlightInteractions=$("#toggle_highlight").is(":checked");var t=$("#notice_highlight");e.highlightInteractions?t.removeClass("notice-flash-off").addClass("notice-flash-on").html(i.locale.formatMessage("highlight-interactions-toggle.message-on","Highlighting for interactive\nelements is ON")):t.removeClass("notice-flash-on").addClass("notice-flash-off").html(i.locale.formatMessage("highlight-interactions-toggle.message-off","Highlighting for interactive\nelements is OFF")),$("#toggle_highlight_label").attr("title",e.highlightInteractions?i.locale.formatMessage("highlight-interactions-toggle.hide","Turn OFF interaction highlight"):i.locale.formatMessage("highlight-interactions-toggle.show","Turn ON interaction highlight"))}),$("#toggle_highlight_label").attr("title",this._config.highlightInteractions?i.locale.formatMessage("highlight-interactions-toggle.hide","Turn OFF interaction highlight"):i.locale.formatMessage("highlight-interactions-toggle.show","Turn ON interaction highlight")),$("#toggle_notes").prop("checked",this._config.showAnnotations).change(function(){e.showAnnotations=$("#toggle_notes").is(":checked");var t=$("#notice_notes");e.showAnnotations?t.removeClass("notice-flash-off").addClass("notice-flash-on").html(i.locale.formatMessage("annotations-toggle.message-on","Design annotations\nare turned ON")):t.removeClass("notice-flash-on").addClass("notice-flash-off").html(i.locale.formatMessage("annotations-toggle.message-off","Design annotations\nare turned OFF")),e.highlightInteractions=$("#toggle_highlight").is(":checked"),$("#toggle_notes_label").attr("title",e.showAnnotations?i.locale.formatMessage("annotations-toggle.hide","Turn OFF design annotations"):i.locale.formatMessage("annotations-toggle.show","Turn ON design annotations"))}),$("#toggle_notes_label").attr("title",this._config.showAnnotations?i.locale.formatMessage("annotations-toggle.hide","Turn OFF design annotations"):i.locale.formatMessage("annotations-toggle.show","Turn ON design annotations"));for(var s=0;s<n.Modules.length;s++)t([n.Modules[s]],function(t){return t.initializeToolbar()});if(n.OnDemandModules)for(var s=0;s<n.OnDemandModules.length;s++)this._pendingModuleLoad++,this.refreshLoading(),t([n.OnDemandModules[s]+"/module"],function(t){return e.moduleLoaded(t)})},e.prototype.moduleLoaded=function(t){t.initialize(this),this._pendingModuleLoad--,this.refreshLoading()},e.prototype.isToolbarVisible=function(){return null!==this._toolbarLayer&&!$(this._toolbarLayer).hasClass("ui-helper-hidden")},e.prototype.pausePlayer=function(){$("body").on("touchstart",null,this.preventDefaults),$("html").addClass("disabled"),this._player&&this._player.pause()},e.prototype.resumePlayer=function(){$("body").off("touchstart",null,this.preventDefaults),$("html").removeClass("disabled"),this._player&&this.isValidOrientation()&&!this.isInvitesVisible()&&this._player.play()},e.prototype.preventDefaults=function(t){t.preventDefault()},e.prototype.setupOrientation=function(){var t=this;this.isValidOrientation()||this.pausePlayer(),u.onOrientationChange().subscribe(function(){t.isValidOrientation()?t.resumePlayer():t.pausePlayer()})},e.prototype.isValidOrientation=function(){var t=$("html");return!t.hasClass("orientation-check")||!(t.hasClass("portrait")&&t.hasClass("req-landscape")||t.hasClass("landscape")&&t.hasClass("req-portrait"))},e.prototype.setupInvites=function(){var t=this;if(u.isMobile()&&this._config.showToolbar!==!1){var e=0;$("body").on("touchstart",null,function(i){var n=(new Date).getTime();2===i.originalEvent.touches.length&&n-e>250&&(e=n,t.toggleToolbar())})}return this.showInvites()},e.prototype.isInvitesVisible=function(){return this._inviteOnLoad.is(":visible")},e.prototype.showInvites=function(){if(this._config.showInvites===!1)return!1;if(this._config.showInvites!==!0&&this._prefs.invitesShown)return!1;if(!this._inviteLayer)return!1;var t=this._config.showInvites===!0?"block":null;this._inviteLayer.style.display="block",this._inviteOnLoad.each(function(){this.style.display=t});for(var e=!1,i=0;i<this._inviteOnLoad.length;i++)if("none"!==this._inviteOnLoad.css("display")){e=!0;break}return e?(this._prefs.invitesShown=!0,this.savePrefs(),u.isMobile()?$("body").on("touchstart",null,this,this.onMobileInviteOk):$("body").on("click",null,this,this.onDesktopInviteOk),this.pausePlayer(),TweenLite.fromTo(this._inviteOnLoad,.45,{opacity:0},{opacity:1,ease:Quad.easeInOut,delay:.1})):this.hideInvites(!1),!0},e.prototype.onDesktopInviteOk=function(t){var e=t.data;$("body").off("click",null,e.onDesktopInviteOk),e.onInviteOk()},e.prototype.onMobileInviteOk=function(t){var e=t.data;2===t.originalEvent.touches.length&&e.isValidOrientation()&&($("body").off("touchstart",null,e.onMobileInviteOk),e.onInviteOk())},e.prototype.onInviteOk=function(){var t=this;this.hideInvites(!0),this.hideToolbar(!0),setTimeout(function(){return t.resumePlayer()},550)},e.prototype.hideInvites=function(t){var e=this;this._inviteLayer&&(t?TweenLite.to(this._inviteOnLoad,.45,{opacity:0,ease:Quad.easeInOut,onComplete:function(){e.hideInvites(!1)}}):(this._inviteOnLoad.hide(),this._inviteLayer.style.display="none"))},e.prototype.defaultConfig=function(){var t=$.extend({},u.isMobile()?e.DefaultMobileConfig:e.DefaultConfig);return null!=n.ShowHighlight&&(t.highlightInteractions=n.ShowHighlight),null!=n.ShowInvites&&(t.showInvites=n.ShowInvites),null!=n.ShowToolbar&&(t.showToolbar=n.ShowToolbar,t.showToolbar===!1&&(t.showToolbarToggle=!1)),null!=n.ShowNotes&&(t.showAnnotations=n.ShowNotes),null!=n.ShowLoadingIndicator&&(t.showLoadingIndicator=n.ShowLoadingIndicator),null!=n.ShowChrome&&(t.showChrome=n.ShowChrome),t},e.prototype.prototypePrefsKey=function(){return document.location.href},e.prototype.loadPrefs=function(){i.storage.isAvailable()?this._prefs=i.storage.local(this.prototypePrefsKey())||{}:this._prefs={}},e.prototype.savePrefs=function(){i.storage.local(this.prototypePrefsKey(),this._prefs)},e.prototype.createPlayerFromUrl=function(t,e,i){this._player&&this._player.dispose(),this._player=r.Player.fromUrl(t,this._prototype,e,i),this.configurePlayer()},e.prototype.configurePlayer=function(){var t=this;this._player.sizeChanged().subscribe(function(e){return t.notifySizeChanged()}),this._player.runningInteraction().subscribe(function(e){return t.notifyRunningInteraction(e)}),this._player.stateReached().subscribe(function(e){return t.notifyStateReached(e)}),this._player.switchingToState().subscribe(function(e){return t.notifySwitchingToState(e)}),this._player.failed().subscribe(function(e){return t.onError(e)}),this._player.rootConfigured().subscribe(function(e){return t.onPlayerRootConfigured(e)}),this._player.showAnnotations=this.showAnnotations,this._player.highlightInteractions=this.highlightInteractions,this._player.openingAnimations=this.openingAnimations,this._player.transtionsAtEndOfTimeline=this.transtionsAtEndOfTimeline,this._player.showChrome=this.showChrome},e.prototype.onPlayerRootConfigured=function(t){this._playerRootConfigured&&this._playerRootConfigured.trigger(t)},e.prototype.onError=function(t){if(t.code==l.ErrorCode.NotAuthorized){var e=window.document.location;if(n.EnableAuthenticationPage){var r="?ref="+encodeURIComponent(e.pathname+e.search+e.hash);this._projectPath&&(r+="&p="+encodeURIComponent(i.path.getFolder(this._projectPath)));var o=i.env.baseURI();return void(!o||u.support.baseOnHref()?e.href=n.AuthenticationPage+r:e.href=i.path.combine(o,n.AuthenticationPage+r))}}var s="error_unknown_error";t.code===h.ErrorCode.InvalidScreen||t.code===h.ErrorCode.RenderFailed?s="error_prototype_load":t.code===h.ErrorCode.ScreenCannotBeFound?s="error_screen_not_available":t.code===p.ProjectCannotBeFound&&(s="error_prototype_not_found"),this.showError(s),this._failed&&this._failed.trigger(t)},e.prototype.showError=function(t){var n=this;if(this._errorLayer){var r=$(this._errorLayer);r.empty().show();var o=e.Errors[t];if(o){var s=$('<div class="player-error">').attr("id",t);o.content&&s.append($(o.content)),o.showClose&&!$(this._prototype).is(":empty")?(r.addClass("closeable"),s.addClass("closeable"),s.append('<div class="dialog-buttons"><button class="player-button" data-translate-id="player-shell.error-ok-button">OK</button>'),$(s).find(".player-button").on("click",function(){return n.hideError(t)})):$(this._prototype).empty(),i.locale.translateElement(s[0]),s.appendTo(r)}}},e.prototype.hideError=function(t){if(this._errorLayer){var e=$(this._errorLayer);t?$("#"+t).remove():e.empty(),e.is(":empty")&&e.hide(),0==e.find(".player-error.closeable").length&&e.removeClass("closeable")}},e}();f.Errors={error_browser_version_error:{content:"<div>Oops!</div><div>Looks like your browser is not supported, please update to IE9+.</div>"},error_prototype_not_found:{content:"<div>Hmm... We can't find this prototype any longer.</div><div>Can you double-check your link?<br/>If this keeps showing, you may want to ask the person who shared it to share it again with you.</div>"},error_screen_not_available:{content:"<div data-translate-id='player-shell.error-not-available-title'>Oops!</div><div data-translate-id='player-shell.error-not-available'>Looks like a screen is missing from the<br/>prototype.</div>",showClose:!0},error_prototype_load:{content:"<div data-translate-id='player-shell.error-prototype-load-title'>Hmm... We can't load this prototype.</div><div data-translate-id='player-shell.error-prototype-load'>If this keeps showing, you might want to try with another browser (though all modern ones are supported) or check our <a target=\"_blank\" href=\"http://www.infragistics.com/community/forums/default.aspx?GroupID=96\">user forums</a>.</div>"},error_unknown_error:{content:"<div data-translate-id='player-shell.error-unknown-title'>We stumbled upon a bug while trying to render your prototype.</div><div data-translate-id='player-shell.error-unknown'>Sorry about that. You can try reloading the page --sometimes that helps.<br/>If this keeps happening, let us know so that we can look into it for you. The more you tell us about what you were doing when you ran into this, the better we'll be able to help you.</div>"}},f.DefaultConfig={showToolbar:!0,showLoadingIndicator:!0,showAnnotations:!0,highlightInteractions:!1,openingAnimations:!0,transitionsAtEndOfTimeline:!0,showChrome:!0,showToolbarToggle:!0},f.DefaultMobileConfig=$.extend({},f.DefaultConfig,{showToolbar:null,showChrome:!1,showAnnotations:!1,highlightInteractions:!1,showToolbarToggle:!1}),e.PlayerShell=f});